<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±±é‡éŸ³ä¹ - ä¸“ä¸šAIéŸ³ä¹æç¤ºè¯ç”Ÿæˆå·¥å…·V2.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- ä¸“ä¸šè‰²å½©é…ç½® -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // ä¸»è‰²è°ƒï¼šç»¿è‰²ç³»
                        primary: {
                            light: '#E8F5E9',
                            DEFAULT: '#2E8B57',
                            dark: '#1B5E20',
                        },
                        // å‰¯è‰²è°ƒï¼šç´«è‰²ç³»
                        secondary: {
                            light: '#F3E5F5',
                            DEFAULT: '#9B5DE5',
                            dark: '#7B1FA2',
                        },
                        // å¼ºè°ƒè‰²ï¼šæ¸å˜è‰²
                        accent: {
                            light: '#D1F2EB',
                            DEFAULT: '#4CAF50',
                            dark: '#388E3C',
                        },
                        // ä¸“å®¶æ¨¡å¼è‰²
                        expert: {
                            light: '#FFF3E0',
                            DEFAULT: '#FF9800',
                            dark: '#F57C00',
                        },
                        // ä¸­æ€§è‰²
                        neutral: {
                            50: '#FAFAFA',
                            100: '#F5F5F5',
                            200: '#EEEEEE',
                            300: '#E0E0E0',
                            400: '#BDBDBD',
                            500: '#9E9E9E',
                            600: '#757575',
                            700: '#616161',
                            800: '#424242',
                            900: '#212121',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                        noto: ['Noto Sans SC', 'system-ui', 'sans-serif'],
                    },
                    backgroundImage: {
                        'green-purple-gradient': 'linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%)',
                        'green-purple-light': 'linear-gradient(135deg, rgba(46, 139, 87, 0.1) 0%, rgba(155, 93, 229, 0.1) 100%)',
                        'green-light-gradient': 'linear-gradient(135deg, #E8F5E9 0%, #F3E5F5 100%)',
                        'card-gradient': 'linear-gradient(135deg, rgba(46, 139, 87, 0.05) 0%, rgba(155, 93, 229, 0.05) 100%)',
                        'expert-gradient': 'linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(46, 139, 87, 0.1) 100%)',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'spin-slow': 'spin 3s linear infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    },
                    boxShadow: {
                        'soft': '0 4px 20px rgba(0, 0, 0, 0.05)',
                        'elegant': '0 8px 30px rgba(46, 139, 87, 0.08)',
                        'elegant-lg': '0 15px 40px rgba(46, 139, 87, 0.10)',
                        'inner-elegant': 'inset 0 2px 10px rgba(46, 139, 87, 0.05)',
                        'expert': '0 8px 30px rgba(255, 152, 0, 0.12)',
                    },
                    borderRadius: {
                        'xl': '12px',
                        '2xl': '16px',
                        '3xl': '20px'
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .scrollbar-thin {
                scrollbar-width: thin;
            }
            .scrollbar-thin::-webkit-scrollbar {
                width: 6px;
            }
            .scrollbar-thin::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            .scrollbar-thin::-webkit-scrollbar-thumb {
                background: linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%);
                border-radius: 10px;
            }
            .scrollbar-thin::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(135deg, #1B5E20 0%, #7B1FA2 100%);
            }
            .card-shadow {
                box-shadow: 0 8px 30px rgba(46, 139, 87, 0.08);
            }
            .card-hover {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 15px 40px rgba(46, 139, 87, 0.12);
            }
            .selected-item {
                background: linear-gradient(135deg, rgba(46, 139, 87, 0.08) 0%, rgba(155, 93, 229, 0.08) 100%);
                border-color: #2E8B57;
            }
            .gradient-text {
                background: linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            .gradient-bg {
                background: linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%);
            }
            .expert-gradient-text {
                background: linear-gradient(135deg, #FF9800 0%, #2E8B57 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            .expert-gradient-bg {
                background: linear-gradient(135deg, #FF9800 0%, #2E8B57 100%);
            }
            @keyframes float {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-8px); }
            }
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateY(10px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            .glass-effect {
                background: rgba(255, 255, 255, 0.85);
                backdrop-filter: blur(12px);
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
            .input-focus {
                transition: all 0.3s ease;
            }
            .input-focus:focus {
                box-shadow: 0 0 0 3px rgba(46, 139, 87, 0.15);
                border-color: #2E8B57;
            }
            .expert-input-focus:focus {
                box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.15);
                border-color: #FF9800;
            }
        }
        
        /* è‡ªå®šä¹‰å¤é€‰æ¡†æ ·å¼ */
        input[type="checkbox"] {
            accent-color: #2E8B57;
        }
        
        /* ä¸“å®¶æ¨¡å¼å¤é€‰æ¡† */
        .expert-checkbox:checked {
            accent-color: #FF9800;
        }
        
        /* è¿‡æ¸¡æ•ˆæœ */
        .transition-all-custom {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* é¢„è®¾å¡ç‰‡æ ·å¼ */
        .preset-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .preset-card:hover {
            transform: translateY(-5px);
            border-color: #2E8B57;
            box-shadow: 0 12px 30px rgba(46, 139, 87, 0.12);
        }
        
        .preset-card.selected {
            border-color: #2E8B57;
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.05) 0%, rgba(155, 93, 229, 0.05) 100%);
        }
        
        .prompt-card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .prompt-card:hover .copy-btn {
            opacity: 1;
        }
        
        /* æ ‡ç­¾æ ·å¼ */
        .tag {
            display: inline-flex;
            align-items: center;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        /* ç¾åŒ–æ»šåŠ¨æ¡ */
        .custom-scrollbar {
            scrollbar-width: thin;
            scrollbar-color: #2E8B57 #f1f1f1;
        }
        
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f5f5f5;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%);
            border-radius: 10px;
        }
        
        /* ä¸“å®¶æ¨¡å¼æ»šåŠ¨æ¡ */
        .expert-scrollbar::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #FF9800 0%, #2E8B57 100%);
        }
        
        /* æ¸å˜è¾¹æ¡†æ•ˆæœ */
        .gradient-border {
            position: relative;
            border-radius: 12px;
            background: white;
        }
        
        .gradient-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(135deg, #2E8B57 0%, #9B5DE5 100%);
            border-radius: 14px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .gradient-border:hover::before {
            opacity: 1;
        }
        
        /* ä¸“å®¶æ¨¡å¼è¾¹æ¡† */
        .expert-border::before {
            background: linear-gradient(135deg, #FF9800 0%, #2E8B57 100%);
        }
        
        /* æŠ˜å é¢æ¿æ ·å¼ */
        .collapse-panel {
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        /* æœç´¢æ¡†æ ·å¼ */
        .search-highlight {
            background-color: rgba(255, 235, 59, 0.3);
            border-radius: 2px;
        }
        
        /* æ‹–æ‹½æ ·å¼ */
        .sortable-ghost {
            opacity: 0.4;
            background: #f1f1f1;
        }
        
        .sortable-chosen {
            background: linear-gradient(135deg, rgba(46, 139, 87, 0.05) 0%, rgba(155, 93, 229, 0.05) 100%);
        }
        
        /* æ ‡ç­¾è®¡æ•°å¾½ç«  */
        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 20px;
            height: 20px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: 600;
            padding: 0 6px;
        }
        
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .mobile-stack {
                flex-direction: column;
            }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-primary-light via-white to-secondary-light font-noto min-h-screen text-neutral-800">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="gradient-bg text-white shadow-elegant sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center gap-4 mb-4 md:mb-0">
                    <div class="bg-white/20 p-3 rounded-full animate-pulse-slow">
                        <i class="fa fa-music text-white text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl md:text-3xl font-bold tracking-tight">å±±é‡éŸ³ä¹ AIæç¤ºè¯ç”Ÿæˆå·¥å…·</h1>
                        <p class="text-white/95 text-sm md:text-base mt-1">V2.0 - å…¨ç½‘æœ€å…¨é¢éŸ³ä¹å…ƒæ ‡ç­¾åº“ï¼Œä¸“ä¸šæ­Œæ‰‹æŒ‡å¯¼ï¼Œå°ç™½ä¹Ÿèƒ½åˆ›ä½œé«˜è´¨é‡æ­Œæ›²</p>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="bg-white text-primary-dark px-5 py-2.5 rounded-full font-medium shadow-sm">
                        <span class="text-sm md:text-base">åˆ›ä½œæºäºè‡ªç„¶ï¼ŒéŸ³ä¹å›å½’å±±é‡</span>
                    </div>
                    <div class="hidden md:flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-white animate-pulse"></div>
                        <div class="w-3 h-3 rounded-full bg-white animate-pulse" style="animation-delay: 0.2s"></div>
                        <div class="w-3 h-3 rounded-full bg-white animate-pulse" style="animation-delay: 0.4s"></div>
                    </div>
                </div>
            </div>
            
            <!-- å·¥å…·æ¡ -->
            <div class="mt-4 flex flex-wrap gap-3">
                <button id="toggleExpertMode" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-full text-sm flex items-center gap-2 transition-all-custom">
                    <i class="fa fa-flask"></i>
                    <span>ä¸“å®¶æ¨¡å¼</span>
                    <span id="expertModeBadge" class="badge bg-white text-primary-dark hidden">å¼€</span>
                </button>
                
                <button id="toggleAllSections" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-full text-sm flex items-center gap-2 transition-all-custom">
                    <i class="fa fa-expand"></i>
                    <span>å±•å¼€/æ”¶èµ·æ‰€æœ‰</span>
                </button>
                
                <button id="saveConfigBtn" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-full text-sm flex items-center gap-2 transition-all-custom">
                    <i class="fa fa-save"></i>
                    <span>ä¿å­˜é…ç½®</span>
                </button>
                
                <button id="loadConfigBtn" class="px-4 py-2 bg-white/20 hover:bg-white/30 rounded-full text-sm flex items-center gap-2 transition-all-custom">
                    <i class="fa fa-folder-open"></i>
                    <span>åŠ è½½é…ç½®</span>
                </button>
                
                <div class="relative ml-auto">
                    <input type="text" id="searchTags" placeholder="æœç´¢æ ‡ç­¾..." class="pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-full text-sm placeholder-white/70 focus:outline-none focus:bg-white/30 focus:border-white/50 w-48 transition-all-custom">
                    <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70"></i>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- ä¸“ä¸šæ­Œæ‰‹å¼•å¯¼ - å¢å¼ºç‰ˆ -->
        <div class="max-w-6xl mx-auto mb-10 animate-fade-in">
            <div class="bg-white rounded-2xl p-6 mb-6 card-hover card-shadow border border-neutral-100">
                <div class="flex flex-col md:flex-row items-start gap-5">
                    <div class="gradient-bg text-white p-3 rounded-full shadow-lg animate-pulse-slow">
                        <i class="fa fa-microphone text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex flex-wrap items-center gap-3 mb-3">
                            <h3 class="font-bold text-neutral-800 text-xl">æ¥è‡ªä¸“ä¸šæ­Œæ‰‹çš„åˆ›ä½œå»ºè®®</h3>
                            <span class="tag bg-primary/10 text-primary-dark border border-primary/20">ä¸“ä¸šæŒ‡å¯¼</span>
                            <span class="tag bg-expert/10 text-expert-dark border border-expert/20">V2.0å…¨æ–°å‡çº§</span>
                            <span class="tag gradient-bg text-white">å…¨ç½‘æœ€å…¨æ ‡ç­¾åº“</span>
                        </div>
                        <p class="text-neutral-700 leading-relaxed">ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘æ·±çŸ¥éŸ³ä¹åˆ›ä½œçš„ä¸æ˜“ã€‚V2.0ç‰ˆæœ¬æ•´åˆäº†å…¨ç½‘æœ€å…¨é¢çš„éŸ³ä¹å…ƒæ ‡ç­¾åº“ï¼ŒåŒ…å«<strong class="text-primary-dark">150+éŸ³ä¹é£æ ¼ã€80+æƒ…ç»ªç±»å‹ã€200+ä¹å™¨é…ç½®</strong>ç­‰ä¸Šåƒä¸ªä¸“ä¸šå‚æ•°ã€‚å³ä½¿ä½ æ˜¯éŸ³ä¹å°ç™½ï¼Œåªéœ€é€‰æ‹©ä½ æƒ³è¦çš„éŸ³ä¹æ„Ÿè§‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸“ä¸šæç¤ºè¯ï¼ŒåŠ©ä½ åˆ›ä½œå‡ºé«˜è´¨é‡æ­Œæ›²ï¼<br><strong class="text-primary-dark">V2.0æ–°å¢ï¼šä¸“å®¶æ¨¡å¼ã€é…ç½®ä¿å­˜ã€æ ‡ç­¾æœç´¢ã€æ™ºèƒ½åˆ†ç±»æ’åºï¼</strong></p>
                        <div class="flex flex-wrap gap-3 mt-5">
                            <div class="tag bg-primary/10 text-primary-dark border border-primary/20 flex items-center gap-2">
                                <i class="fa fa-check-circle text-xs"></i>
                                <span>æ–°æ‰‹å‹å¥½</span>
                            </div>
                            <div class="tag bg-secondary/10 text-secondary-dark border border-secondary/20 flex items-center gap-2">
                                <i class="fa fa-star text-xs"></i>
                                <span>ä¸“ä¸šçº§æç¤ºè¯</span>
                            </div>
                            <div class="tag gradient-bg text-white flex items-center gap-2">
                                <i class="fa fa-bolt text-xs"></i>
                                <span>ä¸€é”®ç”Ÿæˆ</span>
                            </div>
                            <div class="tag bg-accent/10 text-accent-dark border border-accent/20 flex items-center gap-2">
                                <i class="fa fa-lightbulb-o text-xs"></i>
                                <span>åˆ›æ„æ¿€å‘</span>
                            </div>
                            <div class="tag bg-expert/10 text-expert-dark border border-expert/20 flex items-center gap-2">
                                <i class="fa fa-random text-xs"></i>
                                <span>æ™ºèƒ½éšæœº</span>
                            </div>
                            <div class="tag bg-gradient-to-r from-primary/10 to-secondary/10 text-neutral-700 border border-primary/20 flex items-center gap-2">
                                <i class="fa fa-search text-xs"></i>
                                <span>æ ‡ç­¾æœç´¢</span>
                            </div>
                            <div class="tag bg-gradient-to-r from-expert/10 to-primary/10 text-neutral-700 border border-expert/20 flex items-center gap-2">
                                <i class="fa fa-flask text-xs"></i>
                                <span>ä¸“å®¶æ¨¡å¼</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å¿«é€Ÿé¢„è®¾åŒºåŸŸ -->
        <div class="mb-12 animate-fade-in">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
                <div>
                    <h2 class="text-2xl md:text-3xl font-bold gradient-text flex items-center gap-3 mb-2">
                        <i class="fa fa-star text-primary"></i>
                        çƒ­é—¨é£æ ¼é¢„è®¾
                    </h2>
                    <div class="text-neutral-600 text-sm md:text-base">ç‚¹å‡»é¢„è®¾ä¸€é”®åº”ç”¨ï¼Œå¿«é€Ÿå¼€å§‹åˆ›ä½œ</div>
                </div>
                <div class="mt-4 md:mt-0">
                    <div class="flex items-center gap-2 text-sm text-neutral-600">
                        <div class="h-2 w-24 bg-gradient-to-r from-primary to-secondary rounded-full overflow-hidden">
                            <div class="h-full bg-gradient-to-r from-primary to-secondary" style="width: 80%"></div>
                        </div>
                        <span>å·²ç”Ÿæˆ <span class="font-bold text-primary" id="totalGenerations">0</span> ä¸ªæç¤ºè¯</span>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-5" id="presetContainer">
                <!-- é¢„è®¾å¡ç‰‡å°†é€šè¿‡JSç”Ÿæˆ -->
            </div>
            
            <!-- æ™ºèƒ½éšæœºç»„åˆæŒ‰é’® -->
            <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center">
                <button id="randomSelectBtn" class="px-8 py-4 rounded-full gradient-bg text-white font-bold hover:opacity-90 transition-all-custom flex items-center gap-4 shadow-elegant hover:shadow-elegant-lg animate-pulse-slow">
                    <i class="fa fa-random text-xl animate-spin-slow"></i>
                    <span class="text-lg">ğŸ² æ™ºèƒ½éšæœºç»„åˆ</span>
                    <span class="text-sm opacity-80">(èåˆ6565ç®—æ³•ï¼Œæ¯æ¬¡éƒ½æœ‰æ–°çµæ„Ÿ)</span>
                    <i class="fa fa-chevron-right"></i>
                </button>
                
                <button id="expertRandomBtn" class="px-8 py-4 rounded-full expert-gradient-bg text-white font-bold hover:opacity-90 transition-all-custom flex items-center gap-4 shadow-expert hover:shadow-elegant-lg">
                    <i class="fa fa-magic text-xl"></i>
                    <span class="text-lg">âœ¨ ä¸“å®¶çº§éšæœº</span>
                    <span class="text-sm opacity-80">(åŸºäºéŸ³ä¹ç†è®ºçš„æ™ºèƒ½ç»„åˆ)</span>
                    <i class="fa fa-chevron-right"></i>
                </button>
            </div>
        </div>
        
        <!-- æ ‡ç­¾æœç´¢æç¤º -->
        <div id="searchResults" class="hidden bg-white rounded-2xl p-6 mb-8 card-shadow border border-accent/30">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-bold text-neutral-800 flex items-center gap-3">
                    <i class="fa fa-search text-accent"></i>
                    <span>æœç´¢ç»“æœ</span>
                </h3>
                <button id="clearSearch" class="px-4 py-2 bg-neutral-100 text-neutral-600 rounded-lg hover:bg-neutral-200 transition-all-custom">
                    æ¸…é™¤æœç´¢
                </button>
            </div>
            <div id="searchResultsContainer" class="text-neutral-600">
                <!-- æœç´¢ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- å·¦ä¾§ï¼šå‚æ•°é€‰æ‹©åŒº -->
            <div class="lg:col-span-2">
                <!-- åŸºç¡€å‚æ•°åŒº -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold gradient-text flex items-center gap-3">
                            <i class="fa fa-sliders"></i>
                            åŸºç¡€éŸ³ä¹å‚æ•°
                        </h3>
                        <div class="text-sm text-neutral-500">
                            <button id="toggleBasic" class="px-3 py-1 bg-neutral-100 rounded-lg hover:bg-neutral-200 transition-all-custom">
                                <i class="fa fa-chevron-up"></i> æ”¶èµ·
                            </button>
                        </div>
                    </div>
                    
                    <div id="basicParams" class="collapse-panel grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- éŸ³ä¹é£æ ¼ -->
                        <div class="bg-white rounded-2xl p-6 card-shadow card-hover border border-neutral-100">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-primary rounded-full"></div>
                                    <span class="text-lg">éŸ³ä¹é£æ ¼</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="musicStylesCount" class="badge bg-primary text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar pr-2 mb-4" id="musicStylesContainer">
                                <div class="space-y-2" id="musicStyles"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="musicStylesTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-primary hover:text-primary-dark" data-category="musicStyles">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- æƒ…ç»ªç±»å‹ -->
                        <div class="bg-white rounded-2xl p-6 card-shadow card-hover border border-neutral-100">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-secondary rounded-full"></div>
                                    <span class="text-lg">æƒ…ç»ªæ°›å›´</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="emotionsCount" class="badge bg-secondary text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar pr-2 mb-4" id="emotionsContainer">
                                <div class="space-y-2" id="emotions"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="emotionsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-primary hover:text-primary-dark" data-category="emotions">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- èŠ‚æ‹ç±»å‹ -->
                        <div class="bg-white rounded-2xl p-6 card-shadow card-hover border border-neutral-100">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-accent rounded-full"></div>
                                    <span class="text-lg">èŠ‚æ‹èŠ‚å¥</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="beatsCount" class="badge bg-accent text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar pr-2 mb-4" id="beatsContainer">
                                <div class="space-y-2" id="beats"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="beatsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-primary hover:text-primary-dark" data-category="beats">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- ä¹å™¨é…ç½® -->
                        <div class="bg-white rounded-2xl p-6 card-shadow card-hover border border-neutral-100">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-b from-primary to-secondary rounded-full"></div>
                                    <span class="text-lg">ä¹å™¨é…ç½®</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="instrumentsCount" class="badge bg-gradient-to-br from-primary to-secondary text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar pr-2 mb-4" id="instrumentsContainer">
                                <div class="space-y-2" id="instruments"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="instrumentsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-primary hover:text-primary-dark" data-category="instruments">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ä¸“å®¶å‚æ•°åŒº (é»˜è®¤éšè—) -->
                <div class="mb-8" id="expertParamsSection">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold expert-gradient-text flex items-center gap-3">
                            <i class="fa fa-flask text-expert"></i>
                            ä¸“å®¶çº§å‚æ•°
                            <span class="tag bg-expert/10 text-expert-dark border border-expert/20 text-xs">ä¸“å®¶æ¨¡å¼</span>
                        </h3>
                        <div class="text-sm text-neutral-500">
                            <button id="toggleExpert" class="px-3 py-1 bg-neutral-100 rounded-lg hover:bg-neutral-200 transition-all-custom">
                                <i class="fa fa-chevron-down"></i> å±•å¼€
                            </button>
                        </div>
                    </div>
                    
                    <div id="expertParams" class="collapse-panel hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- æ—‹å¾‹ç±»å‹ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-expert rounded-full"></div>
                                    <span class="text-lg">æ—‹å¾‹ç±»å‹</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="melodiesCount" class="badge bg-expert text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="melodiesContainer">
                                <div class="space-y-2" id="melodies"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="melodiesTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="melodies">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- å’Œå£°ç±»å‹ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-b from-expert to-accent rounded-full"></div>
                                    <span class="text-lg">å’Œå£°ç±»å‹</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="harmoniesCount" class="badge bg-gradient-to-br from-expert to-accent text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="harmoniesContainer">
                                <div class="space-y-2" id="harmonies"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="harmoniesTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="harmonies">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- èŠ‚å¥ç±»å‹ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-b from-accent to-expert rounded-full"></div>
                                    <span class="text-lg">èŠ‚å¥ç±»å‹</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="rhythmsCount" class="badge bg-gradient-to-br from-accent to-expert text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="rhythmsContainer">
                                <div class="space-y-2" id="rhythms"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="rhythmsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="rhythms">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- æ°›å›´æ•ˆæœå™¨ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-r from-expert to-secondary rounded-full"></div>
                                    <span class="text-lg">æ°›å›´æ•ˆæœå™¨</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="effectsCount" class="badge bg-gradient-to-r from-expert to-secondary text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="effectsContainer">
                                <div class="space-y-2" id="effects"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="effectsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="effects">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- ä¸­å›½é£ä¹å™¨ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-r from-primary to-accent rounded-full"></div>
                                    <span class="text-lg">ä¸­å›½é£ä¹å™¨</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="chineseInstrumentsCount" class="badge bg-gradient-to-r from-primary to-accent text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="chineseInstrumentsContainer">
                                <div class="space-y-2" id="chineseInstruments"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="chineseInstrumentsTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="chineseInstruments">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- äººå£°é£æ ¼ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-r from-secondary to-expert rounded-full"></div>
                                    <span class="text-lg">äººå£°é£æ ¼</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="vocalStylesCount" class="badge bg-gradient-to-r from-secondary to-expert text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="vocalStylesContainer">
                                <div class="space-y-2" id="vocalStyles"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="vocalStylesTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="vocalStyles">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- è¯­ç§ç§ç±» -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-r from-accent to-primary rounded-full"></div>
                                    <span class="text-lg">è¯­ç§ç§ç±»</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="languagesCount" class="badge bg-gradient-to-r from-accent to-primary text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="languagesContainer">
                                <div class="space-y-2" id="languages"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="languagesTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="languages">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                        
                        <!-- æ­Œæ›²ç»“æ„ -->
                        <div class="bg-gradient-to-br from-white to-expert-light/10 rounded-2xl p-6 card-shadow card-hover border border-expert/20">
                            <div class="flex justify-between items-center mb-5">
                                <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                    <div class="w-3 h-8 bg-gradient-to-r from-primary to-expert rounded-full"></div>
                                    <span class="text-lg">æ­Œæ›²ç»“æ„</span>
                                </h4>
                                <div class="flex items-center gap-3">
                                    <span id="structuresCount" class="badge bg-gradient-to-r from-primary to-expert text-white">0</span>
                                    <button class="px-3 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-lg hover:bg-neutral-200 transition-all-custom toggle-section">
                                        <i class="fa fa-chevron-up text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="h-64 overflow-y-auto custom-scrollbar expert-scrollbar pr-2 mb-4" id="structuresContainer">
                                <div class="space-y-2" id="structures"></div>
                            </div>
                            <div class="text-xs text-neutral-500 flex justify-between">
                                <span>å…± <span id="structuresTotal">0</span> ä¸ªé€‰é¡¹</span>
                                <button class="select-random-category text-expert hover:text-expert-dark" data-category="structures">
                                    <i class="fa fa-random mr-1"></i>éšæœºé€‰æ‹©
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- è¿›é˜¶è®¾ç½® -->
                <div class="bg-white rounded-2xl p-6 card-shadow mb-8 card-hover border border-neutral-100">
                    <h3 class="font-bold text-neutral-800 mb-6 flex items-center gap-3 text-lg">
                        <i class="fa fa-sliders text-primary"></i>
                        <span>è¿›é˜¶è®¾ç½®</span>
                    </h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                        <!-- éŸ³è´¨å‚æ•° -->
                        <div>
                            <h4 class="font-medium text-neutral-700 mb-4 flex items-center gap-2">
                                <i class="fa fa-volume-up text-sm text-primary"></i>
                                <span>éŸ³è´¨å‚æ•°</span>
                            </h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="text-sm text-neutral-600 mb-2 block">éŸ³é¢‘è´¨é‡</label>
                                    <select id="audioQuality" class="w-full p-3 border border-neutral-200 rounded-xl focus:outline-none focus:border-primary input-focus">
                                        <option value="é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³">é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³</option>
                                        <option value="æ ‡å‡†è´¨é‡ï¼Œé€‚åˆæµåª’ä½“">æ ‡å‡†è´¨é‡ï¼Œé€‚åˆæµåª’ä½“</option>
                                        <option value="ä½ä¿çœŸï¼Œå¤å¤æ•ˆæœ">ä½ä¿çœŸï¼Œå¤å¤æ•ˆæœ</option>
                                        <option value="å®éªŒæ€§éŸ³è´¨">å®éªŒæ€§éŸ³è´¨</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="text-sm text-neutral-600 mb-2 block">åŠ¨æ€èŒƒå›´</label>
                                    <select id="dynamicRange" class="w-full p-3 border border-neutral-200 rounded-xl focus:outline-none focus:border-primary input-focus">
                                        <option value="ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼">ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼</option>
                                        <option value="å¹³ç¨³ï¼Œé€‚åˆèƒŒæ™¯éŸ³ä¹">å¹³ç¨³ï¼Œé€‚åˆèƒŒæ™¯éŸ³ä¹</option>
                                        <option value="å¼ºçƒˆå¯¹æ¯”ï¼Œæˆå‰§æ€§æ•ˆæœ">å¼ºçƒˆå¯¹æ¯”ï¼Œæˆå‰§æ€§æ•ˆæœ</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- æ—¶é•¿ä¸æ ¼å¼ -->
                        <div>
                            <h4 class="font-medium text-neutral-700 mb-4 flex items-center gap-2">
                                <i class="fa fa-clock-o text-sm text-primary"></i>
                                <span>æ—¶é•¿ä¸æ ¼å¼</span>
                            </h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="text-sm text-neutral-600 mb-2 block">æ­Œæ›²æ—¶é•¿</label>
                                    <select id="songDuration" class="w-full p-3 border border-neutral-200 rounded-xl focus:outline-none focus:border-primary input-focus">
                                        <option value="3-4åˆ†é’Ÿ">3-4åˆ†é’Ÿï¼ˆæ ‡å‡†æµè¡Œæ­Œæ›²ï¼‰</option>
                                        <option value="2-3åˆ†é’Ÿ">2-3åˆ†é’Ÿï¼ˆçŸ­è§†é¢‘å‹å¥½ï¼‰</option>
                                        <option value="4-5åˆ†é’Ÿ">4-5åˆ†é’Ÿï¼ˆå®Œæ•´ä½œå“ï¼‰</option>
                                        <option value="5åˆ†é’Ÿä»¥ä¸Š">5åˆ†é’Ÿä»¥ä¸Šï¼ˆé•¿ç¯‡ä½œå“ï¼‰</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="text-sm text-neutral-600 mb-2 block">è¾“å‡ºæ ¼å¼</label>
                                    <select id="outputFormat" class="w-full p-3 border border-neutral-200 rounded-xl focus:outline-none focus:border-primary input-focus">
                                        <option value="ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3">ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3</option>
                                        <option value="MP3 320kbps">MP3 320kbps</option>
                                        <option value="FLACæ— æŸ">FLACæ— æŸ</option>
                                        <option value="å¤šè½¨é“æ–‡ä»¶">å¤šè½¨é“æ–‡ä»¶</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- è‡ªå®šä¹‰è¾“å…¥ -->
                    <div class="mt-8 pt-8 border-t border-neutral-200">
                        <h4 class="font-medium text-neutral-700 mb-4 flex items-center gap-2 text-lg">
                            <i class="fa fa-edit text-primary"></i>
                            <span>æ­Œæ›²çµæ„Ÿæè¿°ï¼ˆä¸“ä¸šæ­Œæ‰‹å»ºè®®ï¼‰</span>
                        </h4>
                        <textarea id="customInput" placeholder="ä½œä¸ºæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ä½ ï¼šæè¿°æ­Œæ›²çš„åœºæ™¯ã€æ•…äº‹æˆ–æƒ…æ„Ÿã€‚ä¾‹å¦‚ï¼š'ä¸€é¦–å…³äºå±±é—´æ¸…æ™¨çš„æ­Œæ›²ï¼Œé˜³å…‰é€è¿‡æ ‘å¶ï¼Œé¸Ÿé¸£å£°å£°ï¼Œå¸¦ç€å¸Œæœ›å’Œæ–°ç”Ÿæ„Ÿ...'" class="w-full h-36 p-5 border border-neutral-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none input-focus"></textarea>
                        <div class="flex justify-between items-center mt-4">
                            <div class="text-sm text-neutral-500 flex items-center gap-2">
                                <i class="fa fa-info-circle text-primary"></i>
                                <span>è¯¦ç»†æè¿°èƒ½è®©AIæ›´å‡†ç¡®ç†è§£ä½ çš„åˆ›ä½œæ„å›¾</span>
                            </div>
                            <div id="charCount" class="text-sm font-medium text-neutral-500">0/500</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å³ä¾§ï¼šç»“æœé¢„è§ˆåŒº -->
            <div class="lg:col-span-1">
                <div class="sticky top-8">
                    <!-- é¢„è§ˆæ ‡é¢˜å’Œæ“ä½œ -->
                    <div class="bg-white rounded-2xl p-6 card-shadow mb-8 card-hover border border-neutral-100">
                        <div class="flex justify-between items-center mb-8">
                            <h3 class="font-bold text-2xl gradient-text">æç¤ºè¯é¢„è§ˆ</h3>
                            <div class="flex gap-3">
                                <button id="refreshPreviewBtn" class="p-3 rounded-full bg-neutral-100 hover:bg-neutral-200 transition-all-custom" title="åˆ·æ–°é¢„è§ˆ">
                                    <i class="fa fa-refresh text-neutral-600"></i>
                                </button>
                                <button id="clearAllBtn" class="p-3 rounded-full bg-neutral-100 hover:bg-neutral-200 transition-all-custom" title="æ¸…ç©ºæ‰€æœ‰é€‰æ‹©">
                                    <i class="fa fa-trash text-neutral-600"></i>
                                </button>
                                <button id="copyPromptBtn" class="px-5 py-3 rounded-xl gradient-bg text-white font-medium hover:opacity-90 transition-all-custom flex items-center gap-2 shadow-md">
                                    <i class="fa fa-copy"></i>
                                    <span>å¤åˆ¶æç¤ºè¯</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- é¢„è§ˆåŒºåŸŸ -->
                        <div class="space-y-6">
                            <!-- è‹±æ–‡æç¤ºè¯ -->
                            <div class="prompt-card p-5 card-hover">
                                <div class="flex justify-between items-center mb-4">
                                    <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                        <div class="p-2 bg-secondary/10 rounded-lg">
                                            <i class="fa fa-globe text-secondary"></i>
                                        </div>
                                        <span>è‹±æ–‡æç¤ºè¯</span>
                                    </h4>
                                    <button class="copy-btn px-4 py-2 bg-secondary text-white text-sm rounded-lg flex items-center gap-2 copy-single-btn" data-lang="en">
                                        <i class="fa fa-copy text-xs"></i>
                                        <span>å¤åˆ¶</span>
                                    </button>
                                </div>
                                <div id="englishPreview" class="text-neutral-700 text-sm leading-relaxed max-h-64 overflow-y-auto custom-scrollbar pr-2">
                                    Select parameters from the left to generate English prompt here...
                                </div>
                            </div>
                            
                            <!-- ä¸­æ–‡æç¤ºè¯ -->
                            <div class="prompt-card p-5 card-hover">
                                <div class="flex justify-between items-center mb-4">
                                    <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                        <div class="p-2 bg-primary/10 rounded-lg">
                                            <i class="fa fa-language text-primary"></i>
                                        </div>
                                        <span>ä¸­æ–‡æç¤ºè¯</span>
                                    </h4>
                                    <button class="copy-btn px-4 py-2 bg-primary text-white text-sm rounded-lg flex items-center gap-2 copy-single-btn" data-lang="zh">
                                        <i class="fa fa-copy text-xs"></i>
                                        <span>å¤åˆ¶</span>
                                    </button>
                                </div>
                                <div id="chinesePreview" class="text-neutral-700 text-sm leading-relaxed max-h-64 overflow-y-auto custom-scrollbar pr-2">
                                    ä»å·¦ä¾§é€‰æ‹©å‚æ•°ï¼Œä¸­æ–‡æç¤ºè¯å°†åœ¨è¿™é‡Œç”Ÿæˆ...
                                </div>
                            </div>
                            
                            <!-- åŒè¯­å¯¹ç…§ -->
                            <div class="prompt-card p-5 card-hover">
                                <div class="flex justify-between items-center mb-4">
                                    <h4 class="font-bold text-neutral-800 flex items-center gap-3">
                                        <div class="p-2 bg-accent/10 rounded-lg">
                                            <i class="fa fa-exchange text-accent"></i>
                                        </div>
                                        <span>åŒè¯­å¯¹ç…§</span>
                                    </h4>
                                    <button class="copy-btn px-4 py-2 bg-accent text-white text-sm rounded-lg flex items-center gap-2 copy-single-btn" data-lang="both">
                                        <i class="fa fa-copy text-xs"></i>
                                        <span>å¤åˆ¶</span>
                                    </button>
                                </div>
                                <div id="bothPreview" class="text-neutral-700 text-sm leading-relaxed max-h-64 overflow-y-auto custom-scrollbar pr-2">
                                    <div class="mb-4">
                                        <div class="text-xs font-medium text-secondary mb-2">è‹±æ–‡æç¤ºè¯</div>
                                        <div class="text-neutral-600 text-sm">English prompt will appear here...</div>
                                    </div>
                                    <div class="pt-4 border-t border-neutral-200">
                                        <div class="text-xs font-medium text-primary mb-2">ä¸­æ–‡æç¤ºè¯</div>
                                        <div class="text-neutral-600 text-sm">ä¸­æ–‡æç¤ºè¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º...</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å¤åˆ¶æˆåŠŸæç¤º -->
                        <div id="copySuccess" class="hidden mt-6 p-4 bg-green-100 text-green-800 rounded-xl flex items-center gap-3 border border-green-200">
                            <i class="fa fa-check-circle text-lg"></i>
                            <span class="font-medium">å·²æˆåŠŸå¤åˆ¶è‹±æ–‡æç¤ºè¯ï¼</span>
                        </div>
                        
                        <!-- å·²é€‰å‚æ•°æ¦‚è§ˆ -->
                        <div class="mt-8 pt-6 border-t border-neutral-200">
                            <div class="flex justify-between items-center mb-4">
                                <h4 class="font-medium text-neutral-700 text-lg flex items-center gap-2">
                                    <i class="fa fa-list text-primary"></i>
                                    <span>å·²é€‰å‚æ•°æ¦‚è§ˆ</span>
                                </h4>
                                <span id="totalSelectedCount" class="badge bg-primary text-white">0</span>
                            </div>
                            <div id="selectedOverview" class="text-sm text-neutral-600">
                                <p class="text-neutral-400 italic">å°šæœªé€‰æ‹©ä»»ä½•å‚æ•°</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- å†å²è®°å½• -->
                    <div class="bg-white rounded-2xl p-6 card-shadow mb-8 card-hover border border-neutral-100">
                        <div class="flex justify-between items-center mb-5">
                            <h3 class="font-bold text-neutral-800 flex items-center gap-3 text-lg">
                                <i class="fa fa-history text-accent"></i>
                                <span>å†å²è®°å½•</span>
                            </h3>
                            <button id="clearHistoryBtn" class="px-3 py-1 bg-neutral-100 text-neutral-600 text-sm rounded-lg hover:bg-neutral-200 transition-all-custom">
                                æ¸…ç©º
                            </button>
                        </div>
                        <div id="historyList" class="space-y-3 max-h-64 overflow-y-auto custom-scrollbar pr-2">
                            <p class="text-neutral-400 italic text-sm">æš‚æ— å†å²è®°å½•</p>
                        </div>
                    </div>
                    
                    <!-- ä½¿ç”¨æŠ€å·§ -->
                    <div class="bg-white rounded-2xl p-6 card-shadow card-hover border border-neutral-100">
                        <h3 class="font-bold text-neutral-800 mb-5 flex items-center gap-3 text-lg">
                            <i class="fa fa-lightbulb-o text-accent"></i>
                            <span>åˆ›ä½œæŠ€å·§</span>
                        </h3>
                        <div class="space-y-4">
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-check-circle text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">å…ˆä»é¢„è®¾å¼€å§‹ï¼Œå†å¾®è°ƒå‚æ•°ï¼Œå¿«é€Ÿä¸Šæ‰‹</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-check-circle text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">ä½¿ç”¨æ ‡ç­¾æœç´¢åŠŸèƒ½å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€å‚æ•°</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-check-circle text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">æè¿°å…·ä½“åœºæ™¯æ¯”æŠ½è±¡æƒ…æ„Ÿæ›´æ˜“ç”Ÿæˆ</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-check-circle text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">ä½¿ç”¨è‹±æ–‡æç¤ºè¯é€šå¸¸AIç†è§£æ•ˆæœæ›´å¥½</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-check-circle text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">ç”Ÿæˆåä¸æ»¡æ„ï¼Ÿå°è¯•è°ƒæ•´æƒ…ç»ªæˆ–èŠ‚å¥å‚æ•°</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-primary mt-1 bg-primary/10 p-1.5 rounded-full">
                                    <i class="fa fa-random text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">ä½¿ç”¨"æ™ºèƒ½éšæœºç»„åˆ"æ¿€å‘åˆ›ä½œçµæ„Ÿ</div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div class="text-expert mt-1 bg-expert/10 p-1.5 rounded-full">
                                    <i class="fa fa-flask text-xs"></i>
                                </div>
                                <div class="text-sm text-neutral-600">ä¸“å®¶æ¨¡å¼æä¾›æ›´ä¸“ä¸šçš„éŸ³ä¹å‚æ•°é€‰é¡¹</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer class="gradient-bg text-white/95 py-10 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="bg-white/20 p-2.5 rounded-full">
                            <i class="fa fa-music text-white"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-white">å±±é‡éŸ³ä¹ - AIéŸ³ä¹æç¤ºè¯ç”Ÿæˆå·¥å…· V2.0</h2>
                    </div>
                    <p class="text-white/80 text-sm md:text-base">å…¨ç½‘æœ€å…¨é¢éŸ³ä¹å…ƒæ ‡ç­¾åº“ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½åˆ›ä½œå‡ºå¿ƒä¸­çš„éŸ³ä¹ &copy; 2025</p>
                    <p class="text-white/60 text-xs mt-2">èåˆå…¨ç½‘éŸ³ä¹å…ƒæ ‡ç­¾ï¼Œæ™ºèƒ½éšæœºç»„åˆï¼Œä¸“å®¶æ¨¡å¼ï¼Œé…ç½®ä¿å­˜ï¼Œæ¿€å‘æ— é™åˆ›æ„</p>
                </div>
                <div class="flex gap-8">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-white" id="totalGenerationsFooter">0</div>
                        <div class="text-white/80 text-sm">æç¤ºè¯ç”Ÿæˆ</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-white" id="totalPresets">25</div>
                        <div class="text-white/80 text-sm">çƒ­é—¨é¢„è®¾</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-white" id="totalSelected">0</div>
                        <div class="text-white/80 text-sm">å½“å‰é€‰æ‹©</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-white" id="totalTags">1200+</div>
                        <div class="text-white/80 text-sm">éŸ³ä¹æ ‡ç­¾</div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- é…ç½®ä¿å­˜æ¨¡æ€æ¡† -->
    <div id="saveModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <h3 class="font-bold text-xl text-neutral-800 mb-4">ä¿å­˜é…ç½®</h3>
            <input type="text" id="configName" placeholder="è¾“å…¥é…ç½®åç§°" class="w-full p-3 border border-neutral-200 rounded-xl mb-4 focus:outline-none focus:border-primary input-focus" value="æˆ‘çš„éŸ³ä¹é…ç½®">
            <div class="flex justify-end gap-3">
                <button id="cancelSaveBtn" class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-all-custom">å–æ¶ˆ</button>
                <button id="confirmSaveBtn" class="px-4 py-2 gradient-bg text-white rounded-lg hover:opacity-90 transition-all-custom">ä¿å­˜</button>
            </div>
        </div>
    </div>
    
    <!-- é…ç½®åŠ è½½æ¨¡æ€æ¡† -->
    <div id="loadModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full">
            <h3 class="font-bold text-xl text-neutral-800 mb-4">åŠ è½½é…ç½®</h3>
            <div id="savedConfigs" class="max-h-60 overflow-y-auto mb-4 space-y-2">
                <!-- ä¿å­˜çš„é…ç½®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                <p class="text-neutral-400 italic text-center py-8">æš‚æ— ä¿å­˜çš„é…ç½®</p>
            </div>
            <div class="flex justify-end gap-3">
                <button id="cancelLoadBtn" class="px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 transition-all-custom">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <!-- ========== æ ¸å¿ƒåº”ç”¨ä»£ç  ========== -->
    <script>
        // ç»¼åˆéŸ³ä¹æ•°æ® - æ•´åˆä¸¤ä¸ªå·¥å…·çš„æ‰€æœ‰æ ‡ç­¾
        const musicData = {
            // åŸºç¡€å‚æ•°
            musicStyles: [
                // æµè¡ŒéŸ³ä¹
                "æµè¡Œ (Pop)", "æ‘‡æ»š (Rock)", "ç”µå­ (Electronic)", "å˜»å“ˆ (Hip Hop)", "R&B/çµé­‚ä¹", "ä¹¡æ‘ (Country)",
                "æ°‘è°£ (Folk)", "çˆµå£« (Jazz)", "è“è°ƒ (Blues)", "å¤å…¸ (Classical)", "çµé­‚ä¹ (Soul)",
                // ç”µå­éŸ³ä¹ç»†åˆ†
                "ç”µå­èˆæ›² EDM", "æ°›å›´éŸ³ä¹ Ambient", "ç‹¬ç«‹éŸ³ä¹ Indie", "ç”µå½±é…ä¹ Cinematic", "å®éªŒéŸ³ä¹ Experimental",
                "æµ©å®¤ (House)", "Techno", "Trance", "Dubstep", "Drum and Bass", "æœªæ¥è´æ–¯ (Future Bass)",
                "æ·±æµ©å®¤ (Deep House)", "Progressive House",
                // æ‘‡æ»šç»†åˆ†
                "ç¡¬æ‘‡æ»š (Hard Rock)", "æœ‹å…‹ (Punk)", "é‡‘å± (Metal)", "å¦ç±»æ‘‡æ»š (Alternative Rock)",
                "ç‹¬ç«‹æ‘‡æ»š (Indie Rock)", "è½¦åº“æ‘‡æ»š (Garage Rock)", "åä¸½æ‘‡æ»š (Glam Rock)",
                // å…¨çƒéŸ³ä¹é£æ ¼
                "æ‹‰ä¸ (Latin)", "é›·é¬¼ (Reggae)", "æ¡‘å·´ (Samba)", "å¼—æ‹‰é—¨æˆˆ (Flamenco)", "æ¢æˆˆ (Tango)",
                "éæ´²èŠ‚å¥ (African Rhythms)", "å°åº¦å¤å…¸ (Indian Classical)", "é˜¿æ‹‰ä¼¯éŸ³ä¹ (Arabic Music)",
                "æ—¥æœ¬ä¼ ç»Ÿ (Japanese Traditional)", "éŸ©å›½æµè¡Œ (K-pop)", "ä¸­å›½æµè¡Œ (C-pop)",
                // ä¸­å›½é£
                "ä¸­å›½é£ (Chinese Style)", "å¤é£ (Ancient Style)", "å›½é£ç”µå­ (Chinese Electronic)",
                // å…¶ä»–é£æ ¼
                "è“è‰ (Bluegrass)", "ç¦éŸ³ (Gospel)", "æ”¾å…‹ (Funk)", "è¿ªæ–¯ç§‘ (Disco)", "æ–°æµªæ½® (New Wave)",
                "ä¸–ç•ŒéŸ³ä¹ (World Music)", "æ–°ä¸–çºª (New Age)", "ä½ä¿çœŸ (Lo-fi)", "åŸå¸‚éŸ³ä¹ (Urban)",
                "è’¸æ±½æ³¢ (Vaporwave)", "åˆæˆå™¨æµªæ½® (Synthwave)", "å‡¯å°”ç‰¹éŸ³ä¹ (Celtic Music)",
                "å·´è¥¿å·´è¨è¯ºç“¦ (Bossa Nova)", "å¢¨è¥¿å“¥é©¬é‡Œäºšå¥‡ (Mariachi)"
            ],
            
            emotions: [
                "å¿«ä¹ uplifting", "å¿§éƒ melancholic", "æµªæ¼« romantic", "æ¿€æƒ… passionate", "å¹³é™ calm",
                "æ€€æ—§ nostalgic", "ç¥ç§˜ mysterious", "å¸Œæœ› hopeful", "å­¤ç‹¬ lonely", "è‡ªç”± free",
                "æ¢¦å¹» dreamy", "å²è¯— epic", "æ¸©é¦¨ cozy", "æ´»åŠ› energetic", "é»‘æš— dark",
                "æ‚²ä¼¤ (Sad)", "æ„¤æ€’ (Angry)", "ææƒ§ (Fearful)", "æƒŠè®¶ (Surprised)", "çˆ± (Loving)",
                "ç»æœ› (Despairing)", "å…´å¥‹ (Excited)", "è‡ªè±ª (Proud)", "ç¾æ„§ (Ashamed)", "å«‰å¦’ (Jealous)",
                "æ€å¿µ (Missing)", "æœŸå¾… (Expectant)", "æ»¡è¶³ (Content)", "å‹‡æ•¢ (Brave)", "èƒ†æ€¯ (Cowardly)",
                "å¥½å¥‡ (Curious)", "æ— èŠ (Bored)", "æ„Ÿæ¿€ (Grateful)", "æ€¨æ¨ (Resentful)", "å®½æ• (Forgiving)",
                "æŠ¥å¤ (Vengeful)", "æ··ä¹± (Chaotic)", "å’Œè° (Harmonious)", "å†²çª (Conflicting)",
                "èƒœåˆ© (Triumphant)", "å¤±è´¥ (Defeated)", "åšå¼º (Strong)", "è„†å¼± (Vulnerable)", "è‡ªä¿¡ (Confident)",
                "è‡ªå‘ (Insecure)", "æŸç¼š (Restricted)", "æ–°ç”Ÿ (Newborn)", "è¡°è€ (Aging)", "ç°å® (Realistic)",
                "å¹»æƒ³ (Fantasy)", "çœŸå® (Authentic)", "è™šå‡ (Fake)", "æ¸©æš– (Warm)", "å¯’å†· (Cold)",
                "å…‰æ˜ (Bright)", "æ¸…æ™° (Clear)", "æ¨¡ç³Š (Blurred)", "ç®€å• (Simple)", "å¤æ‚ (Complex)"
            ],
            
            beats: [
                "ä¸­é€Ÿ 90-110 BPM", "æ…¢é€Ÿ 60-80 BPM", "å¿«é€Ÿ 120-140 BPM", "è‡ªç”±èŠ‚å¥ free tempo",
                "ç¨³å®šèŠ‚å¥ steady", "å˜åŒ–èŠ‚å¥ varied", "ç”µå­èŠ‚æ‹ electronic beat", "åŸå£°èŠ‚æ‹ acoustic beat",
                "4/4æ‹ æµè¡ŒèŠ‚å¥", "6/8æ‹ æ°‘è°£èŠ‚å¥", "é™·é˜±èŠ‚å¥ trap beat",
                "4/4æ‹", "3/4æ‹", "6/8æ‹", "2/4æ‹", "5/4æ‹", "7/8æ‹", "12/8æ‹", "è‡ªç”±èŠ‚æ‹",
                "å¿«é€Ÿ (Fast)", "ä¸­é€Ÿ (Moderate)", "æ…¢é€Ÿ (Slow)", "æå¿« (Very Fast)", "ææ…¢ (Very Slow)",
                "è½»å¿« (Brisk)", "èˆ’ç¼“ (Leisurely)", "æ€¥ä¿ƒ (Urgent)", "ä»å®¹ (Calm)", "ç´§å‡‘ (Tight)",
                "æ¾æ•£ (Loose)", "ç¨³å®š (Steady)", "å¤šå˜ (Variable)", "å¼ºçƒˆ (Strong)", "å¾®å¼± (Weak)",
                "100 BPM", "120 BPM", "140 BPM", "80 BPM", "60 BPM", "160 BPM", "90 BPM", "110 BPM"
            ],
            
            instruments: [
                "é’¢ç´ piano", "åŸå£°å‰ä»– acoustic guitar", "ç”µå‰ä»– electric guitar", "åˆæˆå™¨ synthesizer",
                "é¼“ç»„ drums", "è´æ–¯ bass", "å¼¦ä¹ strings", "ç”µå­éŸ³æ•ˆ electronic effects",
                "å¤ç­ guzheng", "äºŒèƒ¡ erhu", "ç¬›å­ flute", "ç¯å¢ƒéŸ³ ambient sounds",
                "äººå£°åˆå”± vocal harmonies", "æ‰“å‡»ä¹ percussion", "é’¢ç´+å¼¦ä¹ piano & strings",
                "åŸå£°å‰ä»– (Acoustic Guitar)", "ç”µå‰ä»– (Electric Guitar)", "å¤å…¸å‰ä»– (Classical Guitar)",
                "è´æ–¯å‰ä»– (Bass Guitar)", "å°æç´ (Violin)", "ä¸­æç´ (Viola)", "å¤§æç´ (Cello)",
                "ä½éŸ³æç´ (Double Bass)", "ç«–ç´ (Harp)", "æ›¼é™€æ— (Mandolin)", "ç­å“ç´ (Banjo)",
                "é•¿ç¬› (Flute)", "å•ç°§ç®¡ (Clarinet)", "åŒç°§ç®¡ (Oboe)", "å·´æ¾ç®¡ (Bassoon)", "è¨å…‹æ–¯é£ (Saxophone)",
                "å°å· (Trumpet)", "é•¿å· (Trombone)", "åœ†å· (French Horn)", "å¤§å· (Tuba)",
                "æ¶å­é¼“ (Drum Kit)", "å®šéŸ³é¼“ (Timpani)", "åº·åŠ é¼“ (Conga)", "é‚¦æˆˆé¼“ (Bongo)", "éæ´²é¼“ (Djembe)",
                "é“ƒé¼“ (Tambourine)", "ä¸‰è§’é“ (Triangle)", "é’¹ (Cymbals)", "æœ¨ç´ (Xylophone)",
                "ç”µé’¢ç´ (Electric Piano)", "é£ç´ (Organ)", "ç¾½ç®¡é”®ç´ (Harpsichord)", "æ‰‹é£ç´ (Accordion)",
                "ç”µå­é¼“ (Electronic Drums)", "é‡‡æ ·å™¨ (Sampler)", "é¼“æœº (Drum Machine)",
                "å£ç´ (Harmonica)", "æ‰‹é¼“ (Tabla)", "å¡æ—å·´ (Kalimba)"
            ],
            
            // ä¸“å®¶å‚æ•°
            melodies: [
                "æµç•…çš„ (Flowing)", "è·³è·ƒçš„ (Leaping)", "çº§è¿›çš„ (Stepwise)", "æ–­æ–­ç»­ç»­çš„ (Staccato)",
                "è¿ç»­çš„ (Continuous)", "ç®€çŸ­çš„ (Short)", "å†—é•¿çš„ (Long)", "ä¸Šè¡Œçš„ (Ascending)",
                "ä¸‹è¡Œçš„ (Descending)", "æ³¢æµªå½¢çš„ (Wavelike)", "é‡å¤çš„ (Repetitive)", "å˜åŒ–çš„ (Changing)",
                "ç®€å•çš„ (Simple)", "å¤æ‚çš„ (Complex)", "æ­Œå”±æ€§çš„ (Singing)", "è¯´è¯å¼çš„ (Speech-like)",
                "æŠ’æƒ…çš„ (Lyrical)", "å™äº‹çš„ (Narrative)", "æ¬¢å¿«çš„ (Cheerful)", "æ‚²ä¼¤çš„ (Sad)",
                "ç¥ç§˜çš„ (Mysterious)", "æœ‰åŠ›çš„ (Powerful)", "æŸ”å’Œçš„ (Soft)", "åˆºè€³çš„ (Harsh)",
                "å’Œè°çš„ (Harmonious)", "ä¸å’Œè°çš„ (Dissonant)", "é«˜éŸ³ç¬¦ä¸ºä¸» (High-pitched)",
                "ä½éŸ³ç¬¦ä¸ºä¸» (Low-pitched)", "ä¸­éŸ³åŒºä¸ºä¸» (Mid-range)", "å®½å¹¿éŸ³åŸŸ (Wide Range)",
                "ç‹­çª„éŸ³åŸŸ (Narrow Range)", "å¯¹ç§°çš„ (Symmetric)", "ä¸å¯¹ç§°çš„ (Asymmetric)",
                "æœ‰æ£±è§’çš„ (Angular)", "åœ†æ¶¦çš„ (Rounded)", "æœ‰æ‚¬å¿µçš„ (Suspenseful)", "æœ‰è§£å†³æ„Ÿçš„ (Resolving)",
                "æ¨¡è¿›çš„ (Sequence-based)", "åŠ¨æœºå‘å±•çš„ (Motif Development)", "å³å…´çš„ (Improvised)",
                "ç²¾å¿ƒè®¾è®¡çš„ (Crafted)", "æ°‘æ—é£æ ¼çš„ (Ethnic)", "ç°ä»£é£æ ¼çš„ (Modern)", "å¤å¤é£æ ¼çš„ (Retro)"
            ],
            
            harmonies: [
                "ä¸‰å’Œå¼¦ (Triads)", "ä¸ƒå’Œå¼¦ (Seventh Chords)", "ä¹å’Œå¼¦ (Ninth Chords)", "åä¸€å’Œå¼¦ (Eleventh Chords)",
                "åä¸‰å’Œå¼¦ (Thirteenth Chords)", "æ‰©å±•å’Œå¼¦ (Extended Chords)", "å˜åŒ–å’Œå¼¦ (Altered Chords)",
                "æ›¿ä»£å’Œå¼¦ (Substitute Chords)", "æŒç»­ä½éŸ³ (Pedal Point)", "å’Œå¼¦è¿›è¡Œ (Chord Progression)",
                "åŠŸèƒ½å’Œå£° (Functional Harmony)", "éåŠŸèƒ½å’Œå£° (Non-functional Harmony)", "è°ƒæ€§å’Œå£° (Tonal Harmony)",
                "æ— è°ƒæ€§å’Œå£° (Atonal Harmony)", "è°ƒå¼å’Œå£° (Modal Harmony)", "çˆµå£«å’Œå£° (Jazz Harmony)",
                "æµè¡Œå’Œå£° (Pop Harmony)", "å¤å…¸å’Œå£° (Classical Harmony)", "æ°‘æ—å’Œå£° (Ethnic Harmony)",
                "ç”µå­å’Œå£° (Electronic Harmony)", "ç®€çº¦å’Œå£° (Minimal Harmony)", "å¤æ‚å’Œå£° (Complex Harmony)",
                "åå’Œçš„ (Consonant)", "ä¸åå’Œçš„ (Dissonant)", "æ˜äº®çš„ (Bright)", "é˜´æš—çš„ (Dark)",
                "ä¸°å¯Œçš„ (Rich)", "å•è–„çš„ (Thin)", "é™æ€çš„ (Static)", "åŠ¨æ€çš„ (Dynamic)", "æµåŠ¨çš„ (Flowing)",
                "å—çŠ¶çš„ (Block-like)", "å¯¹ä½çš„ (Contrapuntal)", "å¹³è¡Œçš„ (Parallel)", "åè¡Œçš„ (Contrary Motion)",
                "åŒå‘çš„ (Similar Motion)", "æ–œå‘çš„ (Oblique Motion)", "æŒç»­çš„ (Sustained)", "äº¤æ›¿çš„ (Alternating)",
                "åŠéŸ³çš„ (Chromatic)", "å…¨éŸ³çš„ (Diatonic)", "äº”å£°éŸ³é˜¶çš„ (Pentatonic)", "è“è°ƒéŸ³é˜¶çš„ (Blues Scale)"
            ],
            
            rhythms: [
                "å‡åˆ†èŠ‚å¥ (Even Rhythm)", "åˆ‡åˆ†èŠ‚å¥ (Syncopation)", "ä¸‰è¿éŸ³ (Triplets)", "äº”è¿éŸ³ (Fivelets)",
                "ä¸ƒè¿éŸ³ (Sevenlets)", "å¤åˆèŠ‚æ‹ (Compound Meter)", "ç®€å•èŠ‚æ‹ (Simple Meter)",
                "æ··åˆèŠ‚æ‹ (Mixed Meter)", "äº¤é”™èŠ‚æ‹ (Cross Rhythm)", "å¤èŠ‚å¥ (Polyrhythm)",
                "é‡å¤èŠ‚å¥å‹ (Repeating Pattern)", "å˜åŒ–èŠ‚å¥å‹ (Changing Pattern)", "ç¨³å®šèŠ‚å¥ (Steady Rhythm)",
                "è‡ªç”±èŠ‚å¥ (Free Rhythm)", "å¯†é›†èŠ‚å¥ (Dense Rhythm)", "ç¨€ç–èŠ‚å¥ (Sparse Rhythm)",
                "é©±åŠ¨æ€§èŠ‚å¥ (Driving Rhythm)", "æ¾å¼›èŠ‚å¥ (Relaxed Rhythm)", "æœºæ¢°èŠ‚å¥ (Mechanical Rhythm)",
                "è‡ªç„¶èŠ‚å¥ (Natural Rhythm)", "èˆè¹ˆæ€§èŠ‚å¥ (Danceable Rhythm)", "éèˆè¹ˆæ€§èŠ‚å¥ (Non-danceable Rhythm)",
                "æ‰“å‡»ä¹ä¸»å¯¼ (Percussion-led)", "æ—‹å¾‹ä¸»å¯¼ (Melody-led)", "è„‰å†²å¼ (Pulsating)",
                "æµåŠ¨å¼ (Flowing)", "è·³è·ƒå¼ (Skipping)", "é¡¿æŒ«å¼ (Staccato)", "è¿å¥å¼ (Legato)",
                "æ–­å¥å¼ (Detached)", "å¼ºè°ƒé‡æ‹ (Strong Downbeat)", "å¼±åŒ–é‡æ‹ (Weak Downbeat)",
                "äº¤æ›¿é‡éŸ³ (Alternating Accents)", "ä¸è§„åˆ™é‡éŸ³ (Irregular Accents)", "éæ´²èŠ‚å¥ (African Rhythms)",
                "æ‹‰ä¸èŠ‚å¥ (Latin Rhythms)", "çˆµå£«èŠ‚å¥ (Jazz Rhythms)", "æ‘‡æ»šèŠ‚å¥ (Rock Rhythms)",
                "ç”µå­èŠ‚å¥ (Electronic Rhythms)", "å¤å…¸èŠ‚å¥ (Classical Rhythms)", "æ°‘æ—èŠ‚å¥ (Ethnic Rhythms)"
            ],
            
            effects: [
                "æ··å“ (Reverb)", "å»¶è¿Ÿ (Delay)", "å›å£° (Echo)", "åˆå”± (Chorus)", "é•¶è¾¹ (Flanger)",
                "ç›¸ä½ (Phaser)", "å¤±çœŸ (Distortion)", "è¿‡è½½ (Overdrive)", "æ³•å…¹ (Fuzz)", "å‹ç¼© (Compression)",
                "å‡è¡¡å™¨ (EQ)", "æ»¤æ³¢å™¨ (Filter)", "å£°åƒ (Pan)", "éŸ³é‡è‡ªåŠ¨åŒ– (Volume Automation)",
                "å£°ç å™¨ (Vocoder)", "è‡ªåŠ¨è°ƒéŸ³ (Auto-Tune)", "é¢—ç²’æ„Ÿ (Granular)", "ç¯å½¢è°ƒåˆ¶ (Ring Modulation)",
                "é¢¤éŸ³ (Tremolo)", "éœ‡éŸ³ (Vibrato)", "Wah-wah", "ç§»ç›¸å™¨ (Phase Shifter)", "ç©ºé—´åŒ– (Spatialization)",
                "ç«‹ä½“å£°æ‰©å±• (Stereo Widening)", "é™å™ª (Noise Reduction)", "é—¨é™ (Gate)", "ä¾§é“¾å‹ç¼© (Sidechain Compression)",
                "é¥±å’Œ (Saturation)", "ç£å¸¦æ¨¡æ‹Ÿ (Tape Simulation)", "Vinylæ¨¡æ‹Ÿ (Vinyl Simulation)", "æ”¾å¤§å™¨æ¨¡æ‹Ÿ (Amp Simulation)",
                "ç®±ä½“æ¨¡æ‹Ÿ (Cabinet Simulation)", "å·ç§¯æ··å“ (Convolution Reverb)", "å¼¹ç°§æ··å“ (Spring Reverb)",
                "æ¿å¼æ··å“ (Plate Reverb)", "æˆ¿é—´æ··å“ (Room Reverb)", "å¤§å…æ··å“ (Hall Reverb)", "æ•™å ‚æ··å“ (Church Reverb)",
                "åå‘æ··å“ (Reverse Reverb)", "ä¹’ä¹“å»¶è¿Ÿ (Ping Pong Delay)", "æ¨¡æ‹Ÿå»¶è¿Ÿ (Analog Delay)",
                "æ•°å­—å»¶è¿Ÿ (Digital Delay)", "ç£å¸¦å»¶è¿Ÿ (Tape Delay)", "Lo-fiæ•ˆæœ (Lo-fi Effect)", "é«˜ä¿çœŸæ•ˆæœ (Hi-fi Effect)", 
                "æ¸©æš–æ•ˆæœ (Warm Effect)", "å†°å†·æ•ˆæœ (Cold Effect)", "æ¨¡ç³Šæ•ˆæœ (Blurry Effect)", "æ¸…æ™°æ•ˆæœ (Clear Effect)", 
                "ç©ºé—´æ„Ÿ (Spatial)", "äº²å¯†æ„Ÿ (Intimate)", "è¿œè·ç¦»æ„Ÿ (Distant)", "åŒ…å›´æ„Ÿ (Enveloping)", "ç©ºçµ (Ethereal)", 
                "åšé‡ (Heavy)", "è½»ç›ˆ (Light)", "æ¹¿æ¶¦ (Wet)", "å¹²ç‡¥ (Dry)"
            ],
            
            chineseInstruments: [
                "å¤ç­ (Guzheng, Chinese Zither)", "å¤ç´ (Guqin, Chinese 7-string Zither)", "äºŒèƒ¡ (Erhu, Chinese Fiddle)", 
                "äº¬èƒ¡ (Jinghu, Beijing Opera Fiddle)", "æ¿èƒ¡ (Banhu, Chinese Fiddle)", "é«˜èƒ¡ (Gaohu, High-pitched Fiddle)", 
                "ä¸­èƒ¡ (Zhonghu, Middle-pitched Fiddle)", "ä½èƒ¡ (Dihu, Low-pitched Fiddle)", "å èƒ¡ (Zhuihu, Chinese Fiddle)", 
                "é©¬å¤´ç´ (Matouqin, Horse-head Fiddle)", "æ‰¬ç´ (Yangqin, Chinese Dulcimer)", "çµç¶ (Pipa, Chinese Lute)", 
                "æŸ³ç´ (Liuqin, Willow Lute)", "é˜® (ä¸­é˜®ã€å¤§é˜®ã€å°é˜®) (Ruan, Chinese Lute - alto, bass, soprano)", 
                "æœˆç´ (Yueqin, Moon Lute)", "ä¸‰å¼¦ (Sanxian, Three-stringed Lute)", "ç®œç¯Œ (Konghou, Chinese Harp)", 
                "ç¬™ (Sheng, Chinese Mouth Organ)", "ç«½ (Yu, Chinese Mouth Organ)", "ç¬›å­ (æ¢†ç¬›ã€æ›²ç¬›) (Dizi, Chinese Flute - bangdi, qudi)", 
                "ç®« (æ´ç®«ã€å—ç®«) (Xiao, Chinese Vertical Flute - dongxiao, nanxiao)", "å”¢å‘ (Suona, Chinese Oboe)", 
                "ç®¡å­ (Guanzi, Chinese Reed Pipe)", "å·´ä¹Œ (Bawu, Chinese Free-reed Instrument)", 
                "è‘«èŠ¦ä¸ (Hulusi, Gourd Flute)", "åŸ™ (Xun, Chinese Ocarina)", "é™¶ç¬› (Taodi, Chinese Clay Ocarina)", 
                "å ‚é¼“ (Tanggu, Chinese Bass Drum)", "æ¿é¼“ (Bangu, Chinese Drum)", "æ’é¼“ (Paigu, Chinese Drum Set)", 
                "èŠ±ç›†é¼“ (Huapen Gu, Flowerpot Drum)", "é“œé¼“ (Tonggu, Bronze Drum)", "ç¼–é’Ÿ (Bianzhong, Chime Bells)", 
                "ç¼–ç£¬ (Bianqing, Chime Stones)", "äº‘é”£ (Yunluo, Cloud Gongs)", "é“™é’¹ (Naobo, Cymbals)", 
                "é•² (Cha, Cymbals)", "æœ¨é±¼ (Muyu, Wooden Fish)", "æ¢†å­ (Bangzi, Clappers)", "æ‹æ¿ (Paiban, Clappers)", 
                "å“æ¿ (Xiangban, Castanets)", "é“ƒé¼“ (Linggu, Tambourine)", "å†¬ä¸æ‹‰ (Dongbula, Kazakh Lute)", 
                "çƒ­ç“¦æ™® (Rewapu, Uyghur Lute)", "å¼¹å¸ƒå°” (Tanbur, Uyghur Lute)", "è‰¾æ·å…‹ (Aijieke, Uyghur Fiddle)", 
                "æ‰‹é¼“ (Shougu, Hand Drum)", "è¨å·´ä¾ (Sabayi, Uyghur Percussion)", "éƒ½å¡”å°” (Dutar, Uyghur Lute)", 
                "å¡é¾™ (Kalon, Uyghur Zither)", "ç­šç¯¥ (Bili, Reed Pipe)", "å‹’å°¤ (Leyou, Reed Pipe)", 
                "é©¬éª¨èƒ¡ (Maguhu, Horse Bone Fiddle)", "å¤©ç´ (Tianqin, Heaven Lute)", "ç‹¬å¼¦ç´ (Duxianqin, One-string Zither)", 
                "èŠ¦ç¬™ (Lusheng, Reed Pipe)", "èŠ’ç­’ (Mangtong, Bass Reed Pipe)", "å£å¼¦ (Kouxian, Jaw Harp)", 
                "ä¾—ç¬› (Dongdi, Dong Flute)", "å”å’§ (Lilie, Reed Pipe)", "ä¹ƒä¾ (Naiyi, Reed Pipe)", 
                "åˆšæ´ (Gangdong, Tibetan Drum)", "æ‰å¿µç´ (Zhanianqin, Tibetan Lute)", "é¹°ç¬› (Yingdi, Eagle Bone Flute)", 
                "ç‰›è§’å· (Niujiaohao, Ox Horn)", "æµ·èºå· (Hailuohao, Conch Horn)"
            ],
            
            vocalStyles: [
                "æµè¡Œå”±æ³• (Pop Vocals)", "æ‘‡æ»šå”±æ³• (Rock Vocals)", "çˆµå£«å”±æ³• (Jazz Vocals)", "R&Bå”±æ³• (R&B Vocals)",
                "å˜»å“ˆè¯´å”± (Hip Hop Vocals)", "ä¹¡æ‘å”±æ³• (Country Vocals)", "æ°‘è°£å”±æ³• (Folk Vocals)", "è“è°ƒå”±æ³• (Blues Vocals)",
                "çµé­‚å”±æ³• (Soul Vocals)", "ç¦éŸ³å”±æ³• (Gospel Vocals)", "æ­Œå‰§å”±æ³• (Opera Vocals)", "ç¾å£°å”±æ³• (Bel Canto)",
                "éŸ³ä¹å‰§å”±æ³• (Musical Theater Vocals)", "å˜¶å¼å”±æ³• (Screaming Vocals)", "æ­»äº¡é‡‘å±å”±æ³• (Death Metal Vocals)",
                "é»‘é‡‘å±å”±æ³• (Black Metal Vocals)", "åŸå”± (Chanting)", "è¯´å”± (Rapping)", "åŸè¯µ (Recitation)",
                "è€³è¯­ (Whispering)", "å‡å£° (Falsetto)", "å¤´å£° (Head Voice)", "èƒ¸å£° (Chest Voice)", "æ··å£° (Mixed Voice)",
                "æ°”å£° (Breathy Vocals)", "æ²™å“‘å£° (Gritty Vocals)", "æ¸…æ¾ˆå£° (Clear Vocals)", "é†‡åšå£° (Rich Vocals)",
                "é«˜äº¢å£° (Powerful Vocals)", "æŸ”å’Œå£° (Soft Vocals)", "ç«¥å£° (Childlike Vocals)", "æˆç†Ÿå£° (Mature Vocals)",
                "ç”·æ€§å£° (Male Vocals)", "å¥³æ€§å£° (Female Vocals)", "åˆå”± (Choral Vocals)", "å’Œå£° (Harmony Vocals)",
                "ä¸»å”± (Lead Vocals)", "ä¼´å”± (Backing Vocals)", "å¯¹å”± (Duet Vocals)", "è½®å”± (Round Vocals)",
                "å³å…´æ¼”å”± (Improvised Vocals)", "é¢¤éŸ³ (Vibrato)", "æ»‘éŸ³ (Sliding)", "è£…é¥°éŸ³ (Ornamentation)",
                "æ‹Ÿå£° (Vocal Percussion)", "Beatboxing", "å‘¼éº¦ (Throat Singing)", "æ°‘æ—å”±æ³• (Ethnic Vocals)",
                "ä¼ ç»Ÿå”±æ³• (Traditional Vocals)", "ç°ä»£å”±æ³• (Contemporary Vocals)", "å®éªŒæ€§å”±æ³• (Experimental Vocals)"
            ],
            
            languages: [
                "ä¸­æ–‡ (Chinese)", "è‹±è¯­ (English)", "æ—¥è¯­ (Japanese)", "éŸ©è¯­ (Korean)", "è¥¿ç­ç‰™è¯­ (Spanish)",
                "æ³•è¯­ (French)", "å¾·è¯­ (German)", "ä¿„è¯­ (Russian)", "æ„å¤§åˆ©è¯­ (Italian)", "è‘¡è„ç‰™è¯­ (Portuguese)",
                "é˜¿æ‹‰ä¼¯è¯­ (Arabic)", "å°åœ°è¯­ (Hindi)", "ä¹Œå°”éƒ½è¯­ (Urdu)", "å­ŸåŠ æ‹‰è¯­ (Bengali)", "æ³°è¯­ (Thai)",
                "è¶Šå—è¯­ (Vietnamese)", "å°å°¼è¯­ (Indonesian)", "é©¬æ¥è¯­ (Malay)", "åœŸè€³å…¶è¯­ (Turkish)", "æ³¢æ–¯è¯­ (Persian)",
                "å¸Œä¼¯æ¥è¯­ (Hebrew)", "å¸Œè…Šè¯­ (Greek)", "è·å…°è¯­ (Dutch)", "ç‘å…¸è¯­ (Swedish)", "æŒªå¨è¯­ (Norwegian)",
                "ä¸¹éº¦è¯­ (Danish)", "èŠ¬å…°è¯­ (Finnish)", "æ³¢å…°è¯­ (Polish)", "æ·å…‹è¯­ (Czech)", "åŒˆç‰™åˆ©è¯­ (Hungarian)",
                "ç½—é©¬å°¼äºšè¯­ (Romanian)", "å¡å°”ç»´äºšè¯­ (Serbian)", "å…‹ç½—åœ°äºšè¯­ (Croatian)", "ä¿åŠ åˆ©äºšè¯­ (Bulgarian)",
                "ä¹Œå…‹å…°è¯­ (Ukrainian)", "å“ˆè¨å…‹è¯­ (Kazakh)", "è’™å¤è¯­ (Mongolian)", "è€æŒè¯­ (Lao)", "æŸ¬åŸ”å¯¨è¯­ (Khmer)",
                "ç¼…ç”¸è¯­ (Burmese)", "å°¼æ³Šå°”è¯­ (Nepali)", "åƒ§ä¼½ç½—è¯­ (Sinhala)", "è±ªè¨è¯­ (Hausa)", "æ–¯ç“¦å¸Œé‡Œè¯­ (Swahili)",
                "é˜¿å§†å“ˆæ‹‰è¯­ (Amharic)", "çº¦é²å·´è¯­ (Yoruba)", "ä¼Šåšè¯­ (Igbo)", "ç¥–é²è¯­ (Zulu)", "å—éè·å…°è¯­ (Afrikaans)",
                "æ‹‰ä¸è¯­ (Latin)", "æ¢µè¯­ (Sanskrit)", "å¤æ±‰è¯­ (Classical Chinese)", "æ–‡è¨€æ–‡ (Literary Chinese)",
                "ç²¤è¯­ (Cantonese)", "é—½å—è¯­ (Minnan)", "å´è¯­ (Wu Chinese)", "å®¢å®¶è¯­ (Hakka)", "æ¹˜è¯­ (Xiang Chinese)",
                "èµ£è¯­ (Gan Chinese)", "æ™‹è¯­ (Jin Chinese)", "è—è¯­ (Tibetan)", "ç»´å¾å°”è¯­ (Uyghur)", "å£®è¯­ (Zhuang)",
                "è‹—è¯­ (Hmong)", "å½è¯­ (Yi)", "æœé²œè¯­ (Korean)", "æ»¡è¯­ (Manchu)", "æ— æ­Œè¯ (Wordless)",
                "æ‹Ÿå£°è¯ (Vocables)", "æ··åˆè¯­è¨€ (Mixed Languages)", "äººé€ è¯­è¨€ (Constructed Language)"
            ],
            
            structures: [
                "ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)", "ä¸»æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ (Verse-Chorus-Bridge)", "AABAç»“æ„ (AABA Form)",
                "ABABç»“æ„ (ABAB Form)", "ABACç»“æ„ (ABAC Form)", "ä¸‰éƒ¨æ›²å¼ (Ternary Form)", "äºŒéƒ¨æ›²å¼ (Binary Form)",
                "å˜å¥æ›²å¼ (Variation Form)", "å›æ—‹æ›²å¼ (Rondo Form)", "å¥é¸£æ›²å¼ (Sonata Form)",
                "å¼•å­-ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ (Intro-Verse-Pre-Chorus-Chorus)", "ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ-å‰¯æ­Œ (Verse-Pre-Chorus-Chorus-Bridge-Chorus)",
                "æ¸è¿›å¼ç»“æ„ (Progressive Structure)", "å¾ªç¯ç»“æ„ (Cyclic Structure)", "å³å…´ç»“æ„ (Improvisational Structure)",
                "è‡ªç”±ç»“æ„ (Free Form)", "å•ä¸€ä¸»é¢˜ (Single Theme)", "å¤šä¸»é¢˜ (Multiple Themes)",
                "å‰å¥ (Intro)", "å°¾å¥ (Outro)", "é—´å¥ (Interlude)", "ç‹¬å¥æ®µ (Solo Section)",
                "é¼“ç‚¹é—´å¥ (Drum Break)", "Build-up-é‡Šæ”¾ (Build-up and Release)", "æ¸å¼º-æ¸å¼± (Crescendo and Diminuendo)",
                "é‡å¤-å˜åŒ– (Repetition and Variation)", "å¯¹æ¯”-ç»Ÿä¸€ (Contrast and Unity)", "å™äº‹æ€§ç»“æ„ (Narrative Structure)",
                "æŠ’æƒ…æ€§ç»“æ„ (Lyrical Structure)", "èˆæ›²ç»“æ„ (Dance Structure)", "ç”µå­èˆæ›²ç»“æ„ (EDM Structure)",
                "å¤å…¸éŸ³ä¹ç»“æ„ (Classical Structure)", "çˆµå£«æ ‡å‡†ç»“æ„ (Jazz Standard Structure)",
                "æ°‘æ­Œç»“æ„ (Folk Song Structure)", "è¯—æ­Œç»“æ„ (Poetic Structure)", "å¼€æ”¾å¼ç»“æ„ (Open Structure)",
                "å°é—­å¼ç»“æ„ (Closed Structure)", "å¾®å‹ç»“æ„ (Miniature Structure)", "å®å¤§ç»“æ„ (Grand Structure)",
                "æ¦‚å¿µæ€§ç»“æ„ (Conceptual Structure)", "å®éªŒæ€§ç»“æ„ (Experimental Structure)"
            ]
        };

        // ç¿»è¯‘æ˜ å°„è¡¨ - æ•´åˆä¸¤ä¸ªå·¥å…·çš„ç¿»è¯‘
        const translations = {
            // åŸºç¡€å‚æ•°ç¿»è¯‘
            "æµè¡Œ Pop": "Pop",
            "æ°‘è°£ Folk": "Folk",
            "ç”µå­ Electronic": "Electronic",
            "R&B/çµé­‚ä¹": "R&B/Soul",
            "æ‘‡æ»š Rock": "Rock",
            "å˜»å“ˆ Hip Hop": "Hip Hop",
            "çˆµå£« Jazz": "Jazz",
            "ä¹¡æ‘ Country": "Country",
            "ä¸–ç•ŒéŸ³ä¹ World": "World Music",
            "å¤é£ Chinese Traditional": "Chinese Traditional",
            "ç”µå­èˆæ›² EDM": "EDM",
            "æ°›å›´éŸ³ä¹ Ambient": "Ambient",
            "ç‹¬ç«‹éŸ³ä¹ Indie": "Indie",
            "ç”µå½±é…ä¹ Cinematic": "Cinematic",
            "å®éªŒéŸ³ä¹ Experimental": "Experimental",
            
            "å¿«ä¹ uplifting": "uplifting and joyful",
            "å¿§éƒ melancholic": "melancholic and introspective",
            "æµªæ¼« romantic": "romantic and tender",
            "æ¿€æƒ… passionate": "passionate and intense",
            "å¹³é™ calm": "calm and peaceful",
            "æ€€æ—§ nostalgic": "nostalgic and sentimental",
            "ç¥ç§˜ mysterious": "mysterious and enigmatic",
            "å¸Œæœ› hopeful": "hopeful and optimistic",
            "å­¤ç‹¬ lonely": "lonely and contemplative",
            "è‡ªç”± free": "free and liberating",
            "æ¢¦å¹» dreamy": "dreamy and ethereal",
            "å²è¯— epic": "epic and grand",
            "æ¸©é¦¨ cozy": "cozy and warm",
            "æ´»åŠ› energetic": "energetic and vibrant",
            "é»‘æš— dark": "dark and brooding",
            
            "ä¸­é€Ÿ 90-110 BPM": "medium tempo (90-110 BPM)",
            "æ…¢é€Ÿ 60-80 BPM": "slow tempo (60-80 BPM)",
            "å¿«é€Ÿ 120-140 BPM": "fast tempo (120-140 BPM)",
            "è‡ªç”±èŠ‚å¥ free tempo": "free tempo",
            "ç¨³å®šèŠ‚å¥ steady": "steady rhythm",
            "å˜åŒ–èŠ‚å¥ varied": "varied rhythm",
            "ç”µå­èŠ‚æ‹ electronic beat": "electronic beat",
            "åŸå£°èŠ‚æ‹ acoustic beat": "acoustic beat",
            "4/4æ‹ æµè¡ŒèŠ‚å¥": "4/4 pop rhythm",
            "6/8æ‹ æ°‘è°£èŠ‚å¥": "6/8 folk rhythm",
            "é™·é˜±èŠ‚å¥ trap beat": "trap beat",
            
            "é’¢ç´ piano": "piano",
            "åŸå£°å‰ä»– acoustic guitar": "acoustic guitar",
            "ç”µå‰ä»– electric guitar": "electric guitar",
            "åˆæˆå™¨ synthesizer": "synthesizer",
            "é¼“ç»„ drums": "drums",
            "è´æ–¯ bass": "bass",
            "å¼¦ä¹ strings": "strings",
            "ç”µå­éŸ³æ•ˆ electronic effects": "electronic effects",
            "å¤ç­ guzheng": "guzheng (Chinese zither)",
            "äºŒèƒ¡ erhu": "erhu (Chinese fiddle)",
            "ç¬›å­ flute": "flute",
            "ç¯å¢ƒéŸ³ ambient sounds": "ambient sounds",
            "äººå£°åˆå”± vocal harmonies": "vocal harmonies",
            "æ‰“å‡»ä¹ percussion": "percussion",
            "é’¢ç´+å¼¦ä¹ piano & strings": "piano and strings",
            
            // ä»å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ç»§æ‰¿çš„ç¿»è¯‘
            "æµè¡Œ (Pop)": "Pop",
            "æ‘‡æ»š (Rock)": "Rock",
            "ç”µå­ (Electronic)": "Electronic",
            "å˜»å“ˆ (Hip Hop)": "Hip Hop",
            "R&B": "R&B",
            "ä¹¡æ‘ (Country)": "Country",
            "æ°‘è°£ (Folk)": "Folk",
            "çˆµå£« (Jazz)": "Jazz",
            "è“è°ƒ (Blues)": "Blues",
            "å¤å…¸ (Classical)": "Classical",
            "çµé­‚ä¹ (Soul)": "Soul",
            "æ‹‰ä¸ (Latin)": "Latin",
            "é›·é¬¼ (Reggae)": "Reggae",
            "æ¡‘å·´ (Samba)": "Samba",
            "å¼—æ‹‰é—¨æˆˆ (Flamenco)": "Flamenco",
            "æ¢æˆˆ (Tango)": "Tango",
            "éæ´²èŠ‚å¥ (African Rhythms)": "African Rhythms",
            "å°åº¦å¤å…¸ (Indian Classical)": "Indian Classical",
            "é˜¿æ‹‰ä¼¯éŸ³ä¹ (Arabic Music)": "Arabic Music",
            "æ—¥æœ¬ä¼ ç»Ÿ (Japanese Traditional)": "Japanese Traditional",
            "éŸ©å›½æµè¡Œ (K-pop)": "K-pop",
            "ä¸­å›½æµè¡Œ (C-pop)": "C-pop",
            "æµ©å®¤ (House)": "House",
            "Techno": "Techno",
            "Trance": "Trance",
            "Dubstep": "Dubstep",
            "Drum and Bass": "Drum and Bass",
            "æœªæ¥è´æ–¯ (Future Bass)": "Future Bass",
            "æ·±æµ©å®¤ (Deep House)": "Deep House",
            "Progressive House": "Progressive House",
            "ç¡¬æ‘‡æ»š (Hard Rock)": "Hard Rock",
            "æœ‹å…‹ (Punk)": "Punk",
            "é‡‘å± (Metal)": "Metal",
            "å¦ç±»æ‘‡æ»š (Alternative Rock)": "Alternative Rock",
            "ç‹¬ç«‹æ‘‡æ»š (Indie Rock)": "Indie Rock",
            "è½¦åº“æ‘‡æ»š (Garage Rock)": "Garage Rock",
            "åä¸½æ‘‡æ»š (Glam Rock)": "Glam Rock",
            "è“è‰ (Bluegrass)": "Bluegrass",
            "ç¦éŸ³ (Gospel)": "Gospel",
            "æ”¾å…‹ (Funk)": "Funk",
            "è¿ªæ–¯ç§‘ (Disco)": "Disco",
            "æ–°æµªæ½® (New Wave)": "New Wave",
            "ä¸–ç•ŒéŸ³ä¹ (World Music)": "World Music",
            "æ–°ä¸–çºª (New Age)": "New Age",
            "ç”µå½±é…ä¹ (Film Score)": "Film Score",
            "ç¯å¢ƒéŸ³ä¹ (Ambient)": "Ambient",
            "å®éªŒéŸ³ä¹ (Experimental)": "Experimental",
            "ä½ä¿çœŸ (Lo-fi)": "Lo-fi",
            "åŸå¸‚éŸ³ä¹ (Urban)": "Urban",
            "ä¸­å›½é£ (Chinese Style)": "Chinese Style",
            "å¤é£ (Ancient Style)": "Ancient Style",
            "å›½é£ç”µå­ (Chinese Electronic)": "Chinese Electronic",
            "è’¸æ±½æ³¢ (Vaporwave)": "Vaporwave",
            "åˆæˆå™¨æµªæ½® (Synthwave)": "Synthwave",
            "å‡¯å°”ç‰¹éŸ³ä¹ (Celtic Music)": "Celtic Music",
            "å·´è¥¿å·´è¨è¯ºç“¦ (Bossa Nova)": "Bossa Nova",
            "å¢¨è¥¿å“¥é©¬é‡Œäºšå¥‡ (Mariachi)": "Mariachi",
            
            // æƒ…ç»ªç¿»è¯‘
            "å¿«ä¹ (Happy)": "Happy",
            "æ‚²ä¼¤ (Sad)": "Sad",
            "æ„¤æ€’ (Angry)": "Angry",
            "ææƒ§ (Fearful)": "Fearful",
            "æƒŠè®¶ (Surprised)": "Surprised",
            "çˆ± (Loving)": "Loving",
            "å¸Œæœ› (Hopeful)": "Hopeful",
            "ç»æœ› (Despairing)": "Despairing",
            "å¹³é™ (Calm)": "Calm",
            "å…´å¥‹ (Excited)": "Excited",
            "æ€€æ—§ (Nostalgic)": "Nostalgic",
            "æµªæ¼« (Romantic)": "Romantic",
            "ç¥ç§˜ (Mysterious)": "Mysterious",
            "ç´§å¼  (Tense)": "Tense",
            "æ”¾æ¾ (Relaxed)": "Relaxed",
            "å¿§éƒ (Melancholic)": "Melancholic",
            "å–œæ‚¦ (Joyful)": "Joyful",
            "è‡ªè±ª (Proud)": "Proud",
            "ç¾æ„§ (Ashamed)": "Ashamed",
            "å«‰å¦’ (Jealous)": "Jealous",
            "å­¤ç‹¬ (Lonely)": "Lonely",
            "æ€å¿µ (Missing)": "Missing",
            "æœŸå¾… (Expectant)": "Expectant",
            "æ»¡è¶³ (Content)": "Content",
            "è´ªå©ª (Greedy)": "Greedy",
            "æ…·æ…¨ (Generous)": "Generous",
            "å‹‡æ•¢ (Brave)": "Brave",
            "èƒ†æ€¯ (Cowardly)": "Cowardly",
            "çƒ­æƒ… (Passionate)": "Passionate",
            "å†·æ¼  (Indifferent)": "Indifferent",
            "å¥½å¥‡ (Curious)": "Curious",
            "æ— èŠ (Bored)": "Bored",
            "æ„Ÿæ¿€ (Grateful)": "Grateful",
            "æ€¨æ¨ (Resentful)": "Resentful",
            "å®½æ• (Forgiving)": "Forgiving",
            "æŠ¥å¤ (Vengeful)": "Vengeful",
            "å¹³é™ (Peaceful)": "Peaceful",
            "æ··ä¹± (Chaotic)": "Chaotic",
            "å’Œè° (Harmonious)": "Harmonious",
            "å†²çª (Conflicting)": "Conflicting",
            "èƒœåˆ© (Triumphant)": "Triumphant",
            "å¤±è´¥ (Defeated)": "Defeated",
            "åšå¼º (Strong)": "Strong",
            "è„†å¼± (Vulnerable)": "Vulnerable",
            "è‡ªä¿¡ (Confident)": "Confident",
            "è‡ªå‘ (Insecure)": "Insecure",
            "è‡ªç”± (Free)": "Free",
            "æŸç¼š (Restricted)": "Restricted",
            "æ–°ç”Ÿ (Newborn)": "Newborn",
            "è¡°è€ (Aging)": "Aging",
            "æ¢¦å¹» (Dreamy)": "Dreamy",
            "ç°å® (Realistic)": "Realistic",
            "å¹»æƒ³ (Fantasy)": "Fantasy",
            "çœŸå® (Authentic)": "Authentic",
            "è™šå‡ (Fake)": "Fake",
            "æ¸©æš– (Warm)": "Warm",
            "å¯’å†· (Cold)": "Cold",
            "å…‰æ˜ (Bright)": "Bright",
            "é»‘æš— (Dark)": "Dark",
            "æ¸…æ™° (Clear)": "Clear",
            "æ¨¡ç³Š (Blurred)": "Blurred",
            "ç®€å• (Simple)": "Simple",
            "å¤æ‚ (Complex)": "Complex",
            
            // èŠ‚æ‹ç¿»è¯‘
            "4/4æ‹": "4/4 time",
            "3/4æ‹": "3/4 time",
            "6/8æ‹": "6/8 time",
            "2/4æ‹": "2/4 time",
            "5/4æ‹": "5/4 time",
            "7/8æ‹": "7/8 time",
            "12/8æ‹": "12/8 time",
            "è‡ªç”±èŠ‚æ‹": "Free time",
            "å¿«é€Ÿ (Fast)": "Fast",
            "ä¸­é€Ÿ (Moderate)": "Moderate",
            "æ…¢é€Ÿ (Slow)": "Slow",
            "æå¿« (Very Fast)": "Very Fast",
            "ææ…¢ (Very Slow)": "Very Slow",
            "è½»å¿« (Brisk)": "Brisk",
            "èˆ’ç¼“ (Leisurely)": "Leisurely",
            "æ€¥ä¿ƒ (Urgent)": "Urgent",
            "ä»å®¹ (Calm)": "Calm",
            "ç´§å‡‘ (Tight)": "Tight",
            "æ¾æ•£ (Loose)": "Loose",
            "ç¨³å®š (Steady)": "Steady",
            "å¤šå˜ (Variable)": "Variable",
            "å¼ºçƒˆ (Strong)": "Strong",
            "å¾®å¼± (Weak)": "Weak",
            "çªå‡º (Prominent)": "Prominent",
            "éšè— (Hidden)": "Hidden",
            "ç²¾ç¡® (Precise)": "Precise",
            "æ¨¡ç³Š (Blurred)": "Blurred",
            "è§„æ•´ (Regular)": "Regular",
            "ä¸è§„åˆ™ (Irregular)": "Irregular",
            "åˆ‡åˆ† (Syncopated)": "Syncopated",
            "å‡åˆ† (Even)": "Even",
            "é‡æ‹ (Heavy Accent)": "Heavy Accent",
            "è½»æ‹ (Light Accent)": "Light Accent",
            "æ‘‡æ‘†æ„Ÿ (Swing Feel)": "Swing Feel",
            "çº¿æ€§æ„Ÿ (Linear Feel)": "Linear Feel",
            "è·³è·ƒæ„Ÿ (Skippy)": "Skippy",
            "æµåŠ¨æ„Ÿ (Flowing)": "Flowing",
            "æœºæ¢°æ„Ÿ (Mechanical)": "Mechanical",
            "æœ‰æœºæ„Ÿ (Organic)": "Organic",
            
            // ä¹å™¨ç¿»è¯‘
            "åŸå£°å‰ä»– (Acoustic Guitar)": "acoustic guitar",
            "ç”µå‰ä»– (Electric Guitar)": "electric guitar",
            "å¤å…¸å‰ä»– (Classical Guitar)": "classical guitar",
            "è´æ–¯å‰ä»– (Bass Guitar)": "bass guitar",
            "å°æç´ (Violin)": "violin",
            "ä¸­æç´ (Viola)": "viola",
            "å¤§æç´ (Cello)": "cello",
            "ä½éŸ³æç´ (Double Bass)": "double bass",
            "ç«–ç´ (Harp)": "harp",
            "æ›¼é™€æ— (Mandolin)": "mandolin",
            "ç­å“ç´ (Banjo)": "banjo",
            "é•¿ç¬› (Flute)": "flute",
            "å•ç°§ç®¡ (Clarinet)": "clarinet",
            "åŒç°§ç®¡ (Oboe)": "oboe",
            "å·´æ¾ç®¡ (Bassoon)": "bassoon",
            "è¨å…‹æ–¯é£ (Saxophone)": "saxophone",
            "å°å· (Trumpet)": "trumpet",
            "é•¿å· (Trombone)": "trombone",
            "åœ†å· (French Horn)": "French horn",
            "å¤§å· (Tuba)": "tuba",
            "æ¶å­é¼“ (Drum Kit)": "drum kit",
            "å®šéŸ³é¼“ (Timpani)": "timpani",
            "åº·åŠ é¼“ (Conga)": "conga",
            "é‚¦æˆˆé¼“ (Bongo)": "bongo",
            "éæ´²é¼“ (Djembe)": "djembe",
            "é“ƒé¼“ (Tambourine)": "tambourine",
            "ä¸‰è§’é“ (Triangle)": "triangle",
            "é’¹ (Cymbals)": "cymbals",
            "æœ¨ç´ (Xylophone)": "xylophone",
            "ç”µé’¢ç´ (Electric Piano)": "electric piano",
            "é£ç´ (Organ)": "organ",
            "ç¾½ç®¡é”®ç´ (Harpsichord)": "harpsichord",
            "æ‰‹é£ç´ (Accordion)": "accordion",
            "ç”µå­é¼“ (Electronic Drums)": "electronic drums",
            "é‡‡æ ·å™¨ (Sampler)": "sampler",
            "é¼“æœº (Drum Machine)": "drum machine",
            "å£ç´ (Harmonica)": "harmonica",
            "æ‰‹é¼“ (Tabla)": "tabla",
            "å¡æ—å·´ (Kalimba)": "kalimba",
            
            // æ—‹å¾‹ç±»å‹ç¿»è¯‘
            "æµç•…çš„ (Flowing)": "flowing",
            "è·³è·ƒçš„ (Leaping)": "leaping",
            "çº§è¿›çš„ (Stepwise)": "stepwise",
            "æ–­æ–­ç»­ç»­çš„ (Staccato)": "staccato",
            "è¿ç»­çš„ (Continuous)": "continuous",
            "ç®€çŸ­çš„ (Short)": "short",
            "å†—é•¿çš„ (Long)": "long",
            "ä¸Šè¡Œçš„ (Ascending)": "ascending",
            "ä¸‹è¡Œçš„ (Descending)": "descending",
            "æ³¢æµªå½¢çš„ (Wavelike)": "wavelike",
            "é‡å¤çš„ (Repetitive)": "repetitive",
            "å˜åŒ–çš„ (Changing)": "changing",
            "ç®€å•çš„ (Simple)": "simple",
            "å¤æ‚çš„ (Complex)": "complex",
            "æ­Œå”±æ€§çš„ (Singing)": "singing",
            "è¯´è¯å¼çš„ (Speech-like)": "speech-like",
            "æŠ’æƒ…çš„ (Lyrical)": "lyrical",
            "å™äº‹çš„ (Narrative)": "narrative",
            "æ¬¢å¿«çš„ (Cheerful)": "cheerful",
            "æ‚²ä¼¤çš„ (Sad)": "sad",
            "ç¥ç§˜çš„ (Mysterious)": "mysterious",
            "æœ‰åŠ›çš„ (Powerful)": "powerful",
            "æŸ”å’Œçš„ (Soft)": "soft",
            "åˆºè€³çš„ (Harsh)": "harsh",
            "å’Œè°çš„ (Harmonious)": "harmonious",
            "ä¸å’Œè°çš„ (Dissonant)": "dissonant",
            "é«˜éŸ³ç¬¦ä¸ºä¸» (High-pitched)": "high-pitched",
            "ä½éŸ³ç¬¦ä¸ºä¸» (Low-pitched)": "low-pitched",
            "ä¸­éŸ³åŒºä¸ºä¸» (Mid-range)": "mid-range",
            "å®½å¹¿éŸ³åŸŸ (Wide Range)": "wide range",
            "ç‹­çª„éŸ³åŸŸ (Narrow Range)": "narrow range",
            "å¯¹ç§°çš„ (Symmetric)": "symmetric",
            "ä¸å¯¹ç§°çš„ (Asymmetric)": "asymmetric",
            "æœ‰æ£±è§’çš„ (Angular)": "angular",
            "åœ†æ¶¦çš„ (Rounded)": "rounded",
            "æœ‰æ‚¬å¿µçš„ (Suspenseful)": "suspenseful",
            "æœ‰è§£å†³æ„Ÿçš„ (Resolving)": "resolving",
            "æ¨¡è¿›çš„ (Sequence-based)": "sequence-based",
            "åŠ¨æœºå‘å±•çš„ (Motif Development)": "motif development",
            "å³å…´çš„ (Improvised)": "improvised",
            "ç²¾å¿ƒè®¾è®¡çš„ (Crafted)": "crafted",
            "æ°‘æ—é£æ ¼çš„ (Ethnic)": "ethnic",
            "ç°ä»£é£æ ¼çš„ (Modern)": "modern",
            "å¤å¤é£æ ¼çš„ (Retro)": "retro",
            
            // å’Œå£°ç±»å‹ç¿»è¯‘
            "ä¸‰å’Œå¼¦ (Triads)": "triads",
            "ä¸ƒå’Œå¼¦ (Seventh Chords)": "seventh chords",
            "ä¹å’Œå¼¦ (Ninth Chords)": "ninth chords",
            "åä¸€å’Œå¼¦ (Eleventh Chords)": "eleventh chords",
            "åä¸‰å’Œå¼¦ (Thirteenth Chords)": "thirteenth chords",
            "æ‰©å±•å’Œå¼¦ (Extended Chords)": "extended chords",
            "å˜åŒ–å’Œå¼¦ (Altered Chords)": "altered chords",
            "æ›¿ä»£å’Œå¼¦ (Substitute Chords)": "substitute chords",
            "æŒç»­ä½éŸ³ (Pedal Point)": "pedal point",
            "å’Œå¼¦è¿›è¡Œ (Chord Progression)": "chord progression",
            "åŠŸèƒ½å’Œå£° (Functional Harmony)": "functional harmony",
            "éåŠŸèƒ½å’Œå£° (Non-functional Harmony)": "non-functional harmony",
            "è°ƒæ€§å’Œå£° (Tonal Harmony)": "tonal harmony",
            "æ— è°ƒæ€§å’Œå£° (Atonal Harmony)": "atonal harmony",
            "è°ƒå¼å’Œå£° (Modal Harmony)": "modal harmony",
            "çˆµå£«å’Œå£° (Jazz Harmony)": "jazz harmony",
            "æµè¡Œå’Œå£° (Pop Harmony)": "pop harmony",
            "å¤å…¸å’Œå£° (Classical Harmony)": "classical harmony",
            "æ°‘æ—å’Œå£° (Ethnic Harmony)": "ethnic harmony",
            "ç”µå­å’Œå£° (Electronic Harmony)": "electronic harmony",
            "ç®€çº¦å’Œå£° (Minimal Harmony)": "minimal harmony",
            "å¤æ‚å’Œå£° (Complex Harmony)": "complex harmony",
            "åå’Œçš„ (Consonant)": "consonant",
            "ä¸åå’Œçš„ (Dissonant)": "dissonant",
            "æ˜äº®çš„ (Bright)": "bright",
            "é˜´æš—çš„ (Dark)": "dark",
            "ä¸°å¯Œçš„ (Rich)": "rich",
            "å•è–„çš„ (Thin)": "thin",
            "é™æ€çš„ (Static)": "static",
            "åŠ¨æ€çš„ (Dynamic)": "dynamic",
            "æµåŠ¨çš„ (Flowing)": "flowing",
            "å—çŠ¶çš„ (Block-like)": "block-like",
            "å¯¹ä½çš„ (Contrapuntal)": "contrapuntal",
            "å¹³è¡Œçš„ (Parallel)": "parallel",
            "åè¡Œçš„ (Contrary Motion)": "contrary motion",
            "åŒå‘çš„ (Similar Motion)": "similar motion",
            "æ–œå‘çš„ (Oblique Motion)": "oblique motion",
            "æŒç»­çš„ (Sustained)": "sustained",
            "äº¤æ›¿çš„ (Alternating)": "alternating",
            "åŠéŸ³çš„ (Chromatic)": "chromatic",
            "å…¨éŸ³çš„ (Diatonic)": "diatonic",
            "äº”å£°éŸ³é˜¶çš„ (Pentatonic)": "pentatonic",
            "è“è°ƒéŸ³é˜¶çš„ (Blues Scale)": "blues scale",
            
            // èŠ‚å¥ç±»å‹ç¿»è¯‘
            "å‡åˆ†èŠ‚å¥ (Even Rhythm)": "even rhythm",
            "åˆ‡åˆ†èŠ‚å¥ (Syncopation)": "syncopation",
            "ä¸‰è¿éŸ³ (Triplets)": "triplets",
            "äº”è¿éŸ³ (Fivelets)": "fivelets",
            "ä¸ƒè¿éŸ³ (Sevenlets)": "sevenlets",
            "å¤åˆèŠ‚æ‹ (Compound Meter)": "compound meter",
            "ç®€å•èŠ‚æ‹ (Simple Meter)": "simple meter",
            "æ··åˆèŠ‚æ‹ (Mixed Meter)": "mixed meter",
            "äº¤é”™èŠ‚æ‹ (Cross Rhythm)": "cross rhythm",
            "å¤èŠ‚å¥ (Polyrhythm)": "polyrhythm",
            "é‡å¤èŠ‚å¥å‹ (Repeating Pattern)": "repeating pattern",
            "å˜åŒ–èŠ‚å¥å‹ (Changing Pattern)": "changing pattern",
            "ç¨³å®šèŠ‚å¥ (Steady Rhythm)": "steady rhythm",
            "è‡ªç”±èŠ‚å¥ (Free Rhythm)": "free rhythm",
            "å¯†é›†èŠ‚å¥ (Dense Rhythm)": "dense rhythm",
            "ç¨€ç–èŠ‚å¥ (Sparse Rhythm)": "sparse rhythm",
            "é©±åŠ¨æ€§èŠ‚å¥ (Driving Rhythm)": "driving rhythm",
            "æ¾å¼›èŠ‚å¥ (Relaxed Rhythm)": "relaxed rhythm",
            "æœºæ¢°èŠ‚å¥ (Mechanical Rhythm)": "mechanical rhythm",
            "è‡ªç„¶èŠ‚å¥ (Natural Rhythm)": "natural rhythm",
            "èˆè¹ˆæ€§èŠ‚å¥ (Danceable Rhythm)": "danceable rhythm",
            "éèˆè¹ˆæ€§èŠ‚å¥ (Non-danceable Rhythm)": "non-danceable rhythm",
            "æ‰“å‡»ä¹ä¸»å¯¼ (Percussion-led)": "percussion-led",
            "æ—‹å¾‹ä¸»å¯¼ (Melody-led)": "melody-led",
            "è„‰å†²å¼ (Pulsating)": "pulsating",
            "æµåŠ¨å¼ (Flowing)": "flowing",
            "è·³è·ƒå¼ (Skipping)": "skipping",
            "é¡¿æŒ«å¼ (Staccato)": "staccato",
            "è¿å¥å¼ (Legato)": "legato",
            "æ–­å¥å¼ (Detached)": "detached",
            "å¼ºè°ƒé‡æ‹ (Strong Downbeat)": "strong downbeat",
            "å¼±åŒ–é‡æ‹ (Weak Downbeat)": "weak downbeat",
            "äº¤æ›¿é‡éŸ³ (Alternating Accents)": "alternating accents",
            "ä¸è§„åˆ™é‡éŸ³ (Irregular Accents)": "irregular accents",
            "éæ´²èŠ‚å¥ (African Rhythms)": "African rhythms",
            "æ‹‰ä¸èŠ‚å¥ (Latin Rhythms)": "Latin rhythms",
            "çˆµå£«èŠ‚å¥ (Jazz Rhythms)": "jazz rhythms",
            "æ‘‡æ»šèŠ‚å¥ (Rock Rhythms)": "rock rhythms",
            "ç”µå­èŠ‚å¥ (Electronic Rhythms)": "electronic rhythms",
            "å¤å…¸èŠ‚å¥ (Classical Rhythms)": "classical rhythms",
            "æ°‘æ—èŠ‚å¥ (Ethnic Rhythms)": "ethnic rhythms",
            
            // æ•ˆæœå™¨ç¿»è¯‘
            "æ··å“ (Reverb)": "reverb",
            "å»¶è¿Ÿ (Delay)": "delay",
            "å›å£° (Echo)": "echo",
            "åˆå”± (Chorus)": "chorus",
            "é•¶è¾¹ (Flanger)": "flanger",
            "ç›¸ä½ (Phaser)": "phaser",
            "å¤±çœŸ (Distortion)": "distortion",
            "è¿‡è½½ (Overdrive)": "overdrive",
            "æ³•å…¹ (Fuzz)": "fuzz",
            "å‹ç¼© (Compression)": "compression",
            "å‡è¡¡å™¨ (EQ)": "EQ",
            "æ»¤æ³¢å™¨ (Filter)": "filter",
            "å£°åƒ (Pan)": "pan",
            "éŸ³é‡è‡ªåŠ¨åŒ– (Volume Automation)": "volume automation",
            "å£°ç å™¨ (Vocoder)": "vocoder",
            "è‡ªåŠ¨è°ƒéŸ³ (Auto-Tune)": "auto-tune",
            "é¢—ç²’æ„Ÿ (Granular)": "granular",
            "ç¯å½¢è°ƒåˆ¶ (Ring Modulation)": "ring modulation",
            "é¢¤éŸ³ (Tremolo)": "tremolo",
            "éœ‡éŸ³ (Vibrato)": "vibrato",
            "Wah-wah": "wah-wah",
            "ç§»ç›¸å™¨ (Phase Shifter)": "phase shifter",
            "ç©ºé—´åŒ– (Spatialization)": "spatialization",
            "ç«‹ä½“å£°æ‰©å±• (Stereo Widening)": "stereo widening",
            "é™å™ª (Noise Reduction)": "noise reduction",
            "é—¨é™ (Gate)": "gate",
            "ä¾§é“¾å‹ç¼© (Sidechain Compression)": "sidechain compression",
            "é¥±å’Œ (Saturation)": "saturation",
            "ç£å¸¦æ¨¡æ‹Ÿ (Tape Simulation)": "tape simulation",
            "Vinylæ¨¡æ‹Ÿ (Vinyl Simulation)": "vinyl simulation",
            "æ”¾å¤§å™¨æ¨¡æ‹Ÿ (Amp Simulation)": "amp simulation",
            "ç®±ä½“æ¨¡æ‹Ÿ (Cabinet Simulation)": "cabinet simulation",
            "å·ç§¯æ··å“ (Convolution Reverb)": "convolution reverb",
            "å¼¹ç°§æ··å“ (Spring Reverb)": "spring reverb",
            "æ¿å¼æ··å“ (Plate Reverb)": "plate reverb",
            "æˆ¿é—´æ··å“ (Room Reverb)": "room reverb",
            "å¤§å…æ··å“ (Hall Reverb)": "hall reverb",
            "æ•™å ‚æ··å“ (Church Reverb)": "church reverb",
            "åå‘æ··å“ (Reverse Reverb)": "reverse reverb",
            "ä¹’ä¹“å»¶è¿Ÿ (Ping Pong Delay)": "ping pong delay",
            "æ¨¡æ‹Ÿå»¶è¿Ÿ (Analog Delay)": "analog delay",
            "æ•°å­—å»¶è¿Ÿ (Digital Delay)": "digital delay",
            "ç£å¸¦å»¶è¿Ÿ (Tape Delay)": "tape delay",
            "Lo-fiæ•ˆæœ (Lo-fi Effect)": "lo-fi effect",
            "é«˜ä¿çœŸæ•ˆæœ (Hi-fi Effect)": "hi-fi effect",
            "æ¸©æš–æ•ˆæœ (Warm Effect)": "warm effect",
            "å†°å†·æ•ˆæœ (Cold Effect)": "cold effect",
            "æ¨¡ç³Šæ•ˆæœ (Blurry Effect)": "blurry effect",
            "æ¸…æ™°æ•ˆæœ (Clear Effect)": "clear effect",
            "ç©ºé—´æ„Ÿ (Spatial)": "spatial",
            "äº²å¯†æ„Ÿ (Intimate)": "intimate",
            "è¿œè·ç¦»æ„Ÿ (Distant)": "distant",
            "åŒ…å›´æ„Ÿ (Enveloping)": "enveloping",
            "ç©ºçµ (Ethereal)": "ethereal",
            "åšé‡ (Heavy)": "heavy",
            "è½»ç›ˆ (Light)": "light",
            "æ¹¿æ¶¦ (Wet)": "wet",
            "å¹²ç‡¥ (Dry)": "dry",
            
            // ä¸­å›½é£ä¹å™¨ç¿»è¯‘
            "å¤ç­ (Guzheng, Chinese Zither)": "guzheng (Chinese zither)",
            "å¤ç´ (Guqin, Chinese 7-string Zither)": "guqin (Chinese 7-string zither)",
            "äºŒèƒ¡ (Erhu, Chinese Fiddle)": "erhu (Chinese fiddle)",
            "äº¬èƒ¡ (Jinghu, Beijing Opera Fiddle)": "jinghu (Beijing opera fiddle)",
            "æ¿èƒ¡ (Banhu, Chinese Fiddle)": "banhu (Chinese fiddle)",
            "é«˜èƒ¡ (Gaohu, High-pitched Fiddle)": "gaohu (high-pitched fiddle)",
            "ä¸­èƒ¡ (Zhonghu, Middle-pitched Fiddle)": "zhonghu (middle-pitched fiddle)",
            "ä½èƒ¡ (Dihu, Low-pitched Fiddle)": "dihu (low-pitched fiddle)",
            "å èƒ¡ (Zhuihu, Chinese Fiddle)": "zhuihu (Chinese fiddle)",
            "é©¬å¤´ç´ (Matouqin, Horse-head Fiddle)": "matouqin (horse-head fiddle)",
            "æ‰¬ç´ (Yangqin, Chinese Dulcimer)": "yangqin (Chinese dulcimer)",
            "çµç¶ (Pipa, Chinese Lute)": "pipa (Chinese lute)",
            "æŸ³ç´ (Liuqin, Willow Lute)": "liuqin (willow lute)",
            "é˜® (ä¸­é˜®ã€å¤§é˜®ã€å°é˜®) (Ruan, Chinese Lute - alto, bass, soprano)": "ruan (Chinese lute - alto, bass, soprano)",
            "æœˆç´ (Yueqin, Moon Lute)": "yueqin (moon lute)",
            "ä¸‰å¼¦ (Sanxian, Three-stringed Lute)": "sanxian (three-stringed lute)",
            "ç®œç¯Œ (Konghou, Chinese Harp)": "konghou (Chinese harp)",
            "ç¬™ (Sheng, Chinese Mouth Organ)": "sheng (Chinese mouth organ)",
            "ç«½ (Yu, Chinese Mouth Organ)": "yu (Chinese mouth organ)",
            "ç¬›å­ (æ¢†ç¬›ã€æ›²ç¬›) (Dizi, Chinese Flute - bangdi, qudi)": "dizi (Chinese flute - bangdi, qudi)",
            "ç®« (æ´ç®«ã€å—ç®«) (Xiao, Chinese Vertical Flute - dongxiao, nanxiao)": "xiao (Chinese vertical flute - dongxiao, nanxiao)",
            "å”¢å‘ (Suona, Chinese Oboe)": "suona (Chinese oboe)",
            "ç®¡å­ (Guanzi, Chinese Reed Pipe)": "guanzi (Chinese reed pipe)",
            "å·´ä¹Œ (Bawu, Chinese Free-reed Instrument)": "bawu (Chinese free-reed instrument)",
            "è‘«èŠ¦ä¸ (Hulusi, Gourd Flute)": "hulusi (gourd flute)",
            "åŸ™ (Xun, Chinese Ocarina)": "xun (Chinese ocarina)",
            "é™¶ç¬› (Taodi, Chinese Clay Ocarina)": "taodi (Chinese clay ocarina)",
            "å ‚é¼“ (Tanggu, Chinese Bass Drum)": "tanggu (Chinese bass drum)",
            "æ¿é¼“ (Bangu, Chinese Drum)": "bangu (Chinese drum)",
            "æ’é¼“ (Paigu, Chinese Drum Set)": "paigu (Chinese drum set)",
            "èŠ±ç›†é¼“ (Huapen Gu, Flowerpot Drum)": "huapen gu (flowerpot drum)",
            "é“œé¼“ (Tonggu, Bronze Drum)": "tonggu (bronze drum)",
            "ç¼–é’Ÿ (Bianzhong, Chime Bells)": "bianzhong (chime bells)",
            "ç¼–ç£¬ (Bianqing, Chime Stones)": "bianqing (chime stones)",
            "äº‘é”£ (Yunluo, Cloud Gongs)": "yunluo (cloud gongs)",
            "é“™é’¹ (Naobo, Cymbals)": "naobo (cymbals)",
            "é•² (Cha, Cymbals)": "cha (cymbals)",
            "æœ¨é±¼ (Muyu, Wooden Fish)": "muyu (wooden fish)",
            "æ¢†å­ (Bangzi, Clappers)": "bangzi (clappers)",
            "æ‹æ¿ (Paiban, Clappers)": "paiban (clappers)",
            "å“æ¿ (Xiangban, Castanets)": "xiangban (castanets)",
            "é“ƒé¼“ (Linggu, Tambourine)": "linggu (tambourine)",
            "å†¬ä¸æ‹‰ (Dongbula, Kazakh Lute)": "dongbula (Kazakh lute)",
            "çƒ­ç“¦æ™® (Rewapu, Uyghur Lute)": "rewapu (Uyghur lute)",
            "å¼¹å¸ƒå°” (Tanbur, Uyghur Lute)": "tanbur (Uyghur lute)",
            "è‰¾æ·å…‹ (Aijieke, Uyghur Fiddle)": "aijieke (Uyghur fiddle)",
            "æ‰‹é¼“ (Shougu, Hand Drum)": "shougu (hand drum)",
            "è¨å·´ä¾ (Sabayi, Uyghur Percussion)": "sabayi (Uyghur percussion)",
            "éƒ½å¡”å°” (Dutar, Uyghur Lute)": "dutar (Uyghur lute)",
            "å¡é¾™ (Kalon, Uyghur Zither)": "kalon (Uyghur zither)",
            "ç­šç¯¥ (Bili, Reed Pipe)": "bili (reed pipe)",
            "å‹’å°¤ (Leyou, Reed Pipe)": "leyou (reed pipe)",
            "é©¬éª¨èƒ¡ (Maguhu, Horse Bone Fiddle)": "maguhu (horse bone fiddle)",
            "å¤©ç´ (Tianqin, Heaven Lute)": "tianqin (heaven lute)",
            "ç‹¬å¼¦ç´ (Duxianqin, One-string Zither)": "duxianqin (one-string zither)",
            "èŠ¦ç¬™ (Lusheng, Reed Pipe)": "lusheng (reed pipe)",
            "èŠ’ç­’ (Mangtong, Bass Reed Pipe)": "mangtong (bass reed pipe)",
            "å£å¼¦ (Kouxian, Jaw Harp)": "kouxian (jaw harp)",
            "ä¾—ç¬› (Dongdi, Dong Flute)": "dongdi (Dong flute)",
            "å”å’§ (Lilie, Reed Pipe)": "lilie (reed pipe)",
            "ä¹ƒä¾ (Naiyi, Reed Pipe)": "naiyi (reed pipe)",
            "åˆšæ´ (Gangdong, Tibetan Drum)": "gangdong (Tibetan drum)",
            "æ‰å¿µç´ (Zhanianqin, Tibetan Lute)": "zhanianqin (Tibetan lute)",
            "é¹°ç¬› (Yingdi, Eagle Bone Flute)": "yingdi (eagle bone flute)",
            "ç‰›è§’å· (Niujiaohao, Ox Horn)": "niujiaohao (ox horn)",
            "æµ·èºå· (Hailuohao, Conch Horn)": "hailuohao (conch horn)",
            
            // äººå£°é£æ ¼ç¿»è¯‘
            "æµè¡Œå”±æ³• (Pop Vocals)": "pop vocals",
            "æ‘‡æ»šå”±æ³• (Rock Vocals)": "rock vocals",
            "çˆµå£«å”±æ³• (Jazz Vocals)": "jazz vocals",
            "R&Bå”±æ³• (R&B Vocals)": "R&B vocals",
            "å˜»å“ˆè¯´å”± (Hip Hop Vocals)": "hip hop vocals",
            "ä¹¡æ‘å”±æ³• (Country Vocals)": "country vocals",
            "æ°‘è°£å”±æ³• (Folk Vocals)": "folk vocals",
            "è“è°ƒå”±æ³• (Blues Vocals)": "blues vocals",
            "çµé­‚å”±æ³• (Soul Vocals)": "soul vocals",
            "ç¦éŸ³å”±æ³• (Gospel Vocals)": "gospel vocals",
            "æ­Œå‰§å”±æ³• (Opera Vocals)": "opera vocals",
            "ç¾å£°å”±æ³• (Bel Canto)": "bel canto",
            "éŸ³ä¹å‰§å”±æ³• (Musical Theater Vocals)": "musical theater vocals",
            "å˜¶å¼å”±æ³• (Screaming Vocals)": "screaming vocals",
            "æ­»äº¡é‡‘å±å”±æ³• (Death Metal Vocals)": "death metal vocals",
            "é»‘é‡‘å±å”±æ³• (Black Metal Vocals)": "black metal vocals",
            "åŸå”± (Chanting)": "chanting",
            "è¯´å”± (Rapping)": "rapping",
            "åŸè¯µ (Recitation)": "recitation",
            "è€³è¯­ (Whispering)": "whispering",
            "å‡å£° (Falsetto)": "falsetto",
            "å¤´å£° (Head Voice)": "head voice",
            "èƒ¸å£° (Chest Voice)": "chest voice",
            "æ··å£° (Mixed Voice)": "mixed voice",
            "æ°”å£° (Breathy Vocals)": "breathy vocals",
            "æ²™å“‘å£° (Gritty Vocals)": "gritty vocals",
            "æ¸…æ¾ˆå£° (Clear Vocals)": "clear vocals",
            "é†‡åšå£° (Rich Vocals)": "rich vocals",
            "é«˜äº¢å£° (Powerful Vocals)": "powerful vocals",
            "æŸ”å’Œå£° (Soft Vocals)": "soft vocals",
            "ç«¥å£° (Childlike Vocals)": "childlike vocals",
            "æˆç†Ÿå£° (Mature Vocals)": "mature vocals",
            "ç”·æ€§å£° (Male Vocals)": "male vocals",
            "å¥³æ€§å£° (Female Vocals)": "female vocals",
            "åˆå”± (Choral Vocals)": "choral vocals",
            "å’Œå£° (Harmony Vocals)": "harmony vocals",
            "ä¸»å”± (Lead Vocals)": "lead vocals",
            "ä¼´å”± (Backing Vocals)": "backing vocals",
            "å¯¹å”± (Duet Vocals)": "duet vocals",
            "è½®å”± (Round Vocals)": "round vocals",
            "å³å…´æ¼”å”± (Improvised Vocals)": "improvised vocals",
            "é¢¤éŸ³ (Vibrato)": "vibrato",
            "æ»‘éŸ³ (Sliding)": "sliding",
            "è£…é¥°éŸ³ (Ornamentation)": "ornamentation",
            "æ‹Ÿå£° (Vocal Percussion)": "vocal percussion",
            "Beatboxing": "beatboxing",
            "å‘¼éº¦ (Throat Singing)": "throat singing",
            "æ°‘æ—å”±æ³• (Ethnic Vocals)": "ethnic vocals",
            "ä¼ ç»Ÿå”±æ³• (Traditional Vocals)": "traditional vocals",
            "ç°ä»£å”±æ³• (Contemporary Vocals)": "contemporary vocals",
            "å®éªŒæ€§å”±æ³• (Experimental Vocals)": "experimental vocals",
            
            // è¯­ç§ç¿»è¯‘
            "ä¸­æ–‡ (Chinese)": "Chinese",
            "è‹±è¯­ (English)": "English",
            "æ—¥è¯­ (Japanese)": "Japanese",
            "éŸ©è¯­ (Korean)": "Korean",
            "è¥¿ç­ç‰™è¯­ (Spanish)": "Spanish",
            "æ³•è¯­ (French)": "French",
            "å¾·è¯­ (German)": "German",
            "ä¿„è¯­ (Russian)": "Russian",
            "æ„å¤§åˆ©è¯­ (Italian)": "Italian",
            "è‘¡è„ç‰™è¯­ (Portuguese)": "Portuguese",
            "é˜¿æ‹‰ä¼¯è¯­ (Arabic)": "Arabic",
            "å°åœ°è¯­ (Hindi)": "Hindi",
            "ä¹Œå°”éƒ½è¯­ (Urdu)": "Urdu",
            "å­ŸåŠ æ‹‰è¯­ (Bengali)": "Bengali",
            "æ³°è¯­ (Thai)": "Thai",
            "è¶Šå—è¯­ (Vietnamese)": "Vietnamese",
            "å°å°¼è¯­ (Indonesian)": "Indonesian",
            "é©¬æ¥è¯­ (Malay)": "Malay",
            "åœŸè€³å…¶è¯­ (Turkish)": "Turkish",
            "æ³¢æ–¯è¯­ (Persian)": "Persian",
            "å¸Œä¼¯æ¥è¯­ (Hebrew)": "Hebrew",
            "å¸Œè…Šè¯­ (Greek)": "Greek",
            "è·å…°è¯­ (Dutch)": "Dutch",
            "ç‘å…¸è¯­ (Swedish)": "Swedish",
            "æŒªå¨è¯­ (Norwegian)": "Norwegian",
            "ä¸¹éº¦è¯­ (Danish)": "Danish",
            "èŠ¬å…°è¯­ (Finnish)": "Finnish",
            "æ³¢å…°è¯­ (Polish)": "Polish",
            "æ·å…‹è¯­ (Czech)": "Czech",
            "åŒˆç‰™åˆ©è¯­ (Hungarian)": "Hungarian",
            "ç½—é©¬å°¼äºšè¯­ (Romanian)": "Romanian",
            "å¡å°”ç»´äºšè¯­ (Serbian)": "Serbian",
            "å…‹ç½—åœ°äºšè¯­ (Croatian)": "Croatian",
            "ä¿åŠ åˆ©äºšè¯­ (Bulgarian)": "Bulgarian",
            "ä¹Œå…‹å…°è¯­ (Ukrainian)": "Ukrainian",
            "å“ˆè¨å…‹è¯­ (Kazakh)": "Kazakh",
            "è’™å¤è¯­ (Mongolian)": "Mongolian",
            "è€æŒè¯­ (Lao)": "Lao",
            "æŸ¬åŸ”å¯¨è¯­ (Khmer)": "Khmer",
            "ç¼…ç”¸è¯­ (Burmese)": "Burmese",
            "å°¼æ³Šå°”è¯­ (Nepali)": "Nepali",
            "åƒ§ä¼½ç½—è¯­ (Sinhala)": "Sinhala",
            "è±ªè¨è¯­ (Hausa)": "Hausa",
            "æ–¯ç“¦å¸Œé‡Œè¯­ (Swahili)": "Swahili",
            "é˜¿å§†å“ˆæ‹‰è¯­ (Amharic)": "Amharic",
            "çº¦é²å·´è¯­ (Yoruba)": "Yoruba",
            "ä¼Šåšè¯­ (Igbo)": "Igbo",
            "ç¥–é²è¯­ (Zulu)": "Zulu",
            "å—éè·å…°è¯­ (Afrikaans)": "Afrikaans",
            "æ‹‰ä¸è¯­ (Latin)": "Latin",
            "æ¢µè¯­ (Sanskrit)": "Sanskrit",
            "å¤æ±‰è¯­ (Classical Chinese)": "Classical Chinese",
            "æ–‡è¨€æ–‡ (Literary Chinese)": "Literary Chinese",
            "ç²¤è¯­ (Cantonese)": "Cantonese",
            "é—½å—è¯­ (Minnan)": "Minnan",
            "å´è¯­ (Wu Chinese)": "Wu Chinese",
            "å®¢å®¶è¯­ (Hakka)": "Hakka",
            "æ¹˜è¯­ (Xiang Chinese)": "Xiang Chinese",
            "èµ£è¯­ (Gan Chinese)": "Gan Chinese",
            "æ™‹è¯­ (Jin Chinese)": "Jin Chinese",
            "è—è¯­ (Tibetan)": "Tibetan",
            "ç»´å¾å°”è¯­ (Uyghur)": "Uyghur",
            "å£®è¯­ (Zhuang)": "Zhuang",
            "è‹—è¯­ (Hmong)": "Hmong",
            "å½è¯­ (Yi)": "Yi",
            "æœé²œè¯­ (Korean)": "Korean",
            "æ»¡è¯­ (Manchu)": "Manchu",
            "æ— æ­Œè¯ (Wordless)": "wordless",
            "æ‹Ÿå£°è¯ (Vocables)": "vocables",
            "æ··åˆè¯­è¨€ (Mixed Languages)": "mixed languages",
            "äººé€ è¯­è¨€ (Constructed Language)": "constructed language",
            
            // æ­Œæ›²ç»“æ„ç¿»è¯‘
            "ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)": "verse-chorus structure",
            "ä¸»æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ (Verse-Chorus-Bridge)": "verse-chorus-bridge structure",
            "AABAç»“æ„ (AABA Form)": "AABA form",
            "ABABç»“æ„ (ABAB Form)": "ABAB form",
            "ABACç»“æ„ (ABAC Form)": "ABAC form",
            "ä¸‰éƒ¨æ›²å¼ (Ternary Form)": "ternary form",
            "äºŒéƒ¨æ›²å¼ (Binary Form)": "binary form",
            "å˜å¥æ›²å¼ (Variation Form)": "variation form",
            "å›æ—‹æ›²å¼ (Rondo Form)": "rondo form",
            "å¥é¸£æ›²å¼ (Sonata Form)": "sonata form",
            "å¼•å­-ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ (Intro-Verse-Pre-Chorus-Chorus)": "intro-verse-pre-chorus-chorus structure",
            "ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ-å‰¯æ­Œ (Verse-Pre-Chorus-Chorus-Bridge-Chorus)": "verse-pre-chorus-chorus-bridge-chorus structure",
            "æ¸è¿›å¼ç»“æ„ (Progressive Structure)": "progressive structure",
            "å¾ªç¯ç»“æ„ (Cyclic Structure)": "cyclic structure",
            "å³å…´ç»“æ„ (Improvisational Structure)": "improvisational structure",
            "è‡ªç”±ç»“æ„ (Free Form)": "free form",
            "å•ä¸€ä¸»é¢˜ (Single Theme)": "single theme",
            "å¤šä¸»é¢˜ (Multiple Themes)": "multiple themes",
            "å‰å¥ (Intro)": "intro",
            "å°¾å¥ (Outro)": "outro",
            "é—´å¥ (Interlude)": "interlude",
            "ç‹¬å¥æ®µ (Solo Section)": "solo section",
            "é¼“ç‚¹é—´å¥ (Drum Break)": "drum break",
            "Build-up-é‡Šæ”¾ (Build-up and Release)": "build-up and release",
            "æ¸å¼º-æ¸å¼± (Crescendo and Diminuendo)": "crescendo and diminuendo",
            "é‡å¤-å˜åŒ– (Repetition and Variation)": "repetition and variation",
            "å¯¹æ¯”-ç»Ÿä¸€ (Contrast and Unity)": "contrast and unity",
            "å™äº‹æ€§ç»“æ„ (Narrative Structure)": "narrative structure",
            "æŠ’æƒ…æ€§ç»“æ„ (Lyrical Structure)": "lyrical structure",
            "èˆæ›²ç»“æ„ (Dance Structure)": "dance structure",
            "ç”µå­èˆæ›²ç»“æ„ (EDM Structure)": "EDM structure",
            "å¤å…¸éŸ³ä¹ç»“æ„ (Classical Structure)": "classical structure",
            "çˆµå£«æ ‡å‡†ç»“æ„ (Jazz Standard Structure)": "jazz standard structure",
            "æ°‘æ­Œç»“æ„ (Folk Song Structure)": "folk song structure",
            "è¯—æ­Œç»“æ„ (Poetic Structure)": "poetic structure",
            "å¼€æ”¾å¼ç»“æ„ (Open Structure)": "open structure",
            "å°é—­å¼ç»“æ„ (Closed Structure)": "closed structure",
            "å¾®å‹ç»“æ„ (Miniature Structure)": "miniature structure",
            "å®å¤§ç»“æ„ (Grand Structure)": "grand structure",
            "æ¦‚å¿µæ€§ç»“æ„ (Conceptual Structure)": "conceptual structure",
            "å®éªŒæ€§ç»“æ„ (Experimental Structure)": "experimental structure",
            
            // è¿›é˜¶è®¾ç½®ç¿»è¯‘
            "é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³": "high fidelity, professional mixing",
            "æ ‡å‡†è´¨é‡ï¼Œé€‚åˆæµåª’ä½“": "standard quality, suitable for streaming",
            "ä½ä¿çœŸï¼Œå¤å¤æ•ˆæœ": "lo-fi, vintage effect",
            "å®éªŒæ€§éŸ³è´¨": "experimental audio quality",
            "ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼": "rich, with clear emotional progression",
            "å¹³ç¨³ï¼Œé€‚åˆèƒŒæ™¯éŸ³ä¹": "steady, suitable for background music",
            "å¼ºçƒˆå¯¹æ¯”ï¼Œæˆå‰§æ€§æ•ˆæœ": "strong contrast, dramatic effect",
            "3-4åˆ†é’Ÿ": "3-4 minutes",
            "2-3åˆ†é’Ÿ": "2-3 minutes",
            "4-5åˆ†é’Ÿ": "4-5 minutes",
            "5åˆ†é’Ÿä»¥ä¸Š": "over 5 minutes",
            "ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3": "stereo WAV/high-quality MP3",
            "MP3 320kbps": "MP3 320kbps",
            "FLACæ— æŸ": "FLAC lossless",
            "å¤šè½¨é“æ–‡ä»¶": "multi-track files"
        };

        // 25ä¸ªçƒ­é—¨é£æ ¼é¢„è®¾ (V2.0å¢å¼ºç‰ˆ)
        const stylePresets = [
            {
                id: 1,
                name: "æµè¡Œæƒ…æ­Œ",
                description: "åè¯­æµè¡Œæƒ…æ­Œé£æ ¼ï¼Œé€‚åˆè¡¨è¾¾ç»†è…»æƒ…æ„Ÿ",
                color: "#FF6B8B",
                icon: "fa-heart",
                settings: {
                    musicStyles: ["æµè¡Œ (Pop)"],
                    emotions: ["æµªæ¼« romantic", "å¿§éƒ melancholic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["é’¢ç´ piano", "å¼¦ä¹ strings"],
                    vocalStyles: ["æµè¡Œå”±æ³• (Pop Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)"],
                    structures: ["ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)"]
                }
            },
            {
                id: 2,
                name: "åŸå¸‚æ°‘è°£",
                description: "ç°ä»£æ°‘è°£é£æ ¼ï¼Œé€‚åˆè®²è¿°åŸå¸‚æ•…äº‹",
                color: "#2E8B57",
                icon: "fa-tree",
                settings: {
                    musicStyles: ["æ°‘è°£ (Folk)"],
                    emotions: ["æ€€æ—§ nostalgic", "å­¤ç‹¬ lonely"],
                    beats: ["6/8æ‹"],
                    instruments: ["åŸå£°å‰ä»– (Acoustic Guitar)"],
                    vocalStyles: ["æ°‘è°£å”±æ³• (Folk Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)"],
                    structures: ["æ°‘æ­Œç»“æ„ (Folk Song Structure)"]
                }
            },
            {
                id: 3,
                name: "ç”µå­æ°›å›´",
                description: "æ°›å›´ç”µå­éŸ³ä¹ï¼Œé€‚åˆå†¥æƒ³å’Œä¸“æ³¨",
                color: "#9B5DE5",
                icon: "fa-cloud",
                settings: {
                    musicStyles: ["ç¯å¢ƒéŸ³ä¹ (Ambient)", "ç”µå­ (Electronic)"],
                    emotions: ["å¹³é™ calm", "æ¢¦å¹» dreamy"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer"],
                    effects: ["æ··å“ (Reverb)", "å»¶è¿Ÿ (Delay)"],
                    structures: ["æ¸è¿›å¼ç»“æ„ (Progressive Structure)"]
                }
            },
            {
                id: 4,
                name: "å›½é£æ–°éŸµ",
                description: "ç°ä»£å›½é£éŸ³ä¹ï¼Œä¼ ç»Ÿä¸æ—¶å°šç»“åˆ",
                color: "#D4AF37",
                icon: "fa-pagoda",
                settings: {
                    musicStyles: ["ä¸­å›½é£ (Chinese Style)"],
                    emotions: ["ç¥ç§˜ mysterious", "å²è¯— epic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["å¤ç­ (Guzheng, Chinese Zither)", "ç¬›å­ (æ¢†ç¬›ã€æ›²ç¬›) (Dizi, Chinese Flute - bangdi, qudi)"],
                    vocalStyles: ["æ°‘æ—å”±æ³• (Ethnic Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)"],
                    structures: ["å™äº‹æ€§ç»“æ„ (Narrative Structure)"]
                }
            },
            {
                id: 5,
                name: "èŠ‚å¥å˜»å“ˆ",
                description: "æ½®æµå˜»å“ˆé£æ ¼ï¼Œé€‚åˆè¡¨è¾¾æ€åº¦",
                color: "#1DB954",
                icon: "fa-microphone",
                settings: {
                    musicStyles: ["å˜»å“ˆ (Hip Hop)"],
                    emotions: ["æ´»åŠ› energetic", "è‡ªç”± free"],
                    beats: ["é™·é˜±èŠ‚å¥ trap beat"],
                    instruments: ["åˆæˆå™¨ synthesizer", "é¼“ç»„ drums"],
                    vocalStyles: ["å˜»å“ˆè¯´å”± (Hip Hop Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["å¾ªç¯ç»“æ„ (Cyclic Structure)"]
                }
            },
            {
                id: 6,
                name: "æ²»æ„ˆè½»éŸ³",
                description: "æ²»æ„ˆç³»è½»éŸ³ä¹ï¼Œæ¸©æš–å¿ƒçµ",
                color: "#4CAF50",
                icon: "fa-leaf",
                settings: {
                    musicStyles: ["ç‹¬ç«‹éŸ³ä¹ Indie", "æµè¡Œ Pop"],
                    emotions: ["æ¸©é¦¨ cozy", "å¸Œæœ› hopeful"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["é’¢ç´ piano", "åŸå£°å‰ä»– acoustic guitar"],
                    vocalStyles: ["æ°”å£° (Breathy Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)"]
                }
            },
            {
                id: 7,
                name: "å²è¯—ç”µå½±",
                description: "ç”µå½±é…ä¹é£æ ¼ï¼Œæ°”åŠ¿æ¢å®",
                color: "#3A5A40",
                icon: "fa-film",
                settings: {
                    musicStyles: ["ç”µå½±é…ä¹ Cinematic"],
                    emotions: ["å²è¯— epic", "æ¿€æƒ… passionate"],
                    beats: ["å˜åŒ–èŠ‚å¥ varied"],
                    instruments: ["å¼¦ä¹ strings", "é’¢ç´ piano", "é¼“ç»„ drums"],
                    vocalStyles: ["å’Œå£° (Harmony Vocals)"],
                    structures: ["å®å¤§ç»“æ„ (Grand Structure)"]
                }
            },
            {
                id: 8,
                name: "å¤æ—¥èˆæ›²",
                description: "æ´»åŠ›èˆæ›²ï¼Œé€‚åˆæ´¾å¯¹å’Œè¿åŠ¨",
                color: "#FF9800",
                icon: "fa-sun",
                settings: {
                    musicStyles: ["ç”µå­èˆæ›² EDM"],
                    emotions: ["å¿«ä¹ uplifting", "æ´»åŠ› energetic"],
                    beats: ["å¿«é€Ÿ 120-140 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer", "é¼“ç»„ drums"],
                    vocalStyles: ["æµè¡Œå”±æ³• (Pop Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["ç”µå­èˆæ›²ç»“æ„ (EDM Structure)"]
                }
            },
            {
                id: 9,
                name: "çˆµå£«å¤œæ™š",
                description: "æ…µæ‡’çˆµå£«é£æ ¼ï¼Œé€‚åˆå¤œæ™šè†å¬",
                color: "#9C27B0",
                icon: "fa-moon",
                settings: {
                    musicStyles: ["çˆµå£« Jazz"],
                    emotions: ["æµªæ¼« romantic", "ç¥ç§˜ mysterious"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["é’¢ç´ piano", "è´æ–¯ bass"],
                    harmonies: ["çˆµå£«å’Œå£° (Jazz Harmony)"],
                    vocalStyles: ["çˆµå£«å”±æ³• (Jazz Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["çˆµå£«æ ‡å‡†ç»“æ„ (Jazz Standard Structure)"]
                }
            },
            {
                id: 10,
                name: "å®éªŒç”µå­",
                description: "å‰å«å®éªŒéŸ³ä¹ï¼Œæ¢ç´¢å£°éŸ³è¾¹ç•Œ",
                color: "#607D8B",
                icon: "fa-flask",
                settings: {
                    musicStyles: ["å®éªŒéŸ³ä¹ Experimental"],
                    emotions: ["ç¥ç§˜ mysterious", "é»‘æš— dark"],
                    beats: ["è‡ªç”±èŠ‚å¥ free tempo"],
                    instruments: ["åˆæˆå™¨ synthesizer"],
                    effects: ["é¢—ç²’æ„Ÿ (Granular)", "ç¯å½¢è°ƒåˆ¶ (Ring Modulation)"],
                    structures: ["å®éªŒæ€§ç»“æ„ (Experimental Structure)"]
                }
            },
            {
                id: 11,
                name: "K-popæµè¡Œ",
                description: "éŸ©å›½æµè¡ŒéŸ³ä¹é£æ ¼ï¼Œæ—¶å°šåŠ¨æ„Ÿ",
                color: "#FF4081",
                icon: "fa-star",
                settings: {
                    musicStyles: ["éŸ©å›½æµè¡Œ (K-pop)"],
                    emotions: ["æ´»åŠ› energetic", "å¿«ä¹ uplifting"],
                    beats: ["å¿«é€Ÿ 120-140 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer", "é¼“ç»„ drums"],
                    vocalStyles: ["æµè¡Œå”±æ³• (Pop Vocals)"],
                    languages: ["éŸ©è¯­ (Korean)"],
                    structures: ["ä¸»æ­Œ-é¢„å‰¯æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ-å‰¯æ­Œ (Verse-Pre-Chorus-Chorus-Bridge-Chorus)"]
                }
            },
            {
                id: 12,
                name: "æ‹‰ä¸èˆæ›²",
                description: "çƒ­æƒ…æ‹‰ä¸é£æ ¼ï¼Œé€‚åˆèˆè¹ˆ",
                color: "#FF5722",
                icon: "fa-fire",
                settings: {
                    musicStyles: ["æ‹‰ä¸ (Latin)"],
                    emotions: ["çƒ­æƒ… passionate", "å¿«ä¹ uplifting"],
                    beats: ["å¿«é€Ÿ 120-140 BPM"],
                    instruments: ["åº·åŠ é¼“ (Conga)", "å°å· (Trumpet)"],
                    rhythms: ["æ‹‰ä¸èŠ‚å¥ (Latin Rhythms)"],
                    structures: ["èˆæ›²ç»“æ„ (Dance Structure)"]
                }
            },
            {
                id: 13,
                name: "å¤å…¸äº¤å“",
                description: "å¤å…¸äº¤å“ä¹ï¼Œåº„ä¸¥å…¸é›…",
                color: "#795548",
                icon: "fa-music",
                settings: {
                    musicStyles: ["å¤å…¸ (Classical)"],
                    emotions: ["å²è¯— epic", "åº„ä¸¥ solemn"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["å°æç´ (Violin)", "å¤§æç´ (Cello)", "é’¢ç´ piano"],
                    harmonies: ["å¤å…¸å’Œå£° (Classical Harmony)"],
                    structures: ["å¥é¸£æ›²å¼ (Sonata Form)"]
                }
            },
            {
                id: 14,
                name: "è“è°ƒçµé­‚",
                description: "è“è°ƒçµé­‚ä¹ï¼Œæƒ…æ„Ÿæ·±æ²‰",
                color: "#3F51B5",
                icon: "fa-heartbeat",
                settings: {
                    musicStyles: ["è“è°ƒ (Blues)", "çµé­‚ä¹ (Soul)"],
                    emotions: ["å¿§éƒ melancholic", "æ·±æƒ… deep"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["ç”µå‰ä»– (Electric Guitar)", "å£ç´ (Harmonica)"],
                    harmonies: ["è“è°ƒéŸ³é˜¶çš„ (Blues Scale)"],
                    vocalStyles: ["çµé­‚å”±æ³• (Soul Vocals)"],
                    languages: ["è‹±è¯­ (English)"]
                }
            },
            {
                id: 15,
                name: "ä¸–ç•Œèåˆ",
                description: "ä¸–ç•ŒéŸ³ä¹èåˆé£æ ¼ï¼Œå¤šå…ƒæ–‡åŒ–",
                color: "#00BCD4",
                icon: "fa-globe",
                settings: {
                    musicStyles: ["ä¸–ç•ŒéŸ³ä¹ (World Music)"],
                    emotions: ["ç¥ç§˜ mysterious", "å’Œè° harmonious"],
                    beats: ["è‡ªç”±èŠ‚æ‹"],
                    instruments: ["è¥¿å¡”ç´ (Sitar)", "éæ´²é¼“ (Djembe)", "ç¬›å­ flute"],
                    rhythms: ["éæ´²èŠ‚å¥ (African Rhythms)"],
                    structures: ["è‡ªç”±ç»“æ„ (Free Form)"]
                }
            },
            {
                id: 16,
                name: "æ‘‡æ»šåŠ›é‡",
                description: "å¼ºåŠ›æ‘‡æ»šï¼Œå……æ»¡èƒ½é‡",
                color: "#F44336",
                icon: "fa-bolt",
                settings: {
                    musicStyles: ["ç¡¬æ‘‡æ»š (Hard Rock)"],
                    emotions: ["æ¿€æƒ… passionate", "æ„¤æ€’ angry"],
                    beats: ["å¿«é€Ÿ 120-140 BPM"],
                    instruments: ["ç”µå‰ä»– electric guitar", "é¼“ç»„ drums"],
                    vocalStyles: ["æ‘‡æ»šå”±æ³• (Rock Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)"]
                }
            },
            {
                id: 17,
                name: "æ–°ä¸–çºªå†¥æƒ³",
                description: "æ–°ä¸–çºªéŸ³ä¹ï¼Œé€‚åˆå†¥æƒ³æ”¾æ¾",
                color: "#8BC34A",
                icon: "fa-spa",
                settings: {
                    musicStyles: ["æ–°ä¸–çºª (New Age)"],
                    emotions: ["å¹³é™ calm", "æ¢¦å¹» dreamy"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["ç«–ç´ (Harp)", "é•¿ç¬› (Flute)"],
                    effects: ["æ··å“ (Reverb)", "ç©ºé—´æ„Ÿ (Spatial)"],
                    structures: ["æ¸è¿›å¼ç»“æ„ (Progressive Structure)"]
                }
            },
            {
                id: 18,
                name: "æ”¾å…‹è¿ªæ–¯ç§‘",
                description: "å¤å¤æ”¾å…‹è¿ªæ–¯ç§‘ï¼Œå¾‹åŠ¨æ„Ÿå¼º",
                color: "#E91E63",
                icon: "fa-disco-ball",
                settings: {
                    musicStyles: ["æ”¾å…‹ (Funk)", "è¿ªæ–¯ç§‘ (Disco)"],
                    emotions: ["å¿«ä¹ uplifting", "æ´»åŠ› energetic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["è´æ–¯ bass", "ç”µå‰ä»– electric guitar"],
                    rhythms: ["åˆ‡åˆ†èŠ‚å¥ (Syncopation)"],
                    structures: ["èˆæ›²ç»“æ„ (Dance Structure)"]
                }
            },
            {
                id: 19,
                name: "æ°‘è°£æ‘‡æ»š",
                description: "æ°‘è°£ä¸æ‘‡æ»šç»“åˆï¼Œæ•…äº‹æ„Ÿå¼º",
                color: "#2E8B57",
                icon: "fa-guitar",
                settings: {
                    musicStyles: ["æ°‘è°£æ‘‡æ»š (Folk Rock)"],
                    emotions: ["æ€€æ—§ nostalgic", "å¸Œæœ› hopeful"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["åŸå£°å‰ä»– acoustic guitar", "ç”µå‰ä»– electric guitar"],
                    vocalStyles: ["æ°‘è°£å”±æ³• (Folk Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)"],
                    structures: ["å™äº‹æ€§ç»“æ„ (Narrative Structure)"]
                }
            },
            {
                id: 20,
                name: "è’¸æ±½æ³¢å¤å¤",
                description: "è’¸æ±½æ³¢é£æ ¼ï¼Œå¤å¤æœªæ¥æ„Ÿ",
                color: "#9C27B0",
                icon: "fa-retro",
                settings: {
                    musicStyles: ["è’¸æ±½æ³¢ (Vaporwave)"],
                    emotions: ["æ€€æ—§ nostalgic", "æ¢¦å¹» dreamy"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer"],
                    effects: ["Lo-fiæ•ˆæœ (Lo-fi Effect)", "ç£å¸¦æ¨¡æ‹Ÿ (Tape Simulation)"],
                    structures: ["å¾ªç¯ç»“æ„ (Cyclic Structure)"]
                }
            },
            {
                id: 21,
                name: "å·´è¨è¯ºç“¦",
                description: "å·´è¥¿å·´è¨è¯ºç“¦ï¼Œè½»æ¾ä¼˜é›…",
                color: "#FF9800",
                icon: "fa-umbrella-beach",
                settings: {
                    musicStyles: ["å·´è¥¿å·´è¨è¯ºç“¦ (Bossa Nova)"],
                    emotions: ["è½»æ¾ relaxed", "æµªæ¼« romantic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["åŸå£°å‰ä»– (Acoustic Guitar)", "é’¢ç´ piano"],
                    rhythms: ["åˆ‡åˆ†èŠ‚å¥ (Syncopation)"],
                    languages: ["è‘¡è„ç‰™è¯­ (Portuguese)"]
                }
            },
            {
                id: 22,
                name: "é‡‘å±æ ¸",
                description: "é‡‘å±æ ¸é£æ ¼ï¼Œå¼ºçƒˆå†²å‡»åŠ›",
                color: "#212121",
                icon: "fa-skull",
                settings: {
                    musicStyles: ["é‡‘å± (Metal)"],
                    emotions: ["æ„¤æ€’ angry", "é»‘æš— dark"],
                    beats: ["æå¿« (Very Fast)"],
                    instruments: ["ç”µå‰ä»– electric guitar", "é¼“ç»„ drums"],
                    vocalStyles: ["å˜¶å¼å”±æ³• (Screaming Vocals)"],
                    structures: ["æ¸è¿›å¼ç»“æ„ (Progressive Structure)"]
                }
            },
            {
                id: 23,
                name: "åŸå¸‚R&B",
                description: "åŸå¸‚R&Bï¼Œç°ä»£æ„Ÿå¼º",
                color: "#2196F3",
                icon: "fa-city",
                settings: {
                    musicStyles: ["R&B", "åŸå¸‚éŸ³ä¹ (Urban)"],
                    emotions: ["æµªæ¼« romantic", "å¿§éƒ melancholic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["é’¢ç´ piano", "é¼“ç»„ drums"],
                    vocalStyles: ["R&Bå”±æ³• (R&B Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["ä¸»æ­Œ-å‰¯æ­Œ-æ¡¥æ®µ (Verse-Chorus-Bridge)"]
                }
            },
            {
                id: 24,
                name: "æ°‘æ—èåˆ",
                description: "æ°‘æ—éŸ³ä¹ä¸ç°ä»£èåˆ",
                color: "#795548",
                icon: "fa-mountain",
                settings: {
                    musicStyles: ["æ°‘æ—éŸ³ä¹ Ethnic", "ä¸–ç•ŒéŸ³ä¹ (World Music)"],
                    emotions: ["ç¥ç§˜ mysterious", "çƒ­æƒ… passionate"],
                    beats: ["è‡ªç”±èŠ‚æ‹"],
                    instruments: ["æ°‘æ—ä¹å™¨ ethnic instruments", "åˆæˆå™¨ synthesizer"],
                    structures: ["è‡ªç”±ç»“æ„ (Free Form)"]
                }
            },
            {
                id: 25,
                name: "æ™ºèƒ½éšæœºç»„åˆ",
                description: "èåˆ6565ç®—æ³•ï¼Œæ™ºèƒ½ç”Ÿæˆåˆ›æ„ç»„åˆï¼Œæ¯æ¬¡éƒ½æœ‰æ–°çµæ„Ÿï¼",
                color: "#607D8B",
                icon: "fa-random",
                isRandom: true
            }
        ];

        // çŠ¶æ€ç®¡ç†
        const appState = {
            selectedOptions: {
                // åŸºç¡€å‚æ•°
                musicStyles: [],
                emotions: [],
                beats: [],
                instruments: [],
                // ä¸“å®¶å‚æ•°
                melodies: [],
                harmonies: [],
                rhythms: [],
                effects: [],
                chineseInstruments: [],
                vocalStyles: [],
                languages: [],
                structures: []
            },
            customText: "",
            audioQuality: "é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³",
            dynamicRange: "ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼",
            songDuration: "3-4åˆ†é’Ÿ",
            outputFormat: "ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3",
            currentPreset: null,
            history: JSON.parse(localStorage.getItem('mountainMusicHistory')) || [],
            totalGenerations: parseInt(localStorage.getItem('totalGenerations')) || 0,
            expertMode: localStorage.getItem('expertMode') === 'true',
            savedConfigs: JSON.parse(localStorage.getItem('savedConfigs')) || []
        };

        // DOMå…ƒç´ åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
            setupEventListeners();
            updateStats();
            renderPresets();
            loadHistory();
            updateExpertModeUI();
            
            // åº”ç”¨ç¬¬ä¸€ä¸ªé¢„è®¾
            setTimeout(() => {
                const firstPresetCard = document.querySelector('.preset-card');
                if (firstPresetCard) {
                    firstPresetCard.classList.add('selected');
                    applyPreset(stylePresets[0]);
                }
            }, 300);
        });

        // åˆå§‹åŒ–åº”ç”¨
        function initApp() {
            // ç”Ÿæˆé€‰é¡¹åˆ—è¡¨
            for (const [category, values] of Object.entries(musicData)) {
                const container = document.getElementById(category);
                if (!container) continue;
                
                container.innerHTML = '';
                values.forEach(value => {
                    const div = document.createElement('div');
                    div.className = 'flex items-center gap-3 p-2 rounded-lg hover:bg-neutral-50 cursor-pointer transition-all-custom option-item';
                    
                    // åˆ›å»ºå®‰å…¨çš„ID
                    const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                    
                    // æ£€æŸ¥æ˜¯å¦æ˜¯ä¸“å®¶å‚æ•°
                    const isExpert = ['melodies', 'harmonies', 'rhythms', 'effects', 'chineseInstruments', 'vocalStyles', 'languages', 'structures'].includes(category);
                    
                    div.innerHTML = `
                        <input type="checkbox" id="${safeId}" value="${value}" class="rounded focus:ring-primary w-5 h-5 ${isExpert ? 'expert-checkbox' : ''}">
                        <label for="${safeId}" class="text-sm text-neutral-700 cursor-pointer flex-grow">${value}</label>
                    `;
                    container.appendChild(div);
                    
                    // ä¸ºæ¯ä¸ªé€‰é¡¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
                    const checkbox = div.querySelector('input');
                    const label = div.querySelector('label');
                    
                    checkbox.addEventListener('change', function() {
                        updateSelection(category, value, this.checked);
                        updateOptionCount(category);
                        updatePreview();
                        updateSelectedOverview();
                        // å¦‚æœç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ï¼Œå–æ¶ˆé¢„è®¾
                        if (appState.currentPreset) {
                            document.querySelectorAll('.preset-card').forEach(card => {
                                card.classList.remove('selected');
                            });
                            appState.currentPreset = null;
                        }
                    });
                    
                    // ç‚¹å‡»æ ‡ç­¾ä¹Ÿå¯ä»¥åˆ‡æ¢å¤é€‰æ¡†
                    label.addEventListener('click', function(e) {
                        if (e.target.tagName !== 'INPUT') {
                            checkbox.checked = !checkbox.checked;
                            checkbox.dispatchEvent(new Event('change'));
                        }
                    });
                });
                
                // æ›´æ–°æ€»æ•°æ˜¾ç¤º
                const totalElement = document.getElementById(`${category}Total`);
                if (totalElement) {
                    totalElement.textContent = values.length;
                }
            }
            
            // åˆå§‹åŒ–é€‰é¡¹è®¡æ•°
            for (const category in musicData) {
                updateOptionCount(category);
            }
            
            // åˆå§‹åŒ–è¿›é˜¶è®¾ç½®
            document.getElementById('audioQuality').value = appState.audioQuality;
            document.getElementById('dynamicRange').value = appState.dynamicRange;
            document.getElementById('songDuration').value = appState.songDuration;
            document.getElementById('outputFormat').value = appState.outputFormat;
            
            // åˆå§‹åŒ–è‡ªå®šä¹‰è¾“å…¥æ¡†å­—ç¬¦è®¡æ•°
            updateCharCount();
            
            // æ›´æ–°æ€»æ ‡ç­¾æ•°
            let totalTags = 0;
            for (const category in musicData) {
                totalTags += musicData[category].length;
            }
            document.getElementById('totalTags').textContent = totalTags + '+';
        }

        // æ¸²æŸ“é¢„è®¾
        function renderPresets() {
            const container = document.getElementById('presetContainer');
            container.innerHTML = '';
            
            stylePresets.forEach(preset => {
                const presetCard = document.createElement('div');
                presetCard.className = 'preset-card bg-white rounded-xl p-5 cursor-pointer h-full flex flex-col border border-neutral-100';
                presetCard.innerHTML = `
                    <div class="flex items-start gap-4 mb-4">
                        <div class="p-3 rounded-xl" style="background-color: ${preset.color}20; color: ${preset.color}">
                            <i class="fa ${preset.icon} text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-bold text-neutral-800 text-lg">${preset.name}</h4>
                            <p class="text-neutral-500 text-sm mt-2 leading-relaxed">${preset.description}</p>
                        </div>
                    </div>
                    <div class="mt-auto">
                        <div class="flex justify-between items-center">
                            <span class="text-xs text-neutral-400">ç‚¹å‡»åº”ç”¨</span>
                            <i class="fa fa-chevron-right text-neutral-400"></i>
                        </div>
                    </div>
                `;
                
                presetCard.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰é€‰ä¸­çš„é¢„è®¾å¡ç‰‡
                    document.querySelectorAll('.preset-card').forEach(card => {
                        card.classList.remove('selected');
                    });
                    
                    // æ·»åŠ é€‰ä¸­æ•ˆæœ
                    this.classList.add('selected');
                    
                    if (preset.isRandom) {
                        applyRandomPreset(preset);
                    } else {
                        applyPreset(preset);
                    }
                });
                
                container.appendChild(presetCard);
            });
        }

        // åº”ç”¨é¢„è®¾
        function applyPreset(preset) {
            // æ¸…ç©ºå½“å‰é€‰æ‹©
            clearAllSelections(false);
            
            // åº”ç”¨é¢„è®¾è®¾ç½®
            for (const [category, values] of Object.entries(preset.settings)) {
                if (appState.selectedOptions[category]) {
                    values.forEach(value => {
                        // ç¡®ä¿å€¼å­˜åœ¨äºéŸ³ä¹æ•°æ®ä¸­
                        if (musicData[category] && musicData[category].includes(value)) {
                            const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                            const checkbox = document.getElementById(safeId);
                            
                            if (checkbox) {
                                checkbox.checked = true;
                                appState.selectedOptions[category].push(value);
                            }
                        }
                    });
                    updateOptionCount(category);
                }
            }
            
            // è®¾ç½®é¢„è®¾æè¿°æ–‡æœ¬
            const presetDescriptions = {
                1: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šä¸»æ­Œéƒ¨åˆ†è¦ç»†è…»æ¸©æŸ”ï¼Œå‰¯æ­Œéƒ¨åˆ†è¦æœ‰çˆ†å‘åŠ›ï¼Œæ•´ä½“æƒ…æ„Ÿè¦å±‚å±‚é€’è¿›ã€‚",
                2: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå‰å¥ç”¨ç¯å¢ƒéŸ³å¼•å…¥ï¼Œä¸»æ­Œéƒ¨åˆ†ä¹å™¨ç®€æ´çªå‡ºäººå£°ï¼Œå‰¯æ­ŒåŠ å…¥ä¸°å¯Œå’Œå£°å’Œç¼–æ›²ã€‚",
                3: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šæ³¨æ„æ°”æ¯æ§åˆ¶ï¼Œå‰¯æ­Œéƒ¨åˆ†å¯ä»¥åŠ å…¥ä¸€äº›å³å…´å‘æŒ¥ï¼Œè®©æƒ…æ„Ÿæ›´çœŸå®è‡ªç„¶ã€‚",
                4: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šæ··éŸ³æ—¶è¦æ³¨æ„äººå£°å’Œä¹å™¨çš„å¹³è¡¡ï¼Œé€‚å½“æ·»åŠ æ··å“è¥é€ ç©ºé—´æ„Ÿï¼Œä½†ä¸è¦è¿‡åº¦ã€‚",
                5: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå¯ä»¥å°è¯•åœ¨ä¸»æ­Œå’Œå‰¯æ­Œä¹‹é—´åŠ å…¥ä¸€æ®µçº¯ä¹å™¨è¿‡æ¸¡ï¼Œå¢åŠ éŸ³ä¹çš„å±‚æ¬¡æ„Ÿã€‚",
                6: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šè¿™é¦–æ­Œè¦è¡¨è¾¾çš„æ˜¯ä»è¿·èŒ«åˆ°å¸Œæœ›çš„æƒ…æ„Ÿè½¬å˜ï¼Œç¼–æ›²ä¸Šä¹Ÿè¦ä½“ç°è¿™ç§å˜åŒ–ã€‚",
                7: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå¯ä»¥å°è¯•åœ¨ç¬¬äºŒéå‰¯æ­Œæ—¶åŠ å¿«èŠ‚å¥ï¼Œè¥é€ ç´§å¼ æ„Ÿå’ŒæœŸå¾…æ„Ÿã€‚",
                8: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šåœ¨ä¸»æ­Œéƒ¨åˆ†åŠ å…¥è½»å¾®çš„å’Œå£°é“ºå«ï¼Œå‰¯æ­Œéƒ¨åˆ†å’Œå£°è¦é¥±æ»¡æœ‰åŠ›ã€‚",
                9: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šç”¨é’¢ç´ä½œä¸ºä¸»æ—‹å¾‹ä¹å™¨ï¼Œå¼¦ä¹ä½œä¸ºé“ºå«ï¼Œé¼“ç»„æä¾›èŠ‚å¥æ”¯æ’‘ã€‚",
                10: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå¯ä»¥èåˆä¸€äº›æ°‘æ—ä¹å™¨å…ƒç´ ï¼Œåˆ›é€ å‡ºç‹¬ç‰¹çš„æ–‡åŒ–äº¤èæ„Ÿã€‚",
                11: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šæ—‹å¾‹è¦ç®€å•æ˜“è®°ï¼Œé€‚åˆå¤§ä¼—ä¼ å”±ï¼Œå‰¯æ­Œè¦æœ‰è®°å¿†ç‚¹ã€‚",
                12: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šäººå£°å¤„ç†è¦æ¸©æš–è‡ªç„¶ï¼Œé€‚å½“åŠ å…¥ä¸€äº›æ°”å£°å¢åŠ æƒ…æ„Ÿè¡¨è¾¾ã€‚",
                13: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå‰ä»–riffè¦ç®€æ´æœ‰åŠ›ï¼Œé¼“ç‚¹è¦ç¨³å®šï¼Œè¥é€ å‡ºæ°‘è°£çš„å™äº‹æ„Ÿã€‚",
                14: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šèŠ‚å¥è¦é²œæ˜ï¼Œé€‚åˆè·³èˆï¼Œåˆæˆå™¨éŸ³è‰²è¦æ˜äº®æœ‰æ´»åŠ›ã€‚",
                15: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šèåˆä¸åŒæ–‡åŒ–å…ƒç´ æ—¶è¦æ³¨æ„å’Œè°ç»Ÿä¸€ï¼Œä¸è¦æ˜¾å¾—æ‚ä¹±ã€‚",
                16: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå‰¯æ­Œéƒ¨åˆ†è¦æœ‰è¶³å¤Ÿçš„çˆ†å‘åŠ›ï¼Œä½†ä¸è¦è¿‡åº¦å˜¶å¼ç ´åéŸ³è‰²ã€‚",
                17: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šç¼–æ›²è¦ç®€æ´å¹²å‡€ï¼Œçªå‡ºä¸»æ—‹å¾‹å’Œæƒ…æ„Ÿè¡¨è¾¾ã€‚",
                18: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šè´æ–¯çº¿æ¡è¦æ¸…æ™°æœ‰åŠ›ï¼Œæä¾›ç¨³å®šçš„å¾‹åŠ¨åŸºç¡€ã€‚",
                19: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šæ°‘è°£éƒ¨åˆ†è¦è´¨æœ´çœŸè¯šï¼Œæ‘‡æ»šéƒ¨åˆ†è¦æœ‰åŠ›é‡æ„Ÿã€‚",
                20: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šå¯ä»¥é€‚å½“åŠ å…¥ä¸€äº›å¤å¤éŸ³æ•ˆï¼Œä½†è¦ä¿æŒæ•´ä½“å’Œè°ã€‚",
                21: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šèŠ‚å¥è¦è½»æ¾ä¼˜é›…ï¼Œå‰ä»–æ¼”å¥è¦å¹²å‡€åˆ©è½ã€‚",
                22: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šè¦æ³¨æ„åŠ¨æ€å¯¹æ¯”ï¼Œä¸è¦ä»å¤´åˆ°å°¾éƒ½æ˜¯é«˜å¼ºåº¦ã€‚",
                23: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šäººå£°è¦å……æ»¡æƒ…æ„Ÿï¼Œé€‚å½“åŠ å…¥è½¬éŸ³å’Œè£…é¥°éŸ³ã€‚",
                24: "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šæ°‘æ—ä¹å™¨è¦æ°åˆ°å¥½å¤„ï¼Œä¸è¦å–§å®¾å¤ºä¸»ã€‚"
            };
            
            document.getElementById('customInput').value = presetDescriptions[preset.id] || "";
            appState.customText = presetDescriptions[preset.id] || "";
            updateCharCount();
            
            // æ ‡è®°å½“å‰é¢„è®¾
            appState.currentPreset = preset.id;
            
            // æ›´æ–°é¢„è§ˆ
            updatePreview();
            updateSelectedOverview();
            
            // æ˜¾ç¤ºæç¤º
            showToast(`å·²åº”ç”¨"${preset.name}"é¢„è®¾`, 'success');
        }

        // åº”ç”¨éšæœºé¢„è®¾ - å¢å¼ºç‰ˆ6565ç®—æ³•
        function applyRandomPreset(preset) {
            // æ¸…ç©ºå½“å‰é€‰æ‹©
            clearAllSelections(false);
            
            // æ™ºèƒ½éšæœºé€‰æ‹© - åŸºäºéŸ³ä¹ç±»å‹çš„åˆç†ç»„åˆ
            const musicStyle = getRandomMusicStyle();
            applyStyleBasedRandom(musicStyle);
            
            // éšæœºè‡ªå®šä¹‰æ–‡æœ¬
            applyRandomCustomText();
            
            // æ›´æ–°æ‰€æœ‰UIçŠ¶æ€
            updateAllUI();
            
            // æ ‡è®°å½“å‰é¢„è®¾ä¸ºéšæœº
            appState.currentPreset = 25;
            
            // æ˜¾ç¤ºä¸“ä¸šæç¤º
            showRandomToast(`âœ¨ å·²åˆ›å»ºã€Œ${musicStyle}ã€é£æ ¼çš„æ™ºèƒ½éšæœºç»„åˆ`, 'success');
        }

        // ä¸“å®¶çº§éšæœºç”Ÿæˆ
        function applyExpertRandom() {
            // æ¸…ç©ºå½“å‰é€‰æ‹©
            clearAllSelections(false);
            
            // å¯ç”¨ä¸“å®¶æ¨¡å¼
            if (!appState.expertMode) {
                toggleExpertMode();
            }
            
            // åŸºäºéŸ³ä¹ç†è®ºçš„é«˜çº§éšæœºç»„åˆ
            const styleType = getRandomStyleType();
            applyExpertStyleBasedRandom(styleType);
            
            // éšæœºè‡ªå®šä¹‰æ–‡æœ¬
            applyRandomCustomText();
            
            // æ›´æ–°æ‰€æœ‰UIçŠ¶æ€
            updateAllUI();
            
            // æ˜¾ç¤ºä¸“å®¶æç¤º
            showExpertToast(`ğŸ¼ å·²åˆ›å»ºã€Œ${styleType}ã€é£æ ¼çš„ä¸“å®¶çº§éšæœºç»„åˆ`, 'success');
        }

        // è·å–éšæœºéŸ³ä¹é£æ ¼
        function getRandomMusicStyle() {
            const styles = [
                "æµè¡Œæƒ…æ­Œé£æ ¼", "åŸå¸‚æ°‘è°£é£æ ¼", "ç”µå­æ°›å›´é£æ ¼", "å›½é£æ–°éŸµé£æ ¼", 
                "èŠ‚å¥å˜»å“ˆé£æ ¼", "æ²»æ„ˆè½»éŸ³é£æ ¼", "å²è¯—ç”µå½±é£æ ¼", "å¤æ—¥èˆæ›²é£æ ¼",
                "çˆµå£«å¤œæ™šé£æ ¼", "å®éªŒç”µå­é£æ ¼", "K-popæµè¡Œé£æ ¼", "æ‹‰ä¸èˆæ›²é£æ ¼",
                "å¤å…¸äº¤å“é£æ ¼", "è“è°ƒçµé­‚é£æ ¼", "ä¸–ç•Œèåˆé£æ ¼", "æ‘‡æ»šåŠ›é‡é£æ ¼",
                "æ–°ä¸–çºªå†¥æƒ³é£æ ¼", "æ”¾å…‹è¿ªæ–¯ç§‘é£æ ¼", "æ°‘è°£æ‘‡æ»šé£æ ¼", "è’¸æ±½æ³¢å¤å¤é£æ ¼",
                "å·´è¨è¯ºç“¦é£æ ¼", "é‡‘å±æ ¸é£æ ¼", "åŸå¸‚R&Bé£æ ¼", "æ°‘æ—èåˆé£æ ¼"
            ];
            return styles[Math.floor(Math.random() * styles.length)];
        }

        // è·å–éšæœºé£æ ¼ç±»å‹ï¼ˆä¸“å®¶æ¨¡å¼ï¼‰
        function getRandomStyleType() {
            const styleTypes = [
                "å¤å…¸èåˆç°ä»£", "æ°‘æ—ç”µå­", "çˆµå£«æ”¾å…‹", "ç¯å¢ƒæ°›å›´", "å®éªŒå…ˆé”‹",
                "ç”µå½±å™äº‹", "èˆè¹ˆå¾‹åŠ¨", "æƒ…æ„ŸæŠ’å‘", "æ¦‚å¿µè‰ºæœ¯", "å£°éŸ³è®¾è®¡"
            ];
            return styleTypes[Math.floor(Math.random() * styleTypes.length)];
        }

        // åŸºäºéŸ³ä¹é£æ ¼åº”ç”¨éšæœºé€‰æ‹©
        function applyStyleBasedRandom(style) {
            // æ ¹æ®é£æ ¼æ™ºèƒ½é€‰æ‹©å‚æ•°
            const styleRules = {
                "æµè¡Œæƒ…æ­Œé£æ ¼": {
                    musicStyles: ["æµè¡Œ (Pop)"],
                    emotions: ["æµªæ¼« romantic", "å¿§éƒ melancholic", "æ€€æ—§ nostalgic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["é’¢ç´ piano", "å¼¦ä¹ strings", "åŸå£°å‰ä»– acoustic guitar"],
                    vocalStyles: ["æµè¡Œå”±æ³• (Pop Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)", "è‹±è¯­ (English)"],
                    structures: ["ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)"]
                },
                "ç”µå­æ°›å›´é£æ ¼": {
                    musicStyles: ["ç¯å¢ƒéŸ³ä¹ (Ambient)", "ç”µå­ (Electronic)"],
                    emotions: ["å¹³é™ calm", "æ¢¦å¹» dreamy", "ç¥ç§˜ mysterious"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM", "è‡ªç”±èŠ‚å¥ free tempo"],
                    instruments: ["åˆæˆå™¨ synthesizer", "ç¯å¢ƒéŸ³ ambient sounds"],
                    effects: ["æ··å“ (Reverb)", "å»¶è¿Ÿ (Delay)"],
                    structures: ["æ¸è¿›å¼ç»“æ„ (Progressive Structure)", "è‡ªç”±ç»“æ„ (Free Form)"]
                },
                "å›½é£æ–°éŸµé£æ ¼": {
                    musicStyles: ["ä¸­å›½é£ (Chinese Style)"],
                    emotions: ["ç¥ç§˜ mysterious", "å²è¯— epic", "æ€€æ—§ nostalgic"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM", "6/8æ‹"],
                    instruments: ["å¤ç­ (Guzheng, Chinese Zither)", "ç¬›å­ (æ¢†ç¬›ã€æ›²ç¬›) (Dizi, Chinese Flute - bangdi, qudi)"],
                    chineseInstruments: ["å¤ç­ (Guzheng, Chinese Zither)", "ç¬›å­ (æ¢†ç¬›ã€æ›²ç¬›) (Dizi, Chinese Flute - bangdi, qudi)"],
                    vocalStyles: ["æ°‘æ—å”±æ³• (Ethnic Vocals)"],
                    languages: ["ä¸­æ–‡ (Chinese)"],
                    structures: ["å™äº‹æ€§ç»“æ„ (Narrative Structure)"]
                },
                "èŠ‚å¥å˜»å“ˆé£æ ¼": {
                    musicStyles: ["å˜»å“ˆ (Hip Hop)"],
                    emotions: ["æ´»åŠ› energetic", "è‡ªç”± free", "æ¿€æƒ… passionate"],
                    beats: ["é™·é˜±èŠ‚å¥ trap beat", "å¿«é€Ÿ 120-140 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer", "è´æ–¯ bass", "é¼“ç»„ drums"],
                    vocalStyles: ["å˜»å“ˆè¯´å”± (Hip Hop Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["å¾ªç¯ç»“æ„ (Cyclic Structure)"]
                },
                "çˆµå£«å¤œæ™šé£æ ¼": {
                    musicStyles: ["çˆµå£« (Jazz)"],
                    emotions: ["æµªæ¼« romantic", "ç¥ç§˜ mysterious", "å¿§éƒ melancholic"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["é’¢ç´ piano", "è´æ–¯ bass", "è¨å…‹æ–¯é£ (Saxophone)"],
                    harmonies: ["çˆµå£«å’Œå£° (Jazz Harmony)"],
                    rhythms: ["æ‘‡æ‘†æ„Ÿ (Swing Feel)"],
                    vocalStyles: ["çˆµå£«å”±æ³• (Jazz Vocals)"],
                    languages: ["è‹±è¯­ (English)"],
                    structures: ["çˆµå£«æ ‡å‡†ç»“æ„ (Jazz Standard Structure)"]
                }
            };
            
            // è·å–å½“å‰é£æ ¼çš„è§„åˆ™æˆ–ä½¿ç”¨é»˜è®¤éšæœº
            const rules = styleRules[style] || getDefaultRandomRules();
            
            // åº”ç”¨è§„åˆ™
            for (const [category, values] of Object.entries(rules)) {
                if (appState.selectedOptions[category]) {
                    // ä»è§„åˆ™å€¼ä¸­éšæœºé€‰æ‹©1-2ä¸ª
                    const minSelections = 1;
                    const maxSelections = Math.min(2, values.length);
                    const count = Math.floor(Math.random() * (maxSelections - minSelections + 1)) + minSelections;
                    
                    // æ‰“ä¹±æ•°ç»„å¹¶é€‰æ‹©æŒ‡å®šæ•°é‡çš„é€‰é¡¹
                    const shuffled = [...values].sort(() => 0.5 - Math.random());
                    const selected = shuffled.slice(0, count);
                    
                    selected.forEach(value => {
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = true;
                            appState.selectedOptions[category].push(value);
                        }
                    });
                    
                    updateOptionCount(category);
                }
            }
            
            // å¯¹äºæ²¡æœ‰ç‰¹å®šè§„åˆ™çš„ç±»åˆ«ï¼Œä½¿ç”¨é»˜è®¤éšæœº
            const allCategories = ['musicStyles', 'emotions', 'beats', 'instruments', 'vocalStyles', 'languages', 'structures'];
            allCategories.forEach(category => {
                if (!rules[category] || appState.selectedOptions[category].length === 0) {
                    // éšæœºé€‰æ‹©1-2ä¸ªé€‰é¡¹
                    const values = musicData[category] || [];
                    const minSelections = 1;
                    const maxSelections = Math.min(2, values.length);
                    const count = Math.floor(Math.random() * (maxSelections - minSelections + 1)) + minSelections;
                    
                    const shuffled = [...values].sort(() => 0.5 - Math.random());
                    const selected = shuffled.slice(0, count);
                    
                    selected.forEach(value => {
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = true;
                            appState.selectedOptions[category].push(value);
                        }
                    });
                    
                    updateOptionCount(category);
                }
            });
        }

        // ä¸“å®¶çº§é£æ ¼éšæœºé€‰æ‹©
        function applyExpertStyleBasedRandom(styleType) {
            const expertRules = {
                "å¤å…¸èåˆç°ä»£": {
                    musicStyles: ["å¤å…¸ (Classical)", "ç”µå­ (Electronic)"],
                    emotions: ["å²è¯— epic", "ç¥ç§˜ mysterious"],
                    beats: ["ä¸­é€Ÿ 90-110 BPM"],
                    instruments: ["å¼¦ä¹ strings", "åˆæˆå™¨ synthesizer"],
                    melodies: ["æµç•…çš„ (Flowing)", "å¤æ‚çš„ (Complex)"],
                    harmonies: ["å¤å…¸å’Œå£° (Classical Harmony)", "ç”µå­å’Œå£° (Electronic Harmony)"],
                    structures: ["å¥é¸£æ›²å¼ (Sonata Form)"]
                },
                "æ°‘æ—ç”µå­": {
                    musicStyles: ["ä¸–ç•ŒéŸ³ä¹ (World Music)", "ç”µå­ (Electronic)"],
                    emotions: ["ç¥ç§˜ mysterious", "çƒ­æƒ… passionate"],
                    beats: ["è‡ªç”±èŠ‚æ‹"],
                    instruments: ["æ°‘æ—ä¹å™¨ ethnic instruments", "åˆæˆå™¨ synthesizer"],
                    rhythms: ["å¤èŠ‚å¥ (Polyrhythm)"],
                    effects: ["ç©ºé—´åŒ– (Spatialization)", "é¢—ç²’æ„Ÿ (Granular)"],
                    structures: ["è‡ªç”±ç»“æ„ (Free Form)"]
                },
                "ç¯å¢ƒæ°›å›´": {
                    musicStyles: ["ç¯å¢ƒéŸ³ä¹ (Ambient)"],
                    emotions: ["å¹³é™ calm", "æ¢¦å¹» dreamy"],
                    beats: ["æ…¢é€Ÿ 60-80 BPM"],
                    instruments: ["åˆæˆå™¨ synthesizer", "ç¯å¢ƒéŸ³ ambient sounds"],
                    effects: ["æ··å“ (Reverb)", "å»¶è¿Ÿ (Delay)", "ç©ºé—´æ„Ÿ (Spatial)"],
                    melodies: ["è¿ç»­çš„ (Continuous)", "æ³¢æµªå½¢çš„ (Wavelike)"],
                    structures: ["æ¸è¿›å¼ç»“æ„ (Progressive Structure)"]
                },
                "å®éªŒå…ˆé”‹": {
                    musicStyles: ["å®éªŒéŸ³ä¹ (Experimental)"],
                    emotions: ["ç¥ç§˜ mysterious", "é»‘æš— dark"],
                    beats: ["è‡ªç”±èŠ‚å¥ free tempo"],
                    instruments: ["åˆæˆå™¨ synthesizer", "ç”µå­éŸ³æ•ˆ electronic effects"],
                    effects: ["é¢—ç²’æ„Ÿ (Granular)", "ç¯å½¢è°ƒåˆ¶ (Ring Modulation)", "å£°ç å™¨ (Vocoder)"],
                    harmonies: ["æ— è°ƒæ€§å’Œå£° (Atonal Harmony)"],
                    structures: ["å®éªŒæ€§ç»“æ„ (Experimental Structure)"]
                }
            };
            
            const rules = expertRules[styleType] || getDefaultExpertRules();
            
            // åº”ç”¨ä¸“å®¶è§„åˆ™
            for (const [category, values] of Object.entries(rules)) {
                if (appState.selectedOptions[category]) {
                    const minSelections = 1;
                    const maxSelections = Math.min(3, values.length);
                    const count = Math.floor(Math.random() * (maxSelections - minSelections + 1)) + minSelections;
                    
                    const shuffled = [...values].sort(() => 0.5 - Math.random());
                    const selected = shuffled.slice(0, count);
                    
                    selected.forEach(value => {
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = true;
                            appState.selectedOptions[category].push(value);
                        }
                    });
                    
                    updateOptionCount(category);
                }
            }
            
            // ç¡®ä¿åŸºç¡€å‚æ•°ä¹Ÿæœ‰é€‰æ‹©
            const baseCategories = ['musicStyles', 'emotions', 'beats', 'instruments'];
            baseCategories.forEach(category => {
                if (appState.selectedOptions[category].length === 0) {
                    const values = musicData[category] || [];
                    const count = Math.floor(Math.random() * 2) + 1;
                    const shuffled = [...values].sort(() => 0.5 - Math.random());
                    const selected = shuffled.slice(0, count);
                    
                    selected.forEach(value => {
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = true;
                            appState.selectedOptions[category].push(value);
                        }
                    });
                    
                    updateOptionCount(category);
                }
            });
        }

        // è·å–é»˜è®¤éšæœºè§„åˆ™
        function getDefaultRandomRules() {
            return {
                musicStyles: ["æµè¡Œ (Pop)", "ç”µå­ (Electronic)", "æ°‘è°£ (Folk)", "æ‘‡æ»š (Rock)"].sort(() => 0.5 - Math.random()).slice(0, 2),
                emotions: ["å¿«ä¹ uplifting", "å¿§éƒ melancholic", "æµªæ¼« romantic", "å¹³é™ calm"].sort(() => 0.5 - Math.random()).slice(0, 2),
                beats: ["ä¸­é€Ÿ 90-110 BPM", "æ…¢é€Ÿ 60-80 BPM", "4/4æ‹"].sort(() => 0.5 - Math.random()).slice(0, 2),
                instruments: ["é’¢ç´ piano", "åŸå£°å‰ä»– acoustic guitar", "åˆæˆå™¨ synthesizer", "å¼¦ä¹ strings"].sort(() => 0.5 - Math.random()).slice(0, 2),
                vocalStyles: ["æµè¡Œå”±æ³• (Pop Vocals)", "æ°‘è°£å”±æ³• (Folk Vocals)"].sort(() => 0.5 - Math.random()).slice(0, 1),
                languages: ["ä¸­æ–‡ (Chinese)", "è‹±è¯­ (English)"].sort(() => 0.5 - Math.random()).slice(0, 1),
                structures: ["ä¸»æ­Œ-å‰¯æ­Œç»“æ„ (Verse-Chorus)", "æ¸è¿›å¼ç»“æ„ (Progressive Structure)"].sort(() => 0.5 - Math.random()).slice(0, 1)
            };
        }

        // è·å–é»˜è®¤ä¸“å®¶è§„åˆ™
        function getDefaultExpertRules() {
            return {
                musicStyles: ["å®éªŒéŸ³ä¹ (Experimental)", "ç¯å¢ƒéŸ³ä¹ (Ambient)", "ä¸–ç•ŒéŸ³ä¹ (World Music)"].sort(() => 0.5 - Math.random()).slice(0, 2),
                emotions: ["ç¥ç§˜ mysterious", "æ¢¦å¹» dreamy", "é»‘æš— dark", "å¹³é™ calm"].sort(() => 0.5 - Math.random()).slice(0, 2),
                beats: ["è‡ªç”±èŠ‚å¥ free tempo", "æ…¢é€Ÿ 60-80 BPM"].sort(() => 0.5 - Math.random()).slice(0, 1),
                instruments: ["åˆæˆå™¨ synthesizer", "ç”µå­éŸ³æ•ˆ electronic effects", "ç¯å¢ƒéŸ³ ambient sounds"].sort(() => 0.5 - Math.random()).slice(0, 2),
                melodies: ["è¿ç»­çš„ (Continuous)", "æ³¢æµªå½¢çš„ (Wavelike)", "å³å…´çš„ (Improvised)"].sort(() => 0.5 - Math.random()).slice(0, 2),
                harmonies: ["æ— è°ƒæ€§å’Œå£° (Atonal Harmony)", "è°ƒå¼å’Œå£° (Modal Harmony)", "ç®€çº¦å’Œå£° (Minimal Harmony)"].sort(() => 0.5 - Math.random()).slice(0, 2),
                rhythms: ["å¤èŠ‚å¥ (Polyrhythm)", "è‡ªç”±èŠ‚å¥ (Free Rhythm)", "äº¤é”™èŠ‚æ‹ (Cross Rhythm)"].sort(() => 0.5 - Math.random()).slice(0, 2),
                effects: ["é¢—ç²’æ„Ÿ (Granular)", "ç©ºé—´åŒ– (Spatialization)", "ç¯å½¢è°ƒåˆ¶ (Ring Modulation)"].sort(() => 0.5 - Math.random()).slice(0, 3),
                structures: ["è‡ªç”±ç»“æ„ (Free Form)", "å®éªŒæ€§ç»“æ„ (Experimental Structure)", "æ¸è¿›å¼ç»“æ„ (Progressive Structure)"].sort(() => 0.5 - Math.random()).slice(0, 1)
            };
        }

        // åº”ç”¨éšæœºè‡ªå®šä¹‰æ–‡æœ¬
        function applyRandomCustomText() {
            const professionalTexts = [
                "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼šä¸»æ­Œéƒ¨åˆ†è¦ç»†è…»æ¸©æŸ”ï¼Œå‰¯æ­Œéƒ¨åˆ†è¦æœ‰çˆ†å‘åŠ›ï¼Œæ•´ä½“æƒ…æ„Ÿè¦å±‚å±‚é€’è¿›ã€‚",
                "ä¸“ä¸šç¼–æ›²å»ºè®®ï¼šå‰å¥ç”¨ç¯å¢ƒéŸ³å¼•å…¥ï¼Œä¸»æ­Œéƒ¨åˆ†ä¹å™¨ç®€æ´çªå‡ºäººå£°ï¼Œå‰¯æ­ŒåŠ å…¥ä¸°å¯Œå’Œå£°å’Œç¼–æ›²ã€‚",
                "æ¼”å”±æŠ€å·§æç¤ºï¼šæ³¨æ„æ°”æ¯æ§åˆ¶ï¼Œå‰¯æ­Œéƒ¨åˆ†å¯ä»¥åŠ å…¥ä¸€äº›å³å…´å‘æŒ¥ï¼Œè®©æƒ…æ„Ÿæ›´çœŸå®è‡ªç„¶ã€‚",
                "åˆ¶ä½œå»ºè®®ï¼šæ··éŸ³æ—¶è¦æ³¨æ„äººå£°å’Œä¹å™¨çš„å¹³è¡¡ï¼Œé€‚å½“æ·»åŠ æ··å“è¥é€ ç©ºé—´æ„Ÿï¼Œä½†ä¸è¦è¿‡åº¦ã€‚",
                "åˆ›æ„æ–¹å‘ï¼šå¯ä»¥å°è¯•åœ¨ä¸»æ­Œå’Œå‰¯æ­Œä¹‹é—´åŠ å…¥ä¸€æ®µçº¯ä¹å™¨è¿‡æ¸¡ï¼Œå¢åŠ éŸ³ä¹çš„å±‚æ¬¡æ„Ÿã€‚",
                "æƒ…æ„Ÿè¡¨è¾¾ï¼šè¿™é¦–æ­Œè¦è¡¨è¾¾çš„æ˜¯ä»è¿·èŒ«åˆ°å¸Œæœ›çš„æƒ…æ„Ÿè½¬å˜ï¼Œç¼–æ›²ä¸Šä¹Ÿè¦ä½“ç°è¿™ç§å˜åŒ–ã€‚",
                "èŠ‚å¥å»ºè®®ï¼šå¯ä»¥å°è¯•åœ¨ç¬¬äºŒéå‰¯æ­Œæ—¶åŠ å¿«èŠ‚å¥ï¼Œè¥é€ ç´§å¼ æ„Ÿå’ŒæœŸå¾…æ„Ÿã€‚",
                "å’Œå£°å»ºè®®ï¼šåœ¨ä¸»æ­Œéƒ¨åˆ†åŠ å…¥è½»å¾®çš„å’Œå£°é“ºå«ï¼Œå‰¯æ­Œéƒ¨åˆ†å’Œå£°è¦é¥±æ»¡æœ‰åŠ›ã€‚",
                "ä¹å™¨ç¼–æ’ï¼šå»ºè®®ç”¨é’¢ç´ä½œä¸ºä¸»æ—‹å¾‹ä¹å™¨ï¼Œå¼¦ä¹ä½œä¸ºé“ºå«ï¼Œé¼“ç»„æä¾›èŠ‚å¥æ”¯æ’‘ã€‚",
                "åˆ›æ–°å°è¯•ï¼šå¯ä»¥èåˆä¸€äº›æ°‘æ—ä¹å™¨å…ƒç´ ï¼Œåˆ›é€ å‡ºç‹¬ç‰¹çš„æ–‡åŒ–äº¤èæ„Ÿã€‚"
            ];
            
            const sceneTexts = [
                "ä¸€é¦–å…³äºåŸå¸‚å¤œæ™šçš„æ­Œæ›²ï¼Œéœ“è™¹ç¯å…‰ä¸‹ï¼Œäººä»¬å„è‡ªçš„æ•…äº‹æ­£åœ¨ä¸Šæ¼”...",
                "æ¸…æ™¨å±±é—´çš„ç¬¬ä¸€ç¼•é˜³å…‰ï¼Œé¸Ÿé¸£æºªæµï¼Œä¸‡ç‰©è‹é†’çš„æ„Ÿè§‰...",
                "é›¨åçš„å’–å•¡é¦†ï¼Œçª—å¤–çš„é›¨æ»´å£°ï¼Œæ¸©æš–çš„ç¯å…‰ï¼Œæ€€æ—§çš„æ°›å›´...",
                "å¤å¤œçš„æµ·è¾¹ï¼Œæ˜Ÿç©ºä¸‹çš„ç¯ç«ï¼Œæœ‹å‹ä»¬çš„ç¬‘å£°ï¼Œé’æ˜¥çš„è®°å¿†...",
                "å†¬æ—¥æš–é˜³çš„åˆåï¼Œä¸€æ¯çƒ­èŒ¶ï¼Œä¸€æœ¬æ—§ä¹¦ï¼Œå®‰é™ç‹¬å¤„çš„æ—¶å…‰...",
                "ç¹å¿™éƒ½å¸‚ä¸­çš„ä¸€ç‰‡å®é™ç»¿æ´²ï¼Œè®©äººæš‚æ—¶é€ƒç¦»å–§åš£...",
                "ä¸€åœºè¯´èµ°å°±èµ°çš„æ—…è¡Œï¼Œè·¯ä¸Šçš„é£æ™¯ï¼ŒæœªçŸ¥çš„æƒŠå–œ...",
                "è€ç”µå½±èˆ¬çš„ç”»é¢æ„Ÿï¼Œé»‘ç™½ä¸å½©è‰²çš„äº¤æ›¿ï¼Œæ—¶å…‰çš„æµè½¬...",
                "æœªæ¥åŸå¸‚çš„æƒ³è±¡ï¼Œç§‘æŠ€ä¸äººæ–‡çš„èåˆï¼Œå¸Œæœ›ä¸æ‹…å¿§å¹¶å­˜...",
                "æ•…ä¹¡çš„è®°å¿†ï¼Œè€è¡—é“ï¼Œæ—§æ—¶å…‰ï¼Œå›ä¸å»çš„ç«¥å¹´..."
            ];
            
            // 50%å‡ ç‡ä½¿ç”¨ä¸“ä¸šå»ºè®®ï¼Œ50%å‡ ç‡ä½¿ç”¨åœºæ™¯æè¿°
            const useProfessional = Math.random() > 0.5;
            const textArray = useProfessional ? professionalTexts : sceneTexts;
            const randomText = textArray[Math.floor(Math.random() * textArray.length)];
            
            document.getElementById('customInput').value = randomText;
            appState.customText = randomText;
            updateCharCount();
        }

        // æ›´æ–°æ‰€æœ‰UIçŠ¶æ€
        function updateAllUI() {
            updatePreview();
            updateSelectedOverview();
            
            // æ›´æ–°ç”Ÿæˆæ¬¡æ•°
            if (hasValidSelection()) {
                appState.totalGenerations++;
                localStorage.setItem('totalGenerations', appState.totalGenerations);
                updateStats();
            }
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // è‡ªå®šä¹‰è¾“å…¥æ¡†äº‹ä»¶
            const customInput = document.getElementById('customInput');
            customInput.addEventListener('input', function() {
                appState.customText = this.value;
                updateCharCount();
                updatePreview();
            });
            
            // è¿›é˜¶è®¾ç½®äº‹ä»¶
            document.getElementById('audioQuality').addEventListener('change', function() {
                appState.audioQuality = this.value;
                updatePreview();
            });
            
            document.getElementById('dynamicRange').addEventListener('change', function() {
                appState.dynamicRange = this.value;
                updatePreview();
            });
            
            document.getElementById('songDuration').addEventListener('change', function() {
                appState.songDuration = this.value;
                updatePreview();
            });
            
            document.getElementById('outputFormat').addEventListener('change', function() {
                appState.outputFormat = this.value;
                updatePreview();
            });
            
            // åˆ·æ–°é¢„è§ˆæŒ‰é’®
            document.getElementById('refreshPreviewBtn').addEventListener('click', function() {
                updatePreview();
                showToast('å·²åˆ·æ–°é¢„è§ˆ', 'info');
            });
            
            // æ¸…ç©ºæ‰€æœ‰æŒ‰é’®
            document.getElementById('clearAllBtn').addEventListener('click', function() {
                clearAllSelections();
            });
            
            // æ™ºèƒ½éšæœºç»„åˆæŒ‰é’®
            document.getElementById('randomSelectBtn').addEventListener('click', function() {
                // å…ˆæ¸…ç©ºå½“å‰é€‰æ‹©çš„é¢„è®¾å¡ç‰‡
                document.querySelectorAll('.preset-card').forEach(card => {
                    card.classList.remove('selected');
                });
                
                // æ ‡è®°éšæœºé¢„è®¾å¡ç‰‡ä¸ºé€‰ä¸­çŠ¶æ€
                const randomPresetCard = document.querySelector('.preset-card:last-child');
                if (randomPresetCard) {
                    randomPresetCard.classList.add('selected');
                }
                
                // ç„¶ååº”ç”¨éšæœºé€‰æ‹©
                applyRandomPreset(stylePresets[24]);
            });
            
            // ä¸“å®¶çº§éšæœºæŒ‰é’®
            document.getElementById('expertRandomBtn').addEventListener('click', function() {
                applyExpertRandom();
            });
            
            // å¤åˆ¶æç¤ºè¯æŒ‰é’®
            document.getElementById('copyPromptBtn').addEventListener('click', function() {
                copyEnglishPrompt();
            });
            
            // å•ä¸ªå¤åˆ¶æŒ‰é’®
            document.querySelectorAll('.copy-single-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const lang = this.getAttribute('data-lang');
                    copySinglePrompt(lang);
                });
            });
            
            // æ‚¬åœæ—¶æ˜¾ç¤ºå¤åˆ¶æŒ‰é’®
            document.querySelectorAll('.prompt-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    const btn = this.querySelector('.copy-btn');
                    if (btn) btn.style.opacity = '1';
                });
                
                card.addEventListener('mouseleave', function() {
                    const btn = this.querySelector('.copy-btn');
                    if (btn) btn.style.opacity = '0';
                });
            });
            
            // ä¸“å®¶æ¨¡å¼åˆ‡æ¢ - ä¿®å¤ï¼šæ·»åŠ æ­£ç¡®çš„åˆ‡æ¢é€»è¾‘
            document.getElementById('toggleExpertMode').addEventListener('click', toggleExpertMode);
            
            // å±•å¼€/æ”¶èµ·æ‰€æœ‰æŒ‰é’®
            document.getElementById('toggleAllSections').addEventListener('click', toggleAllSections);
            
            // ä¿å­˜é…ç½®æŒ‰é’®
            document.getElementById('saveConfigBtn').addEventListener('click', showSaveModal);
            
            // åŠ è½½é…ç½®æŒ‰é’®
            document.getElementById('loadConfigBtn').addEventListener('click', showLoadModal);
            
            // æ¨¡æ€æ¡†æŒ‰é’®
            document.getElementById('cancelSaveBtn').addEventListener('click', hideSaveModal);
            document.getElementById('confirmSaveBtn').addEventListener('click', saveConfig);
            document.getElementById('cancelLoadBtn').addEventListener('click', hideLoadModal);
            
            // æ¸…ç©ºå†å²æŒ‰é’®
            document.getElementById('clearHistoryBtn').addEventListener('click', clearHistory);
            
            // æœç´¢åŠŸèƒ½
            document.getElementById('searchTags').addEventListener('input', function() {
                const query = this.value.trim();
                if (query.length > 0) {
                    searchTags(query);
                } else {
                    document.getElementById('searchResults').classList.add('hidden');
                }
            });
            
            document.getElementById('clearSearch').addEventListener('click', function() {
                document.getElementById('searchTags').value = '';
                document.getElementById('searchResults').classList.add('hidden');
            });
            
            // åˆ†ç±»éšæœºé€‰æ‹©æŒ‰é’® - ä¿®å¤ï¼šä¸ºæ‰€æœ‰åˆ†ç±»éšæœºé€‰æ‹©æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬
            document.addEventListener('click', function(e) {
                if (e.target && (e.target.classList.contains('select-random-category') || 
                    e.target.closest('.select-random-category'))) {
                    const target = e.target.classList.contains('select-random-category') ? 
                        e.target : e.target.closest('.select-random-category');
                    const category = target.getAttribute('data-category');
                    if (category) {
                        selectRandomFromCategory(category);
                    }
                }
            });
            
            // åˆ†ç±»å±•å¼€/æ”¶èµ·æŒ‰é’®
            document.querySelectorAll('.toggle-section').forEach(btn => {
                btn.addEventListener('click', function() {
                    const container = this.closest('.bg-white').querySelector('div[id$="Container"]');
                    const icon = this.querySelector('i');
                    
                    if (container.style.maxHeight && container.style.maxHeight !== '0px') {
                        container.style.maxHeight = '0px';
                        container.style.overflow = 'hidden';
                        icon.className = 'fa fa-chevron-down text-xs';
                    } else {
                        container.style.maxHeight = '256px';
                        container.style.overflow = 'auto';
                        icon.className = 'fa fa-chevron-up text-xs';
                    }
                });
            });
            
            // åŸºç¡€å‚æ•°å±•å¼€/æ”¶èµ·
            document.getElementById('toggleBasic').addEventListener('click', function() {
                const container = document.getElementById('basicParams');
                const icon = this.querySelector('i');
                
                if (container.style.maxHeight && container.style.maxHeight !== '0px') {
                    container.style.maxHeight = '0px';
                    container.style.overflow = 'hidden';
                    icon.className = 'fa fa-chevron-down';
                    this.innerHTML = '<i class="fa fa-chevron-down"></i> å±•å¼€';
                } else {
                    container.style.maxHeight = 'none';
                    container.style.overflow = 'visible';
                    icon.className = 'fa fa-chevron-up';
                    this.innerHTML = '<i class="fa fa-chevron-up"></i> æ”¶èµ·';
                }
            });
            
            // ä¸“å®¶å‚æ•°å±•å¼€/æ”¶èµ·
            document.getElementById('toggleExpert').addEventListener('click', function() {
                const container = document.getElementById('expertParams');
                const icon = this.querySelector('i');
                
                if (container.classList.contains('hidden')) {
                    container.classList.remove('hidden');
                    container.style.maxHeight = 'none';
                    icon.className = 'fa fa-chevron-up';
                    this.innerHTML = '<i class="fa fa-chevron-up"></i> æ”¶èµ·';
                } else {
                    container.classList.add('hidden');
                    container.style.maxHeight = '0px';
                    icon.className = 'fa fa-chevron-down';
                    this.innerHTML = '<i class="fa fa-chevron-down"></i> å±•å¼€';
                }
            });
        }

        // åˆ‡æ¢ä¸“å®¶æ¨¡å¼ - ä¿®å¤ï¼šç¡®ä¿åˆ‡æ¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ
        function toggleExpertMode() {
            appState.expertMode = !appState.expertMode;
            localStorage.setItem('expertMode', appState.expertMode);
            updateExpertModeUI();
            
            if (appState.expertMode) {
                showToast('ä¸“å®¶æ¨¡å¼å·²å¼€å¯', 'success');
                // è‡ªåŠ¨å±•å¼€ä¸“å®¶å‚æ•°
                const container = document.getElementById('expertParams');
                const toggleBtn = document.getElementById('toggleExpert');
                if (container.classList.contains('hidden')) {
                    container.classList.remove('hidden');
                    container.style.maxHeight = 'none';
                    toggleBtn.innerHTML = '<i class="fa fa-chevron-up"></i> æ”¶èµ·';
                }
            } else {
                showToast('ä¸“å®¶æ¨¡å¼å·²å…³é—­', 'info');
            }
            
            // æ›´æ–°é¢„è§ˆ
            updatePreview();
        }

        // æ›´æ–°ä¸“å®¶æ¨¡å¼UI - ä¿®å¤ï¼šç¡®ä¿UIæ­£ç¡®æ˜¾ç¤º
        function updateExpertModeUI() {
            const toggleBtn = document.getElementById('toggleExpertMode');
            const badge = document.getElementById('expertModeBadge');
            
            if (appState.expertMode) {
                toggleBtn.classList.add('bg-white/30');
                badge.classList.remove('hidden');
                badge.textContent = 'å¼€';
            } else {
                toggleBtn.classList.remove('bg-white/30');
                badge.classList.add('hidden');
                badge.textContent = 'å…³';
            }
        }

        // åˆ‡æ¢æ‰€æœ‰åˆ†ç±»å±•å¼€/æ”¶èµ·
        function toggleAllSections() {
            const basicContainer = document.getElementById('basicParams');
            const expertContainer = document.getElementById('expertParams');
            const toggleBtn = document.getElementById('toggleAllSections');
            
            const basicIsOpen = !(basicContainer.style.maxHeight && basicContainer.style.maxHeight !== '0px');
            const expertIsOpen = !expertContainer.classList.contains('hidden');
            
            // åˆ‡æ¢åŸºç¡€å‚æ•°
            if (basicIsOpen) {
                basicContainer.style.maxHeight = '0px';
                basicContainer.style.overflow = 'hidden';
                document.getElementById('toggleBasic').innerHTML = '<i class="fa fa-chevron-down"></i> å±•å¼€';
            } else {
                basicContainer.style.maxHeight = 'none';
                basicContainer.style.overflow = 'visible';
                document.getElementById('toggleBasic').innerHTML = '<i class="fa fa-chevron-up"></i> æ”¶èµ·';
            }
            
            // åˆ‡æ¢ä¸“å®¶å‚æ•°
            if (expertIsOpen) {
                expertContainer.classList.add('hidden');
                expertContainer.style.maxHeight = '0px';
                document.getElementById('toggleExpert').innerHTML = '<i class="fa fa-chevron-down"></i> å±•å¼€';
            } else {
                expertContainer.classList.remove('hidden');
                expertContainer.style.maxHeight = 'none';
                document.getElementById('toggleExpert').innerHTML = '<i class="fa fa-chevron-up"></i> æ”¶èµ·';
            }
            
            toggleBtn.innerHTML = basicIsOpen ? '<i class="fa fa-compress"></i> æ”¶èµ·æ‰€æœ‰' : '<i class="fa fa-expand"></i> å±•å¼€æ‰€æœ‰';
        }

        // æ˜¾ç¤ºä¿å­˜é…ç½®æ¨¡æ€æ¡†
        function showSaveModal() {
            document.getElementById('saveModal').classList.remove('hidden');
            document.getElementById('configName').focus();
        }

        // éšè—ä¿å­˜é…ç½®æ¨¡æ€æ¡†
        function hideSaveModal() {
            document.getElementById('saveModal').classList.add('hidden');
        }

        // ä¿å­˜é…ç½®
        function saveConfig() {
            const configName = document.getElementById('configName').value.trim();
            if (!configName) {
                showToast('è¯·è¾“å…¥é…ç½®åç§°', 'warning');
                return;
            }
            
            const config = {
                name: configName,
                timestamp: new Date().toLocaleString(),
                selectedOptions: {...appState.selectedOptions},
                customText: appState.customText,
                audioQuality: appState.audioQuality,
                dynamicRange: appState.dynamicRange,
                songDuration: appState.songDuration,
                outputFormat: appState.outputFormat
            };
            
            // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨åŒåé…ç½®
            const existingIndex = appState.savedConfigs.findIndex(c => c.name === configName);
            if (existingIndex !== -1) {
                appState.savedConfigs[existingIndex] = config;
            } else {
                appState.savedConfigs.push(config);
            }
            
            localStorage.setItem('savedConfigs', JSON.stringify(appState.savedConfigs));
            hideSaveModal();
            showToast(`é…ç½®"${configName}"å·²ä¿å­˜`, 'success');
        }

        // æ˜¾ç¤ºåŠ è½½é…ç½®æ¨¡æ€æ¡†
        function showLoadModal() {
            const container = document.getElementById('savedConfigs');
            container.innerHTML = '';
            
            if (appState.savedConfigs.length === 0) {
                container.innerHTML = '<p class="text-neutral-400 italic text-center py-8">æš‚æ— ä¿å­˜çš„é…ç½®</p>';
            } else {
                appState.savedConfigs.forEach((config, index) => {
                    const div = document.createElement('div');
                    div.className = 'flex justify-between items-center p-3 bg-neutral-50 rounded-lg hover:bg-neutral-100 cursor-pointer transition-all-custom';
                    div.innerHTML = `
                        <div>
                            <div class="font-medium text-neutral-800">${config.name}</div>
                            <div class="text-xs text-neutral-500">${config.timestamp}</div>
                        </div>
                        <div class="flex gap-2">
                            <button class="load-config-btn px-3 py-1 bg-primary text-white text-sm rounded-lg hover:bg-primary-dark transition-all-custom" data-index="${index}">
                                åŠ è½½
                            </button>
                            <button class="delete-config-btn px-3 py-1 bg-red-100 text-red-600 text-sm rounded-lg hover:bg-red-200 transition-all-custom" data-index="${index}">
                                <i class="fa fa-trash"></i>
                            </button>
                        </div>
                    `;
                    container.appendChild(div);
                });
                
                // æ·»åŠ äº‹ä»¶ç›‘å¬
                document.querySelectorAll('.load-config-btn').forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const index = parseInt(this.getAttribute('data-index'));
                        loadConfig(index);
                    });
                });
                
                document.querySelectorAll('.delete-config-btn').forEach(btn => {
                    btn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        const index = parseInt(this.getAttribute('data-index'));
                        deleteConfig(index);
                    });
                });
            }
            
            document.getElementById('loadModal').classList.remove('hidden');
        }

        // éšè—åŠ è½½é…ç½®æ¨¡æ€æ¡†
        function hideLoadModal() {
            document.getElementById('loadModal').classList.add('hidden');
        }

        // åŠ è½½é…ç½®
        function loadConfig(index) {
            const config = appState.savedConfigs[index];
            if (!config) return;
            
            // æ¸…ç©ºå½“å‰é€‰æ‹©
            clearAllSelections(false);
            
            // åŠ è½½é…ç½®
            for (const [category, values] of Object.entries(config.selectedOptions)) {
                if (appState.selectedOptions[category]) {
                    values.forEach(value => {
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = true;
                            appState.selectedOptions[category].push(value);
                        }
                    });
                    updateOptionCount(category);
                }
            }
            
            // åŠ è½½è¿›é˜¶è®¾ç½®
            appState.customText = config.customText || "";
            appState.audioQuality = config.audioQuality || "é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³";
            appState.dynamicRange = config.dynamicRange || "ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼";
            appState.songDuration = config.songDuration || "3-4åˆ†é’Ÿ";
            appState.outputFormat = config.outputFormat || "ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3";
            
            document.getElementById('customInput').value = appState.customText;
            document.getElementById('audioQuality').value = appState.audioQuality;
            document.getElementById('dynamicRange').value = appState.dynamicRange;
            document.getElementById('songDuration').value = appState.songDuration;
            document.getElementById('outputFormat').value = appState.outputFormat;
            
            updateCharCount();
            updatePreview();
            updateSelectedOverview();
            hideLoadModal();
            
            showToast(`é…ç½®"${config.name}"å·²åŠ è½½`, 'success');
        }

        // åˆ é™¤é…ç½®
        function deleteConfig(index) {
            const configName = appState.savedConfigs[index].name;
            appState.savedConfigs.splice(index, 1);
            localStorage.setItem('savedConfigs', JSON.stringify(appState.savedConfigs));
            showLoadModal(); // åˆ·æ–°åˆ—è¡¨
            showToast(`é…ç½®"${configName}"å·²åˆ é™¤`, 'info');
        }

        // æœç´¢æ ‡ç­¾
        function searchTags(query) {
            const resultsContainer = document.getElementById('searchResultsContainer');
            resultsContainer.innerHTML = '';
            
            let foundResults = false;
            
            for (const [category, values] of Object.entries(musicData)) {
                const matchingValues = values.filter(value => 
                    value.toLowerCase().includes(query.toLowerCase())
                );
                
                if (matchingValues.length > 0) {
                    foundResults = true;
                    
                    const categoryDiv = document.createElement('div');
                    categoryDiv.className = 'mb-4';
                    
                    const categoryName = getCategoryName(category);
                    categoryDiv.innerHTML = `<h4 class="font-medium text-neutral-700 mb-2">${categoryName} (${matchingValues.length})</h4>`;
                    
                    const valuesDiv = document.createElement('div');
                    valuesDiv.className = 'flex flex-wrap gap-2';
                    
                    matchingValues.forEach(value => {
                        const span = document.createElement('span');
                        span.className = 'px-3 py-1 bg-primary/10 text-primary-dark text-sm rounded-full cursor-pointer hover:bg-primary/20 transition-all-custom search-tag';
                        span.textContent = value;
                        span.setAttribute('data-category', category);
                        span.setAttribute('data-value', value);
                        valuesDiv.appendChild(span);
                    });
                    
                    categoryDiv.appendChild(valuesDiv);
                    resultsContainer.appendChild(categoryDiv);
                }
            }
            
            if (foundResults) {
                document.getElementById('searchResults').classList.remove('hidden');
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                document.querySelectorAll('.search-tag').forEach(tag => {
                    tag.addEventListener('click', function() {
                        const category = this.getAttribute('data-category');
                        const value = this.getAttribute('data-value');
                        
                        const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                        const checkbox = document.getElementById(safeId);
                        
                        if (checkbox) {
                            checkbox.checked = !checkbox.checked;
                            checkbox.dispatchEvent(new Event('change'));
                            
                            // é«˜äº®æ˜¾ç¤º
                            this.classList.toggle('bg-primary/20');
                            this.classList.toggle('bg-primary/10');
                        }
                    });
                });
            } else {
                resultsContainer.innerHTML = '<p class="text-neutral-400 italic text-center py-8">æœªæ‰¾åˆ°ç›¸å…³æ ‡ç­¾</p>';
                document.getElementById('searchResults').classList.remove('hidden');
            }
        }

        // ä»åˆ†ç±»ä¸­éšæœºé€‰æ‹© - ä¿®å¤ï¼šç¡®ä¿èƒ½æ­£ç¡®å¤„ç†ä¸“å®¶å‚æ•°
        function selectRandomFromCategory(category) {
            const values = musicData[category] || [];
            if (values.length === 0) return;
            
            // éšæœºé€‰æ‹©1-3ä¸ª
            const count = Math.floor(Math.random() * 3) + 1;
            const shuffled = [...values].sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, count);
            
            // å…ˆå–æ¶ˆè¯¥åˆ†ç±»çš„æ‰€æœ‰é€‰æ‹©
            document.querySelectorAll(`#${category}Container input:checked`).forEach(checkbox => {
                checkbox.checked = false;
                const value = checkbox.value;
                const index = appState.selectedOptions[category].indexOf(value);
                if (index > -1) {
                    appState.selectedOptions[category].splice(index, 1);
                }
            });
            
            // é€‰æ‹©æ–°çš„é€‰é¡¹
            selected.forEach(value => {
                const safeId = `${category}_${value.replace(/[^\w\u4e00-\u9fa5]/g, '_').replace(/_+/g, '_')}`;
                const checkbox = document.getElementById(safeId);
                
                if (checkbox) {
                    checkbox.checked = true;
                    appState.selectedOptions[category].push(value);
                }
            });
            
            updateOptionCount(category);
            updatePreview();
            updateSelectedOverview();
            
            showToast(`å·²åœ¨${getCategoryName(category)}ä¸­éšæœºé€‰æ‹©${selected.length}ä¸ªæ ‡ç­¾`, 'info');
        }

        // æ›´æ–°é€‰é¡¹é€‰æ‹©çŠ¶æ€
        function updateSelection(category, value, isSelected) {
            if (isSelected) {
                if (!appState.selectedOptions[category].includes(value)) {
                    appState.selectedOptions[category].push(value);
                }
            } else {
                const index = appState.selectedOptions[category].indexOf(value);
                if (index > -1) {
                    appState.selectedOptions[category].splice(index, 1);
                }
            }
        }

        // æ›´æ–°é€‰é¡¹è®¡æ•°
        function updateOptionCount(category) {
            const count = appState.selectedOptions[category] ? appState.selectedOptions[category].length : 0;
            const countElement = document.getElementById(`${category}Count`);
            if (countElement) {
                countElement.textContent = count;
            }
            
            // æ›´æ–°æ€»é€‰æ‹©æ•°
            updateTotalSelectedCount();
        }

        // æ›´æ–°æ€»é€‰æ‹©æ•°
        function updateTotalSelectedCount() {
            let total = 0;
            for (const category in appState.selectedOptions) {
                total += appState.selectedOptions[category].length;
            }
            document.getElementById('totalSelectedCount').textContent = total;
            document.getElementById('totalSelected').textContent = total;
        }

        // æ›´æ–°å­—ç¬¦è®¡æ•°
        function updateCharCount() {
            const customInput = document.getElementById('customInput');
            const charCount = document.getElementById('charCount');
            const length = customInput.value.length;
            charCount.textContent = `${length}/500`;
            
            if (length > 500) {
                charCount.classList.remove('text-neutral-500');
                charCount.classList.add('text-red-500');
                customInput.classList.add('border-red-300');
                customInput.classList.remove('border-neutral-200');
            } else if (length > 400) {
                charCount.classList.remove('text-neutral-500');
                charCount.classList.add('text-yellow-500');
                customInput.classList.remove('border-red-300', 'border-neutral-200');
                customInput.classList.add('border-yellow-300');
            } else {
                charCount.classList.remove('text-red-500', 'text-yellow-500');
                charCount.classList.add('text-neutral-500');
                customInput.classList.remove('border-red-300', 'border-yellow-300');
                customInput.classList.add('border-neutral-200');
            }
        }

        // æ›´æ–°é¢„è§ˆ
        function updatePreview() {
            // ç”Ÿæˆæç¤ºè¯
            const chinesePrompt = generateChinesePrompt();
            const englishPrompt = generateEnglishPrompt();
            
            // æ›´æ–°ä¸­æ–‡é¢„è§ˆ
            document.getElementById('chinesePreview').innerHTML = formatPromptForDisplay(chinesePrompt);
            
            // æ›´æ–°è‹±æ–‡é¢„è§ˆ
            document.getElementById('englishPreview').innerHTML = formatEnglishPromptForDisplay(englishPrompt);
            
            // æ›´æ–°åŒè¯­é¢„è§ˆ
            updateBothPreview(englishPrompt, chinesePrompt);
            
            // ä¿å­˜åˆ°å†å²è®°å½•
            if (hasValidSelection()) {
                saveToHistory(chinesePrompt, englishPrompt);
                loadHistory();
            }
        }

        // æ›´æ–°åŒè¯­é¢„è§ˆ
        function updateBothPreview(englishPrompt, chinesePrompt) {
            const bothPreview = document.getElementById('bothPreview');
            bothPreview.innerHTML = `
                <div class="mb-5">
                    <div class="text-xs font-medium text-secondary mb-2 flex items-center gap-2">
                        <i class="fa fa-globe text-xs"></i>
                        <span>è‹±æ–‡æç¤ºè¯</span>
                    </div>
                    <div class="text-neutral-600 text-sm">${formatSimplePrompt(englishPrompt)}</div>
                </div>
                <div class="pt-5 border-t border-neutral-200">
                    <div class="text-xs font-medium text-primary mb-2 flex items-center gap-2">
                        <i class="fa fa-language text-xs"></i>
                        <span>ä¸­æ–‡æç¤ºè¯</span>
                    </div>
                    <div class="text-neutral-600 text-sm">${formatSimplePrompt(chinesePrompt)}</div>
                </div>
            `;
        }

        // æ ¼å¼åŒ–è‹±æ–‡æç¤ºè¯ç”¨äºæ˜¾ç¤º
        function formatEnglishPromptForDisplay(prompt) {
            // å°†æç¤ºè¯æŒ‰æ®µè½åˆ†å‰²
            const paragraphs = prompt.split('\n\n');
            
            // ä¸ºæ¯ä¸ªæ®µè½æ·»åŠ é€‚å½“çš„æ ¼å¼
            let formattedPrompt = '';
            paragraphs.forEach(paragraph => {
                if (paragraph.startsWith('Technical specifications:')) {
                    formattedPrompt += `<div class="mt-3 p-3 bg-neutral-100 rounded-lg border-l-3 border-primary">`;
                    formattedPrompt += `<div class="text-xs font-medium text-primary mb-2">Technical specifications:</div>`;
                    const lines = paragraph.split('\n').slice(1);
                    lines.forEach(line => {
                        if (line.trim()) {
                            formattedPrompt += `<div class="text-xs text-neutral-600 flex items-start gap-2 mb-2">`;
                            formattedPrompt += `<span class="text-primary mt-1">â€¢</span>`;
                            formattedPrompt += `<span class="flex-1">${line.replace('- ', '')}</span>`;
                            formattedPrompt += `</div>`;
                        }
                    });
                    formattedPrompt += `</div>`;
                } else if (paragraph.startsWith('Additional creative guidance:')) {
                    formattedPrompt += `<div class="mt-3 p-3 bg-secondary/5 rounded-lg border-l-3 border-secondary">`;
                    formattedPrompt += `<div class="text-xs font-medium text-secondary mb-2">Additional creative guidance:</div>`;
                    const content = paragraph.split(':').slice(1).join(':');
                    formattedPrompt += `<div class="text-xs text-neutral-600">${content}</div>`;
                    formattedPrompt += `</div>`;
                } else {
                    // å°†é•¿æ®µè½åˆ†å‰²æˆå¥å­
                    const sentences = paragraph.split('. ').filter(s => s.trim() !== '');
                    sentences.forEach(sentence => {
                        if (sentence.trim()) {
                            formattedPrompt += `<p class="mb-2 leading-relaxed">${sentence.trim() + (sentence.endsWith('.') ? '' : '.')}</p>`;
                        }
                    });
                }
            });
            
            return formattedPrompt;
        }

        // æ ¼å¼åŒ–æç¤ºè¯ç”¨äºæ˜¾ç¤º
        function formatPromptForDisplay(prompt) {
            // å°†æç¤ºè¯æŒ‰æ®µè½åˆ†å‰²
            const paragraphs = prompt.split('\n\n');
            
            // ä¸ºæ¯ä¸ªæ®µè½æ·»åŠ é€‚å½“çš„æ ¼å¼
            let formattedPrompt = '';
            paragraphs.forEach(paragraph => {
                if (paragraph.startsWith('æŠ€æœ¯è§„æ ¼ï¼š')) {
                    formattedPrompt += `<div class="mt-3 p-3 bg-neutral-100 rounded-lg border-l-3 border-primary">`;
                    formattedPrompt += `<div class="text-xs font-medium text-primary mb-2">æŠ€æœ¯è§„æ ¼ï¼š</div>`;
                    const lines = paragraph.split('\n').slice(1);
                    lines.forEach(line => {
                        if (line.trim()) {
                            formattedPrompt += `<div class="text-xs text-neutral-600 flex items-start gap-2 mb-2">`;
                            formattedPrompt += `<span class="text-primary mt-1">â€¢</span>`;
                            formattedPrompt += `<span class="flex-1">${line.replace('- ', '')}</span>`;
                            formattedPrompt += `</div>`;
                        }
                    });
                    formattedPrompt += `</div>`;
                } else if (paragraph.startsWith('é™„åŠ åˆ›æ„æŒ‡å¯¼ï¼š')) {
                    formattedPrompt += `<div class="mt-3 p-3 bg-secondary/5 rounded-lg border-l-3 border-secondary">`;
                    formattedPrompt += `<div class="text-xs font-medium text-secondary mb-2">é™„åŠ åˆ›æ„æŒ‡å¯¼ï¼š</div>`;
                    const content = paragraph.split(':').slice(1).join(':');
                    formattedPrompt += `<div class="text-xs text-neutral-600">${content}</div>`;
                    formattedPrompt += `</div>`;
                } else {
                    // å°†é•¿æ®µè½åˆ†å‰²æˆå¥å­
                    const sentences = paragraph.split('ã€‚').filter(s => s.trim() !== '');
                    sentences.forEach(sentence => {
                        if (sentence.trim()) {
                            formattedPrompt += `<p class="mb-2 leading-relaxed">${sentence.trim()}ã€‚</p>`;
                        }
                    });
                }
            });
            
            return formattedPrompt;
        }

        // ç®€åŒ–æç¤ºè¯ç”¨äºåŒè¯­é¢„è§ˆ
        function formatSimplePrompt(prompt) {
            const paragraphs = prompt.split('\n\n');
            let simplePrompt = '';
            
            // åªå–å‰ä¸¤æ®µ
            for (let i = 0; i < Math.min(2, paragraphs.length); i++) {
                if (paragraphs[i].startsWith('Technical specifications:') || paragraphs[i].startsWith('æŠ€æœ¯è§„æ ¼ï¼š') || 
                    paragraphs[i].startsWith('Additional creative guidance:') || paragraphs[i].startsWith('é™„åŠ åˆ›æ„æŒ‡å¯¼ï¼š')) {
                    continue;
                }
                
                // æˆªæ–­è¿‡é•¿çš„æ®µè½
                let text = paragraphs[i];
                if (text.length > 150) {
                    text = text.substring(0, 150) + '...';
                }
                simplePrompt += text + ' ';
            }
            
            return simplePrompt.trim();
        }

        // ç”Ÿæˆä¸­æ–‡æç¤ºè¯
        function generateChinesePrompt() {
            const selected = appState.selectedOptions;
            
            // å¦‚æœæ²¡æœ‰é€‰æ‹©ä»»ä½•é€‰é¡¹ï¼Œè¿”å›é»˜è®¤æç¤º
            if (!hasValidSelection()) {
                return "è¯·ä»å·¦ä¾§é€‰æ‹©éŸ³ä¹å‚æ•°ï¼Œæˆ–ç‚¹å‡»ä¸Šæ–¹çš„é£æ ¼é¢„è®¾ï¼Œç³»ç»Ÿå°†ç”Ÿæˆä¸“ä¸šçš„éŸ³ä¹æç¤ºè¯ã€‚\n\nä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ä½ å…ˆé€‰æ‹©ä¸€ä¸ªé¢„è®¾é£æ ¼ï¼Œç„¶åå†æ ¹æ®éœ€è¦å¾®è°ƒå‚æ•°ã€‚è¿™æ ·èƒ½å¿«é€Ÿå¾—åˆ°é«˜è´¨é‡çš„æç¤ºè¯ã€‚";
            }
            
            let prompt = "åˆ›ä½œä¸€é¦–éŸ³ä¹ï¼Œ";
            
            // æ·»åŠ éŸ³ä¹é£æ ¼
            if (selected.musicStyles.length > 0) {
                // æå–ä¸­æ–‡éƒ¨åˆ†ï¼ˆå»é™¤æ‹¬å·å†…çš„è‹±æ–‡ï¼‰
                const chineseStyles = selected.musicStyles.map(s => {
                    const match = s.match(/(.*?)\s*\(/);
                    return match ? match[1] : s.split(' ')[0];
                });
                prompt += `é£æ ¼ä¸º${chineseStyles.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ æƒ…ç»ª
            if (selected.emotions.length > 0) {
                const chineseEmotions = selected.emotions.map(e => {
                    const match = e.match(/(.*?)\s*\(/);
                    return match ? match[1] : e.split(' ')[0];
                });
                prompt += `è¡¨è¾¾${chineseEmotions.join('ã€')}çš„æƒ…ç»ªï¼Œ`;
            }
            
            // æ·»åŠ èŠ‚æ‹
            if (selected.beats.length > 0) {
                const chineseBeats = selected.beats.map(b => {
                    const match = b.match(/(.*?)\s*\(/);
                    return match ? match[1] : b.split(' ')[0];
                });
                prompt += `é‡‡ç”¨${chineseBeats.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ ä¹å™¨ï¼ˆåˆå¹¶æ™®é€šä¹å™¨å’Œä¸­å›½ä¹å™¨ï¼‰
            const allInstruments = [
                ...selected.instruments,
                ...selected.chineseInstruments
            ];
            if (allInstruments.length > 0) {
                const chineseInstruments = allInstruments.map(i => {
                    const match = i.match(/(.*?)\s*\(/);
                    return match ? match[1] : i.split(' ')[0];
                });
                prompt += `ä½¿ç”¨${chineseInstruments.join('ã€')}ç­‰ä¹å™¨ï¼Œ`;
            }
            
            // æ·»åŠ æ—‹å¾‹ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.melodies.length > 0 && appState.expertMode) {
                const chineseMelodies = selected.melodies.map(m => {
                    const match = m.match(/(.*?)\s*\(/);
                    return match ? match[1] : m;
                });
                prompt += `æ—‹å¾‹ç‰¹ç‚¹ä¸º${chineseMelodies.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ å’Œå£°ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.harmonies.length > 0 && appState.expertMode) {
                const chineseHarmonies = selected.harmonies.map(h => {
                    const match = h.match(/(.*?)\s*\(/);
                    return match ? match[1] : h;
                });
                prompt += `å’Œå£°é‡‡ç”¨${chineseHarmonies.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ èŠ‚å¥ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.rhythms.length > 0 && appState.expertMode) {
                const chineseRhythms = selected.rhythms.map(r => {
                    const match = r.match(/(.*?)\s*\(/);
                    return match ? match[1] : r;
                });
                prompt += `èŠ‚å¥ç‰¹ç‚¹ä¸º${chineseRhythms.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ æ•ˆæœå™¨ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.effects.length > 0 && appState.expertMode) {
                const chineseEffects = selected.effects.map(e => {
                    const match = e.match(/(.*?)\s*\(/);
                    return match ? match[1] : e;
                });
                prompt += `æ·»åŠ ${chineseEffects.join('ã€')}ç­‰æ•ˆæœå™¨ï¼Œ`;
            }
            
            // æ·»åŠ äººå£°é£æ ¼
            if (selected.vocalStyles.length > 0) {
                const chineseVocals = selected.vocalStyles.map(v => {
                    const match = v.match(/(.*?)\s*\(/);
                    return match ? match[1] : v;
                });
                prompt += `äººå£°é£æ ¼ä¸º${chineseVocals.join('ã€')}ï¼Œ`;
            }
            
            // æ·»åŠ è¯­ç§
            if (selected.languages.length > 0) {
                const chineseLanguages = selected.languages.map(l => {
                    const match = l.match(/(.*?)\s*\(/);
                    return match ? match[1] : l;
                });
                prompt += `ä½¿ç”¨${chineseLanguages.join('ã€')}æ¼”å”±ï¼Œ`;
            }
            
            // æ·»åŠ æ­Œæ›²ç»“æ„
            if (selected.structures.length > 0) {
                const chineseStructures = selected.structures.map(s => {
                    const match = s.match(/(.*?)\s*\(/);
                    return match ? match[1] : s;
                });
                prompt += `é‡‡ç”¨${chineseStructures.join('ã€')}çš„æ­Œæ›²ç»“æ„ã€‚`;
            }
            
            // å¤„ç†ç»“å°¾æ ‡ç‚¹
            if (prompt.endsWith('ï¼Œ')) {
                prompt = prompt.slice(0, -1) + 'ã€‚';
            }
            
            // æ·»åŠ è‡ªå®šä¹‰è¦æ±‚
            if (appState.customText.trim()) {
                prompt += `\n\né™„åŠ åˆ›æ„æŒ‡å¯¼ï¼š${appState.customText}`;
            }
            
            // æ·»åŠ æŠ€æœ¯è§„æ ¼
            prompt += "\n\næŠ€æœ¯è§„æ ¼ï¼š";
            prompt += `\n- éŸ³é¢‘è´¨é‡ï¼š${appState.audioQuality}`;
            prompt += `\n- åŠ¨æ€èŒƒå›´ï¼š${appState.dynamicRange}`;
            prompt += `\n- æ­Œæ›²æ—¶é•¿ï¼š${appState.songDuration}`;
            prompt += `\n- è¾“å‡ºæ ¼å¼ï¼š${appState.outputFormat}`;
            prompt += "\n- é€‚åˆå¹³å°ï¼šSuno AIã€Riffusionã€AIVAã€ streaming platforms";
            
            return prompt;
        }

        // ç”Ÿæˆè‹±æ–‡æç¤ºè¯ - ä¿®å¤ç‰ˆï¼šé€‚åˆç›´æ¥ç»™Sunoä½¿ç”¨
        function generateEnglishPrompt() {
            const selected = appState.selectedOptions;
            
            // å¦‚æœæ²¡æœ‰é€‰æ‹©ä»»ä½•é€‰é¡¹ï¼Œè¿”å›é»˜è®¤æç¤º
            if (!hasValidSelection()) {
                return "Please select music parameters from the left side, or click on a style preset above to generate professional music prompts.";
            }
            
            let prompt = "Create a piece of music that is ";
            
            // æ·»åŠ éŸ³ä¹é£æ ¼
            if (selected.musicStyles.length > 0) {
                const englishStyles = selected.musicStyles.map(s => translations[s] || s);
                prompt += `${englishStyles.join(', ')} in style, `;
            }
            
            // æ·»åŠ æƒ…ç»ª
            if (selected.emotions.length > 0) {
                const englishEmotions = selected.emotions.map(e => translations[e] || e);
                prompt += `${englishEmotions.join(', ')}, `;
            }
            
            // æ·»åŠ èŠ‚æ‹
            if (selected.beats.length > 0) {
                const englishBeats = selected.beats.map(b => translations[b] || b);
                prompt += `with ${englishBeats.join(', ')}, `;
            }
            
            // æ·»åŠ ä¹å™¨ï¼ˆåˆå¹¶æ™®é€šä¹å™¨å’Œä¸­å›½ä¹å™¨ï¼‰
            const allInstruments = [
                ...selected.instruments,
                ...selected.chineseInstruments
            ];
            if (allInstruments.length > 0) {
                const englishInstruments = allInstruments.map(i => translations[i] || i);
                prompt += `featuring ${englishInstruments.join(', ')}, `;
            }
            
            // æ·»åŠ æ—‹å¾‹ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.melodies.length > 0 && appState.expertMode) {
                const englishMelodies = selected.melodies.map(m => translations[m] || m);
                prompt += `with melodic characteristics of ${englishMelodies.join(', ')}, `;
            }
            
            // æ·»åŠ å’Œå£°ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.harmonies.length > 0 && appState.expertMode) {
                const englishHarmonies = selected.harmonies.map(h => translations[h] || h);
                prompt += `employing harmonies of ${englishHarmonies.join(', ')}, `;
            }
            
            // æ·»åŠ èŠ‚å¥ç±»å‹ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.rhythms.length > 0 && appState.expertMode) {
                const englishRhythms = selected.rhythms.map(r => translations[r] || r);
                prompt += `with rhythmic characteristics of ${englishRhythms.join(', ')}, `;
            }
            
            // æ·»åŠ æ•ˆæœå™¨ï¼ˆä¸“å®¶å‚æ•°ï¼‰
            if (selected.effects.length > 0 && appState.expertMode) {
                const englishEffects = selected.effects.map(e => translations[e] || e);
                prompt += `adding effects like ${englishEffects.join(', ')}, `;
            }
            
            // æ·»åŠ äººå£°é£æ ¼
            if (selected.vocalStyles.length > 0) {
                const englishVocals = selected.vocalStyles.map(v => translations[v] || v);
                prompt += `with ${englishVocals.join(', ')}, `;
            }
            
            // æ·»åŠ è¯­ç§
            if (selected.languages.length > 0) {
                const englishLanguages = selected.languages.map(l => translations[l] || l);
                prompt += `sung in ${englishLanguages.join(', ')}, `;
            }
            
            // æ·»åŠ æ­Œæ›²ç»“æ„
            if (selected.structures.length > 0) {
                const englishStructures = selected.structures.map(s => translations[s] || s);
                prompt += `using ${englishStructures.join(', ')} structure.`;
            }
            
            // å¤„ç†ç»“å°¾æ ‡ç‚¹
            if (prompt.endsWith(', ')) {
                prompt = prompt.slice(0, -2) + '.';
            }
            
            // æ·»åŠ è‡ªå®šä¹‰è¦æ±‚ - æ¸…ç†å’Œç¿»è¯‘ä¸­æ–‡è‡ªå®šä¹‰æ–‡æœ¬
            if (appState.customText.trim()) {
                let customTextEN = appState.customText;
                
                // ç§»é™¤å¸¸è§çš„ä¸­æ–‡æŒ‡å¯¼å‰ç¼€
                const prefixes = [
                    "ä½œä¸ºä¸“ä¸šæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼š",
                    "ä½œä¸ºprofessional singerï¼Œæˆ‘å»ºè®®ï¼š",
                    "ä½œä¸ºæ­Œæ‰‹ï¼Œæˆ‘å»ºè®®ï¼š",
                    "ä¸“ä¸šæ­Œæ‰‹å»ºè®®ï¼š",
                    "åˆ›ä½œå»ºè®®ï¼š",
                    "åˆ¶ä½œå»ºè®®ï¼š"
                ];
                
                for (const prefix of prefixes) {
                    if (customTextEN.includes(prefix)) {
                        customTextEN = customTextEN.replace(prefix, "");
                    }
                }
                
                // ç¿»è¯‘å¸¸è§çš„ä¸­æ–‡éŸ³ä¹æœ¯è¯­
                const musicTermTranslations = {
                    "æ··éŸ³": "mixing",
                    "äººå£°": "vocals",
                    "ä¹å™¨": "instruments",
                    "å¹³è¡¡": "balance",
                    "æ·»åŠ æ··å“": "add reverb",
                    "ç©ºé—´æ„Ÿ": "sense of space",
                    "ä¸è¦è¿‡åº¦": "don't overdo it",
                    "å‰å¥": "intro",
                    "ä¸»æ­Œ": "verse",
                    "å‰¯æ­Œ": "chorus",
                    "æ¡¥æ®µ": "bridge",
                    "é—´å¥": "interlude",
                    "å°¾å¥": "outro",
                    "æƒ…æ„Ÿ": "emotion",
                    "èŠ‚å¥": "rhythm",
                    "æ—‹å¾‹": "melody",
                    "å’Œå£°": "harmony",
                    "ç¼–æ›²": "arrangement",
                    "éŸ³è‰²": "timbre",
                    "åŠ¨æ€": "dynamics",
                    "å¼ åŠ›": "tension",
                    "é‡Šæ”¾": "release",
                    "å±‚æ¬¡": "layers",
                    "é¥±æ»¡": "full",
                    "æ¸…æ™°": "clear",
                    "æ¸©æš–": "warm",
                    "æ˜äº®": "bright",
                    "æŸ”å’Œ": "soft",
                    "å¼ºçƒˆ": "strong",
                    "ç»†è…»": "delicate",
                    "æ¸©æŸ”": "gentle",
                    "çˆ†å‘åŠ›": "explosive power",
                    "å³å…´": "improvisation",
                    "é‡å¤": "repetition",
                    "å˜åŒ–": "variation",
                    "å¯¹æ¯”": "contrast"
                };
                
                // ç®€å•çš„ç¿»è¯‘æ›¿æ¢
                for (const [ch, en] of Object.entries(musicTermTranslations)) {
                    customTextEN = customTextEN.replace(new RegExp(ch, 'g'), en);
                }
                
                // æ¸…ç†å¤šä½™çš„ç©ºæ ¼å’Œæ ‡ç‚¹
                customTextEN = customTextEN.trim();
                
                // å¦‚æœç¿»è¯‘åè¿˜æœ‰å†…å®¹ï¼Œæ·»åŠ åˆ°æç¤ºä¸­
                if (customTextEN.length > 0) {
                    prompt += ` ${customTextEN}.`;
                }
            }
            
            // æ·»åŠ éŸ³é¢‘è´¨é‡ã€åŠ¨æ€èŒƒå›´ã€æ—¶é•¿å’Œæ ¼å¼å‚æ•°
            prompt += ` The track should be in ${translations[appState.audioQuality] || appState.audioQuality}, with ${translations[appState.dynamicRange] || appState.dynamicRange}, ${translations[appState.songDuration] || appState.songDuration} long, and output in ${translations[appState.outputFormat] || appState.outputFormat} format.`;
            
            return prompt;
        }

        // æ£€æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆé€‰æ‹©
        function hasValidSelection() {
            const selected = appState.selectedOptions;
            for (const category in selected) {
                if (selected[category].length > 0) {
                    return true;
                }
            }
            return false;
        }

        // æ›´æ–°å·²é€‰å‚æ•°æ¦‚è§ˆ
        function updateSelectedOverview() {
            const selected = appState.selectedOptions;
            const overviewElement = document.getElementById('selectedOverview');
            
            let overviewHTML = '';
            let hasContent = false;
            
            // åŸºç¡€å‚æ•°
            const baseCategories = ['musicStyles', 'emotions', 'beats', 'instruments'];
            baseCategories.forEach(category => {
                if (selected[category].length > 0) {
                    hasContent = true;
                    const categoryName = getCategoryName(category);
                    // åªæ˜¾ç¤ºå‰ä¸¤ä¸ªé¡¹ç›®
                    const displayItems = selected[category].slice(0, 2);
                    overviewHTML += `<div class="mb-3">`;
                    overviewHTML += `<div class="font-medium text-neutral-700 text-xs mb-1">${categoryName}</div>`;
                    overviewHTML += `<div class="text-xs text-neutral-500 truncate flex flex-wrap gap-1">`;
                    displayItems.forEach(item => {
                        // æå–ä¸­æ–‡éƒ¨åˆ†
                        const chineseText = item.match(/(.*?)\s*\(/) ? item.match(/(.*?)\s*\(/)[1] : item.split(' ')[0];
                        overviewHTML += `<span class="bg-neutral-100 px-2 py-1 rounded">${chineseText}</span>`;
                    });
                    if (selected[category].length > 2) {
                        overviewHTML += `<span class="bg-neutral-100 px-2 py-1 rounded">+${selected[category].length-2}</span>`;
                    }
                    overviewHTML += `</div>`;
                    overviewHTML += `</div>`;
                }
            });
            
            // ä¸“å®¶å‚æ•°ï¼ˆå¦‚æœå¼€å¯äº†ä¸“å®¶æ¨¡å¼ï¼‰
            if (appState.expertMode) {
                const expertCategories = ['melodies', 'harmonies', 'rhythms', 'effects', 'chineseInstruments', 'vocalStyles', 'languages', 'structures'];
                expertCategories.forEach(category => {
                    if (selected[category] && selected[category].length > 0) {
                        hasContent = true;
                        const categoryName = getCategoryName(category);
                        // åªæ˜¾ç¤ºç¬¬ä¸€ä¸ªé¡¹ç›®
                        const displayItem = selected[category][0];
                        overviewHTML += `<div class="mb-3">`;
                        overviewHTML += `<div class="font-medium text-neutral-700 text-xs mb-1 flex items-center gap-1">`;
                        overviewHTML += `<i class="fa fa-flask text-expert text-xs"></i>`;
                        overviewHTML += `<span>${categoryName}</span>`;
                        overviewHTML += `</div>`;
                        overviewHTML += `<div class="text-xs text-neutral-500 truncate flex flex-wrap gap-1">`;
                        // æå–ä¸­æ–‡éƒ¨åˆ†
                        const chineseText = displayItem.match(/(.*?)\s*\(/) ? displayItem.match(/(.*?)\s*\(/)[1] : displayItem.split(' ')[0];
                        overviewHTML += `<span class="bg-expert/10 text-expert-dark px-2 py-1 rounded">${chineseText}</span>`;
                        if (selected[category].length > 1) {
                            overviewHTML += `<span class="bg-expert/10 text-expert-dark px-2 py-1 rounded">+${selected[category].length-1}</span>`;
                        }
                        overviewHTML += `</div>`;
                        overviewHTML += `</div>`;
                    }
                });
            }
            
            if (appState.customText.trim()) {
                hasContent = true;
                overviewHTML += `<div class="mb-3">`;
                overviewHTML += `<div class="font-medium text-neutral-700 text-xs mb-1">çµæ„Ÿæè¿°</div>`;
                overviewHTML += `<div class="text-xs text-neutral-500 truncate">${appState.customText.substring(0, 40)}${appState.customText.length > 40 ? '...' : ''}</div>`;
                overviewHTML += `</div>`;
            }
            
            if (!hasContent) {
                overviewHTML = '<p class="text-neutral-400 italic text-sm">å°šæœªé€‰æ‹©ä»»ä½•å‚æ•°</p>';
            }
            
            overviewElement.innerHTML = overviewHTML;
        }

        // è·å–ç±»åˆ«åç§°
        function getCategoryName(category) {
            const names = {
                musicStyles: 'éŸ³ä¹é£æ ¼',
                emotions: 'æƒ…ç»ªæ°›å›´',
                beats: 'èŠ‚æ‹èŠ‚å¥',
                instruments: 'ä¹å™¨é…ç½®',
                melodies: 'æ—‹å¾‹ç±»å‹',
                harmonies: 'å’Œå£°ç±»å‹',
                rhythms: 'èŠ‚å¥ç±»å‹',
                effects: 'æ°›å›´æ•ˆæœ',
                chineseInstruments: 'ä¸­å›½é£ä¹å™¨',
                vocalStyles: 'äººå£°é£æ ¼',
                languages: 'è¯­ç§ç§ç±»',
                structures: 'æ­Œæ›²ç»“æ„'
            };
            return names[category] || category;
        }

        // å¤åˆ¶è‹±æ–‡æç¤ºè¯ï¼ˆé»˜è®¤ï¼‰
        function copyEnglishPrompt() {
            const englishPrompt = generateEnglishPrompt();
            
            if (!englishPrompt || englishPrompt.includes("Please select")) {
                showToast('è¯·å…ˆé€‰æ‹©å‚æ•°ç”Ÿæˆæç¤ºè¯', 'warning');
                return;
            }
            
            navigator.clipboard.writeText(englishPrompt).then(() => {
                showCopySuccess('è‹±æ–‡æç¤ºè¯');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            });
        }

        // å¤åˆ¶å•ä¸ªæç¤ºè¯
        function copySinglePrompt(lang) {
            let textToCopy = '';
            
            if (lang === 'en') {
                textToCopy = generateEnglishPrompt();
            } else if (lang === 'zh') {
                textToCopy = generateChinesePrompt();
            } else if (lang === 'both') {
                const chinesePrompt = generateChinesePrompt();
                const englishPrompt = generateEnglishPrompt();
                textToCopy = `=== ENGLISH PROMPT ===\n${englishPrompt}\n\n=== ä¸­æ–‡æç¤ºè¯ ===\n${chinesePrompt}`;
            }
            
            if (!textToCopy || textToCopy.includes("è¯·ä»å·¦ä¾§é€‰æ‹©") || textToCopy.includes("Please select")) {
                showToast('è¯·å…ˆé€‰æ‹©å‚æ•°ç”Ÿæˆæç¤ºè¯', 'warning');
                return;
            }
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                showCopySuccess(lang === 'en' ? 'è‹±æ–‡æç¤ºè¯' : lang === 'zh' ? 'ä¸­æ–‡æç¤ºè¯' : 'åŒè¯­æç¤ºè¯');
            }).catch(err => {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                showToast('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
            });
        }

        // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
        function showCopySuccess(type = 'è‹±æ–‡æç¤ºè¯') {
            const copySuccess = document.getElementById('copySuccess');
            copySuccess.querySelector('span').textContent = `å·²æˆåŠŸå¤åˆ¶${type}ï¼`;
            copySuccess.classList.remove('hidden');
            copySuccess.classList.add('animate-fade-in');
            
            setTimeout(() => {
                copySuccess.classList.add('hidden');
                copySuccess.classList.remove('animate-fade-in');
            }, 3000);
        }

        // ä¿å­˜åˆ°å†å²è®°å½•
        function saveToHistory(chinesePrompt, englishPrompt) {
            const historyItem = {
                id: Date.now(),
                timestamp: new Date().toLocaleString('zh-CN', { 
                    month: 'short', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                }),
                chinese: chinesePrompt.substring(0, 80) + (chinesePrompt.length > 80 ? '...' : ''),
                english: englishPrompt.substring(0, 80) + (englishPrompt.length > 80 ? '...' : ''),
                fullChinese: chinesePrompt,
                fullEnglish: englishPrompt
            };
            
            appState.history.unshift(historyItem);
            
            // åªä¿ç•™æœ€è¿‘10æ¡è®°å½•
            if (appState.history.length > 10) {
                appState.history = appState.history.slice(0, 10);
            }
            
            localStorage.setItem('mountainMusicHistory', JSON.stringify(appState.history));
        }

        // åŠ è½½å†å²è®°å½•
        function loadHistory() {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            if (appState.history.length === 0) {
                historyList.innerHTML = '<p class="text-neutral-400 italic text-sm">æš‚æ— å†å²è®°å½•</p>';
                return;
            }
            
            appState.history.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-neutral-50 rounded-lg hover:bg-neutral-100 cursor-pointer transition-all-custom';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="text-xs font-medium text-neutral-700">${item.timestamp}</div>
                        <div class="flex gap-2">
                            <button class="copy-history-btn px-2 py-1 bg-primary/10 text-primary text-xs rounded hover:bg-primary/20 transition-all-custom" data-index="${index}" data-lang="en">
                                <i class="fa fa-copy text-xs"></i>
                            </button>
                            <button class="load-history-btn px-2 py-1 bg-accent/10 text-accent text-xs rounded hover:bg-accent/20 transition-all-custom" data-index="${index}">
                                <i class="fa fa-reply text-xs"></i>
                            </button>
                        </div>
                    </div>
                    <div class="text-xs text-neutral-600 truncate">${item.chinese}</div>
                `;
                historyList.appendChild(div);
                
                // æ·»åŠ äº‹ä»¶ç›‘å¬
                div.querySelector('.copy-history-btn').addEventListener('click', function(e) {
                    e.stopPropagation();
                    const index = parseInt(this.getAttribute('data-index'));
                    const lang = this.getAttribute('data-lang');
                    copyHistoryItem(index, lang);
                });
                
                div.querySelector('.load-history-btn').addEventListener('click', function(e) {
                    e.stopPropagation();
                    const index = parseInt(this.getAttribute('data-index'));
                    loadHistoryItem(index);
                });
            });
        }

        // å¤åˆ¶å†å²è®°å½•é¡¹
        function copyHistoryItem(index, lang) {
            const item = appState.history[index];
            if (!item) return;
            
            const textToCopy = lang === 'en' ? item.fullEnglish : item.fullChinese;
            navigator.clipboard.writeText(textToCopy).then(() => {
                showToast('å·²å¤åˆ¶å†å²è®°å½•', 'success');
            });
        }

        // åŠ è½½å†å²è®°å½•é¡¹
        function loadHistoryItem(index) {
            const item = appState.history[index];
            if (!item) return;
            
            // è¿™é‡Œå¯ä»¥æ·»åŠ åŠ è½½å†å²è®°å½•çš„é€»è¾‘
            // ç”±äºå†å²è®°å½•åªä¿å­˜äº†æç¤ºè¯æ–‡æœ¬ï¼Œä¸ä¿å­˜å…·ä½“é€‰é¡¹ï¼Œæ‰€ä»¥è¿™é‡Œåªæ˜¾ç¤ºæç¤ºè¯
            document.getElementById('chinesePreview').innerHTML = formatPromptForDisplay(item.fullChinese);
            document.getElementById('englishPreview').innerHTML = formatEnglishPromptForDisplay(item.fullEnglish);
            
            showToast('å·²åŠ è½½å†å²è®°å½•', 'info');
        }

        // æ¸…ç©ºå†å²è®°å½•
        function clearHistory() {
            appState.history = [];
            localStorage.setItem('mountainMusicHistory', JSON.stringify(appState.history));
            loadHistory();
            showToast('å†å²è®°å½•å·²æ¸…ç©º', 'info');
        }

        // æ¸…ç©ºæ‰€æœ‰é€‰æ‹©
        function clearAllSelections(showToast = true) {
            // æ¸…ç©ºçŠ¶æ€
            for (const category in appState.selectedOptions) {
                appState.selectedOptions[category] = [];
            }
            
            // æ¸…ç©ºå¤é€‰æ¡†
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            // æ¸…ç©ºè‡ªå®šä¹‰è¾“å…¥
            document.getElementById('customInput').value = '';
            appState.customText = '';
            updateCharCount();
            
            // é‡ç½®è¿›é˜¶è®¾ç½®
            appState.audioQuality = "é«˜ä¿çœŸï¼Œä¸“ä¸šçº§æ··éŸ³";
            appState.dynamicRange = "ä¸°å¯Œï¼Œæœ‰æ˜æ˜¾çš„æƒ…æ„Ÿèµ·ä¼";
            appState.songDuration = "3-4åˆ†é’Ÿ";
            appState.outputFormat = "ç«‹ä½“å£°WAV/é«˜è´¨é‡MP3";
            
            document.getElementById('audioQuality').value = appState.audioQuality;
            document.getElementById('dynamicRange').value = appState.dynamicRange;
            document.getElementById('songDuration').value = appState.songDuration;
            document.getElementById('outputFormat').value = appState.outputFormat;
            
            // æ¸…ç©ºé¢„è®¾é€‰æ‹©
            document.querySelectorAll('.preset-card').forEach(card => {
                card.classList.remove('selected');
            });
            appState.currentPreset = null;
            
            // æ›´æ–°UI
            for (const category in musicData) {
                updateOptionCount(category);
            }
            
            updatePreview();
            updateSelectedOverview();
            
            if (showToast) {
                showToast('å·²æ¸…ç©ºæ‰€æœ‰é€‰æ‹©', 'info');
            }
        }

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStats() {
            document.getElementById('totalGenerations').textContent = appState.totalGenerations;
            document.getElementById('totalGenerationsFooter').textContent = appState.totalGenerations;
            document.getElementById('totalPresets').textContent = stylePresets.length;
        }

        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message, type = 'info') {
            // åˆ›å»ºToastå…ƒç´ 
            const toast = document.createElement('div');
            toast.className = `fixed top-6 right-6 px-5 py-3 rounded-xl shadow-elegant z-50 flex items-center gap-3 transition-all-custom transform translate-x-full animate-slide-up`;
            
            // æ ¹æ®ç±»å‹è®¾ç½®é¢œè‰²
            if (type === 'success') {
                toast.classList.add('bg-green-100', 'text-green-800', 'border', 'border-green-200');
                toast.innerHTML = `<i class="fa fa-check-circle text-lg text-green-600"></i> <span class="font-medium">${message}</span>`;
            } else if (type === 'error') {
                toast.classList.add('bg-red-100', 'text-red-800', 'border', 'border-red-200');
                toast.innerHTML = `<i class="fa fa-exclamation-circle text-lg text-red-600"></i> <span class="font-medium">${message}</span>`;
            } else if (type === 'warning') {
                toast.classList.add('bg-yellow-100', 'text-yellow-800', 'border', 'border-yellow-200');
                toast.innerHTML = `<i class="fa fa-exclamation-triangle text-lg text-yellow-600"></i> <span class="font-medium">${message}</span>`;
            } else {
                toast.classList.add('bg-blue-100', 'text-blue-800', 'border', 'border-blue-200');
                toast.innerHTML = `<i class="fa fa-info-circle text-lg text-blue-600"></i> <span class="font-medium">${message}</span>`;
            }
            
            document.body.appendChild(toast);
            
            // æ˜¾ç¤ºToast
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
                toast.classList.add('translate-x-0');
            }, 10);
            
            // 3ç§’åéšè—å¹¶ç§»é™¤Toast
            setTimeout(() => {
                toast.classList.remove('translate-x-0');
                toast.classList.add('translate-x-full');
                
                setTimeout(() => {
                    if (toast.parentNode) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        // ä¸“ä¸šéšæœºæç¤ºçš„toast
        function showRandomToast(message, type = 'success') {
            // åˆ›å»ºä¸“ä¸šé£æ ¼çš„toast
            const toast = document.createElement('div');
            toast.className = `fixed top-6 right-6 px-6 py-4 rounded-xl shadow-elegant-lg z-50 flex items-center gap-4 transition-all-custom transform translate-x-full animate-slide-up`;
            
            if (type === 'success') {
                toast.classList.add('bg-gradient-to-r', 'from-primary/95', 'to-secondary/95', 'text-white');
                toast.innerHTML = `
                    <div class="p-2 bg-white/20 rounded-full animate-spin-slow">
                        <i class="fa fa-random text-lg"></i>
                    </div>
                    <div>
                        <div class="font-bold text-sm">ğŸµ æ™ºèƒ½éšæœºç”Ÿæˆ</div>
                        <div class="text-white/90 text-sm">${message}</div>
                    </div>
                `;
            }
            
            document.body.appendChild(toast);
            
            // æ˜¾ç¤ºToast
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
                toast.classList.add('translate-x-0');
            }, 10);
            
            // 4ç§’åéšè—å¹¶ç§»é™¤Toast
            setTimeout(() => {
                toast.classList.remove('translate-x-0');
                toast.classList.add('translate-x-full');
                
                setTimeout(() => {
                    if (toast.parentNode) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 4000);
        }

        // ä¸“å®¶æç¤ºçš„toast
        function showExpertToast(message, type = 'success') {
            // åˆ›å»ºä¸“å®¶é£æ ¼çš„toast
            const toast = document.createElement('div');
            toast.className = `fixed top-6 right-6 px-6 py-4 rounded-xl shadow-expert z-50 flex items-center gap-4 transition-all-custom transform translate-x-full animate-slide-up`;
            
            if (type === 'success') {
                toast.classList.add('bg-gradient-to-r', 'from-expert/95', 'to-primary/95', 'text-white');
                toast.innerHTML = `
                    <div class="p-2 bg-white/20 rounded-full">
                        <i class="fa fa-flask text-lg"></i>
                    </div>
                    <div>
                        <div class="font-bold text-sm">ğŸ¼ ä¸“å®¶çº§éšæœºç”Ÿæˆ</div>
                        <div class="text-white/90 text-sm">${message}</div>
                    </div>
                `;
            }
            
            document.body.appendChild(toast);
            
            // æ˜¾ç¤ºToast
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
                toast.classList.add('translate-x-0');
            }, 10);
            
            // 4ç§’åéšè—å¹¶ç§»é™¤Toast
            setTimeout(() => {
                toast.classList.remove('translate-x-0');
                toast.classList.add('translate-x-full');
                
                setTimeout(() => {
                    if (toast.parentNode) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 4000);
        }
    </script>
</body>
</html>